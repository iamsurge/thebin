local seed = (math.random() - .5)*2^256
local IT_X = 50
local IT_Z = 50
local size = Vector3.new(4, 1, 4)
local snow = 7/8
local rock = 5/8
local sand = 2/8
local terrain = true
local amplitude = 20
local detail = 10
local offset = Vector3.new(0, 2, 0)

function color(noise)
    
end

function MakeTheStuff(xpos, zpos)
    local noise = math.clamp(math.noise(xpos/detail + seed, zpos/detail + seed) + .5, 0, 1)*amplitude
    local part = Instance.new("SpawnLocation", script)
    part.Size = Vector3.new(size.X, noise, size.Z)
    part.Position = Vector3.new(xpos, noise/2, zpos)*size + offset
end

function run(xpos, zpos)
    local s, e = pcall(function() MakeTheStuff(xpos, zpos) end)
    if e then
        task.wait()
        run(xpos, zpos)
    end
end

for x = 1,IT_X do
    for z = 1,IT_Z do
        run(x, z)
    end
    task.wait(.1)
end