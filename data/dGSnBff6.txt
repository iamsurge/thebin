print(
    """
    Totalização Simples de Vendas de Produtos

    Davi Fernandes Horiuti
    Demetrius Rafael Tonin Ferreira
    Rafael Castilho Moreno
    Tiago Pedro de Santana Júnior
    """
)

CODIGO_MIN = 10_000
CODIGO_MAX = 21_000

# Criando uma lista para armazenar as respectivas vendas totais.
# Ela conterá um elemento inicializado em zero
# para cada possível valor de código dos produtos,
# fazendo as vezes de uma tabela de espalhamento mais bem estrututrada.
dados_de_vendas = [0] * (CODIGO_MAX - CODIGO_MIN + 1)

total_vendido = 0

with open("vendas.txt") as vendas:
    for linha in vendas:
        codigo, quantidade, preco = linha.split(";")

        codigo     = int(codigo)
        quantidade = int(quantidade)
        preco      = float(preco)

        total_vendido += quantidade * preco

        # Como a lista tem um elemento para cada código,
        # o pareamento "código" -> "montante das vendas" se dá pela
        # indexação da lista com base no número do código menos
        # o valor mínimo que esse pode assumir.
        dados_de_vendas[codigo - CODIGO_MIN] += quantidade * preco


print(f"Total geral vendido: R$ {total_vendido:.2f}\n")

while (consulta := int(input("Digite o código: "))):

    if CODIGO_MIN <= consulta <= CODIGO_MAX:
        print(f"Total vendido do produto {consulta} = R$ {dados_de_vendas[consulta - CODIGO_MIN]:.2f}\n")

    else:
        print(f"{consulta} Código inválido (deve ser entre {CODIGO_MIN} e {CODIGO_MAX})\n")

print("Fim do programa")
