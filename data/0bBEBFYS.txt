//macro.hpp
#define REGISTER_MODULE_INITIALIZER( Type ) \
namespace module_registrator { \
void Type##__Register() \
{ \
} \
}

//test.cpp
#include <iostream>
#include <macro.hpp>

namespace something
{
class MyClass
{
};

REGISTER_MODULE_INITIALIZER( MyClass );
}
}
