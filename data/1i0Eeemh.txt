#include <bits/stdc++.h> 
int differentBitsSumPairwise(vector<int> &arr, int n)
{
    int freq[32]{};
    for (int i = 0; i < n; i++) {
        int j = 0;
        while (arr[i]) {
            freq[j] += (arr[i] & 1);
            j++;
            arr[i] /= 2;
        }
    }
    int ans = 0;
    constexpr int MOD = 1e9 + 7;
    for (int i = 0; i < 32; i++) {
        ans += freq[i] * (n - freq[i]);
        ans %= MOD;
    }
    return (ans * 2) % MOD;   
}