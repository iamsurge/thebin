for (int i = n; i >= 1; --i) {
        if (vec[i].left >= 1 && vec[i].right >= 1)
            vec[i].count += 1 + max(vec[vec[i].left].count, vec[vec[i].right].count);
        else if (vec[i].left >= 1) {
            vec[i].count += 1 + vec[vec[i].left].count;
        }
        else if (vec[i].right >= 1) {
            vec[i].count += 1 + vec[vec[i].right].count;
        }
    }