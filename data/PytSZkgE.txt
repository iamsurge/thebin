#include <stdio.h>
#include <stdlib.h>
typedef struct
{
    double a, b;
} Complex;

typedef struct
{
    Complex *vector;
    int nr_elemente;
} VectorComplex;

VectorComplex citire(FILE *f)
{
    VectorComplex lista;
    int i;
    fscanf(f, "%d", &lista.nr_elemente);
    lista.vector = (Complex*)malloc(sizeof(Complex) * lista.nr_elemente);
    if(lista.vector == NULL)
    {
        printf("Eroare la alocare");
        exit(-1);  //Tratarea erorilor in C, mare PITA
    }
    for(i=0; i<lista.nr_elemente; i++)
    {
        fscanf(f, "%lf", &lista.vector[i].a);
        fscanf(f, "%lf", &lista.vector[i].b);
    }
    return lista;
}


int main()
{
    FILE*f = fopen("in.txt","r");
    if(f==NULL)
    {
        printf("Nu pot deschide");
        return -1;
    }
    int n, i;
    VectorComplex lista_main;
    Complex c;
    Complex *tabel;
    lista_main = citire(f);

    /*  // De la iteratia anterioara.
        fscanf(f, "%d", &lista.nr_elemente);
        lista.vector = (Complex*)malloc(sizeof(Complex) * lista.nr_elemente);
        if(lista.vector == NULL){
            printf("Eroare la alocare");
            return -2;
        }
        for(i=0;i<lista.nr_elemente;i++){
            fscanf(f, "%lf", &lista.vector[i].a);
            fscanf(f, "%lf", &lista.vector[i].b);
        }
    */

    free(lista_main.vector);
    fclose(f);
    return 0;
}

/* in.txt
3
2.5 100
3.5 100
4.5 200
*/
