from django.db.models import Q

class SearchView(generic.ListView):
    model = Products
    template_name = 'product/search_results.html'

    def get_queryset(self):
        query = self.request.GET.get("q")
        object_list = Products.objects.filter(Q(name__icontains=query))
        return object_list