#include <cstdlib>
#include <ctime>
#include <iostream>

using namespace std;

const short N = 6;
const short L = 49;

bool czy_juz_jest(short* tablica, short liczba, short n)    // n - okreœla ile pierwszych pozycji w tablicy nale¿y sprawdziæ
{
    for(short i = 0; i < n; ++i)
        if(tablica[i] == liczba)
            return true;
    return false;
}

void wytypuj(short* tablica)
{
    cout << "Podaj " << N << " roznych liczb z przedzialu od 1 do " << L << ":\n";
    short nowa;
    for(short i = 0; i < N; ++i)
    {
        cin >> nowa;
        if(nowa < 1 || nowa > L)
        {
            cout << "Liczba musi sie miescic w przedziale od 1 do " << L << ". Wpisz jeszcze raz: ";
            --i;
            continue;
        }
        if(czy_juz_jest(tablica, nowa, i))
        {
            cout << "Ta liczba zostala juz wytypowana. Wpisz inna: ";
            --i;
            continue;
        }
        tablica[i] = nowa;
    }
}

void wypelnij(short* tablica)
{
    short losowana;
    for(short i = 0; i < N; ++i)
    {
        do
        {
            losowana = 1 + rand() % L;
        } while(czy_juz_jest(tablica, losowana, i));        // i - okreœla ile liczb ju¿ zosta³o wylosowanych (i wypisanych do tablicy)
        tablica[i] = losowana;
    }
}

void wypisz(short* tablica)
{
    for(short i = 0; i < N; ++i)
        cout << tablica[i] << '\t';
    cout << endl;
}

void sortuj(short* tablica)
{
    bool flaga = false;
    for(short i = 0; i < N - 1; ++i)        // i - określa ile liczb jest na swoim miejscu (posortowanych)
    {
        if(flaga)
            return;
        flaga = true;
        for(short j = 0; j < N - i - 1; ++j)    // j - numer elementu tablicy
            if(tablica[j] > tablica[j + 1])
            {
                swap(tablica[j], tablica[j + 1]);
                flaga = false;
            }
    }
}

short ile(short* A, short* B)
{
    short wynik = 0;
    for(short i = 0; i < N; ++i)
        if(czy_juz_jest(A, B[i], N))
            ++wynik;
    return wynik;
}

int main()
{
    srand(time(nullptr));
    short tablica[N];
    short uzytkownika[N];
    wytypuj(uzytkownika);
    sortuj(uzytkownika);
    wypelnij(tablica);
    sortuj(tablica);
    system("cls");
    cout << "Twoje liczby:\n\t";
    wypisz(uzytkownika);
    cout << "Liczby wylosowane:\n\t";
    wypisz(tablica);
    short n = ile(tablica, uzytkownika);

    if(n == 0)
        cout << "\nNie udalo Ci sie poprawnie wytypowac zadnej liczby :(\n";
    else
        cout << "\nUdalo Ci sie poprawnie wytypowac " << n << " liczb.\n";
    if(n > 2)
        cout << "Gratulacje :)\n";
    return 0;
}