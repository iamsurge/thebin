#include <stdio.h>
#include <string.h>

int main() {
	long long g, p, n;
	scanf("%lld%lld%lld", &g, &p, &n);
	char binary_form_p[65] = {'\0'}, temp[2];
	while (p > 0) {
		int bd = p & 1;
		if (bd == 1)
			temp[0] = '1';
		else
			temp[0] = '0';
		temp[1] = '\0';
		strcat(binary_form_p, temp);
		p >>= 1;
	}
	int length = strlen(binary_form_p);
	for (int i = 0; i < length / 2; i++) {
		char extra = binary_form_p[i];
		binary_form_p[i] = binary_form_p[length - 1 - i];
		binary_form_p[length - 1 - i] = extra;
	}
	long long ans = 1LL;
	for (int i = 0; i < length; i++) {
		ans = ans * ans % n;
		if (binary_form_p[i] == '1')
			ans = ans * g % n;
		printf("%c %lld\n", binary_form_p[i], ans);
	}

	return 0;
}