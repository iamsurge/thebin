#include <iostream>
#include<fstream>

using namespace std;

struct Manga
{
  string titolo="";
  string categoria="";

  int costo=0;

};

void stampa(Manga *p, int letti)
{
  for (int i=0; i<letti; i++)
    cout << "Titolo: " << p[i].titolo << "  "
         << "Categoria: " << p[i].categoria << "  "
         << "Costo: " << p[i].costo << endl;
}

int main()
{
//    Manga *p = new Manga;
//
//    p[0].titolo = "Dragonball";
//
//    (*p).categoria = "Shounen";
//
//     p->costo = 12;
//

  ifstream leggi("dati_manga.txt");

  //recuperiamo dalla prima riga il numero dei manga
  string riga="";
  getline(leggi, riga);
  int quanti = stoi(riga);

  //allochiamo un array di struct adeguato al numero letto
  Manga *p = new Manga[quanti];

  int letti=0;
  while ( letti<quanti && getline(leggi, p[letti].titolo) )
  {
    getline(leggi, p[letti].categoria);

    getline(leggi, riga);
    p[letti].costo = stoi(riga);

    letti++;
  }

  stampa(p, letti);
  
  leggi.close(); leggi.clear();
  
  delete[] p;
  
  




    return 0;
}
