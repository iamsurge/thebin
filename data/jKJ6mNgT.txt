--Turtle Swarm Mining: Lead Turtle Version

--Defines X Coordinates of Holes
holesX = {1, 0, 4, 3, 2, 1, 0, 6, 5, 4, 3, 2, 1, 0, 9, 8, 7, 6, 5, 4, 3, 2, 11, 10, 9, 8, 7, 6, 5, 4, 14, 13, 12, 11, 10, 9, 8, 7, 15, 14, 13, 12, 11, 10, 9, 15, 14, 13, 12, 15, 14}

--Defines Y Coordinates of Holes
holesY = {1, 3, 0, 2, 4, 6, 8, 13, 5, 7, 9, 11, 13, 0, 2, 4, 6, 8, 10, 12, 14, 1, 3, 5, 7, 9, 11, 13, 15, 0, 2, 4, 6, 8, 10, 12, 14, 3, 5, 7, 9, 11, 13, 15, 8, 10, 12, 14, 13, 15}

--Defines Current Hole
local currentHole = 1

--Transmits data over channel
function transmit(channel, data)
	m.transmit(channel, 1, data)
end

--Waits for a message on specified channel, then returns said message
function listen(channel)
	m.open(channel)
	_,_,_,_,data,_ = os.pullEvent("modem_message")
	return data
end

--Returns the next available hole
function nextHole()
	currentHole = currentHole + 1
	return currentHole
end

--End of variable/function definition

--Places down all the worker turtles, and gives them their starting holes
for i=4, 16 do 
	turtle.select(i)
	turtle.placeDown()
	repeat
		transmit(1, currentHole)
	until turtle.detectDown()==false
	nextHole()
	os.sleep(1)
end



	