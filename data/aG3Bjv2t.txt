using System;
using System.Drawing;
using System.Windows.Forms;

namespace RotatingRectangle
{
    public class DrawingForm : Form
    {
        private const int RectangleSize = 50;
        private const int RotationSpeed = 5;

        private int _angle = 0;
        private readonly Timer _timer = new Timer();

        public DrawingForm()
        {
            this.Size = new Size(600, 600);
            this.BackColor = Color.White;
            this.DoubleBuffered = true;
            _timer.Interval = 10;
            _timer.Tick += TimerOnTick;   
            _timer.Start();
        }

        private void TimerOnTick(object sender, EventArgs e)
        {
            _angle = (_angle + RotationSpeed) % 360;
            this.Invalidate();
        }

        protected override void OnPaint(PaintEventArgs e)
        {
            var g = e.Graphics;
            g.Clear(this.BackColor);
            g.Save();
            g.TranslateTransform(this.Width / 2, this.Height / 2);
            g.RotateTransform(_angle);
            g.TranslateTransform(-this.Width / 2, -this.Height / 2);
            g.FillRectangle(Brushes.Red, (this.Width - RectangleSize) / 2, (this.Height - RectangleSize) / 2, RectangleSize, RectangleSize);
            g.Restore();
        }
    }
    static class Program
    {
        [STAThread]
        static void Main()
        {
            var form = new DrawingForm();
            Application.Run(form);
        }
    }
}