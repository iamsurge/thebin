def matrix_sum ():
    with open("matrix.txt") as new_file:
        matrix = to_matrix(new_file)
    result = sum(sum(matrix,[]))

    return result

def matrix_max():
    with open("matrix.txt") as new_file:
        matrix = to_matrix(new_file)
    result = max(map(max, matrix))

    return result

def row_sums():
    with open("matrix.txt") as new_file:
        matrix = to_matrix(new_file)

    result = []
    i = 0
    x = 0
    y = 0    
    while i <= len(matrix)-1:
        y = sum(matrix[x])
        result.append(y)
        i += 1
        x += 1
        y += 1

    return result

def to_matrix(new_file):
    a_list = []
    for line in new_file:
        line = line.replace("\n", "")
        x = line.split(",")
        for element in x:
            y = int(element)
            a_list.append(y)

    matrix = []
    while a_list != []:
        matrix.append(a_list[:15])
        a_list = a_list[15:]    
    return matrix

if __name__ == "__main__":
    mats = matrix_sum()
    print(mats)
    matx = matrix_max()
    print(matx)
    rows = row_sums()
    print(rows)