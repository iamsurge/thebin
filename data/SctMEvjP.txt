u1 = [0 0 0]';
p10 = [0 1 0 1]';
w1 = [0 0 1]';
v1 = -cross(w1,u1)
w1daszek = [0, -1, 0, v1(1); ...
            1, 0, 0, v1(2); ...
            0, 0, 0, v1(3); 
            0, 0, 0, 0];

u2 = [0 0 0]';
p20 = [0 1 0 1]';
w2 = [0 0 1]';
v2 = -cross(w2,u2)
w2daszek = [0, -1, 0, v2(1); ...
            1, 0, 0, v2(2); ...
            0, 0, 0, v2(3); 
            0, 0, 0, 0];

okno = figure(2)
wykres = plot(0,0,'-o')
axis([-4 4 -4 4])
for theta1 = 0:pi/20:2*pi
    theta2 = pi/4;

    A1 = expm(w1daszek*theta1);
    A2 = expm(w2daszek*theta2);

    p1 = A1 * p10;
    p2 = A1 * A2 * p20;
    grid on
    wykres.XData = [0 p1(1) p2(1)];
    wykres.YData = [0 p1(2) p2(2)];
    pause(0.1)
end
