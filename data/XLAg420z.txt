create table productcategory ( productcategorykey number(2), 
                                productcategoryname varchar2(30)
                            ) ;
                            
create table productsubcategory ( productsubcategorykey number(3), 
                                productsubcategoryname varchar2(40)
                            ) ;
                            
create table product ( productkey number(5) constraint product_pk primary key,
                        productcode varchar2(12) constraint product_code_uq unique,
                        productname varchar2(40) constraint product_name_uq unique
                    );
                    
alter table productcategory
    add constraint productcategory_pk primary key (productcategorykey) ;
    
alter table productsubcategory
    add productcategorykey number(2) ;
    
alter table productsubcategory
    add constraint productsubcat_cat_fk foreign key (productcategorykey)
        references productcategory (productcategorykey) ;
        
alter table productsubcategory
    add constraint productsubcategory_pk primary key (productsubcategorykey) ;
    
alter table product 
    add productsubcategorykey number(2) ;
    
alter table product 
    add constraint product_subcategory_fk foreign key (productsubcategorykey)
        references  productsubcategory (productsubcategorykey) ;
        
insert into product values (2, 'code2', 'Name2', 1) ;
insert into productsubcategory values (1, 'subcatkey1', 1) ;
insert into productcategory values (1, 'catkey1') ;

alter table productsubcategory
    enable primary key  ;

alter table product
    enable constraint product_subcategory_fk ;