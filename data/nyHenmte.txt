local success = 0
local failure = 0
local time = 60
local blacklist = {"potion"}

function Cast()
    print('Casting')
    local casted = turtle.attackDown()
    sleep(time)
    return casted
end
function Reel()
    print('Reeling')
    local reeled = turtle.digDown()
    return reeled
end
function Deposit(list)
    local deposit = 0
    local discard = 0
    for i = 1, 16, 1 do
        turtle.select(i)
        local selectedDetail = turtle.getItemDetail()
        if list == nil then --Deposit all
            turtle.drop() --Deposit direction
            deposit = deposit + selectedDetail.count
        else
            for l = 1, table.getn(list), 1 do --WhiteList/BlackList [toggle with comments]
                --WhiteList
                -- if selectedDetail and string.find(selectedDetail.name, list[l]) then
                --     deposit = deposit + selectedDetail.count
                --     turtle.drop() --Deposit direction
                --     break
                -- end

                --BlackList
                if selectedDetail and string.find(selectedDetail.name, list[l]) then --Discard
                    discard = discard + selectedDetail.count
                    turtle.dropUp() --Discard direction
                elseif l == table.getn(list) then --Deposit
                    deposit = deposit + selectedDetail.count
                    turtle.drop() --Deposit direction
                end
            end
        end
    end
    print(deposit, list, 'deposited.')
    print(discard, list, 'discarded.')
end

while true do
    Cast()
    if Reel() == true then success = success + 1 else failure = failure + 1 end

    Deposit(blacklist)

    term.clear()
    term.setCursorPos(1,1)
    print('success: ', success)
    print('failure: ', failure)
end