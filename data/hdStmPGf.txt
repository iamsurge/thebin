#!/bin/bash

ESTIMATESEC=`expr 27 '*' $1`
ESTIMATETIME=`date -u -d @${ESTIMATESEC} +"%T"`
echo "Estimate time is ${ESTIMATETIME}"

STARTTIME=`date`

TIME1=$(cat /proc/uptime | awk '{print $1}')
# echo time1: $TIME1

for i in `seq 1 $1`
do
	echo -e "\n"
	echo "=================== "
	echo "loop number is $i."
	echo "=================== "
	sudo joycontrol-pluginloader -r 20:0B:CF:45:F4:2D plugins/samples/Zoushoku.py
done

TIME2=$(cat /proc/uptime | awk '{print $1}')
# echo time2: $TIME2

ENDTIME=`date`
DIFF=$(echo "$TIME2 - $TIME1" | bc)
ELAPSEDTIME=`date -u -d @${DIFF} +"%T"`
echo "Estimate time is ${ESTIMATETIME}"
echo "Elapsed time is ${ELAPSEDTIME}"

echo "Start ${STARTTIME}"
echo "End ${ENDTIME}"

# start_time='date -d @${start_time_unix}'
# end_time='date -d @${end_time_unix}'
# echo "Start date is $[start_time]"
# echo "End date is $[end_time]"