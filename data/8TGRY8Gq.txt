function FindAndEnableAirGens(onOrOff)
	local sides = peripheral.getNames()
	print("Found " .. tostring(table.getn(sides)) .. " airgens")
	for _, side in pairs(sides) do
		if peripheral.getType(side) == "warpdriveAirGenerator" then
			local p = peripheral.wrap(side)
			if p.isInterfaced() then
				p.enable(onOrOff)
			else
				print("Found uninterfaced air generator " .. tostring(side))
			end
		end
	end
	print("Set enabled to " .. tostring(onOrOff))
end

while true do
	print("E to enable, D to disable, Q to quit")
	local event, key = os.pullEvent("key")
	if key == keys.e then
		FindAndEnableAirGens(true)
	elseif key == keys.d then
		FindAndEnableAirGens(false)
	elseif key == keys.q then
		return
	end	
end