#!/usr/bin/perl

use v5.12;
use warnings;

my $regX  = 1;
my $time  = 1;

my $part1 = 0;
my $display = '#';

foreach (map { s#^[[:alpha:]]+#0#; reverse split } <>) {
    $display .= (abs($regX - $time % 40) <= 1) ? '#' : ' ';

    $part1 += $time * $regX  if (++$time % 40 == 20);
    $regX  += $_;
}

say "Part 1: $part1";

say "Part 2:";
say substr($display, 0, 40, '')  while( $display );
