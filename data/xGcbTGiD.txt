/*
	Task	: Reverse
	Author	: Phumipat C. [MAGCARI]
	Language: C++
	Created	: 24 October 2022 [20:55]
*/
#include<bits/stdc++.h>
using namespace std;
int qs[100010];
char s[100010];
int main(){
	cin.tie(0)->sync_with_stdio(0);
	cin.exceptions(cin.failbit);
	int q;
	cin >> q;
	while(q--){
		int m,x;
		cin >> s+1 >> m;
		int n = strlen(s+1);
		memset(qs,0,sizeof qs);
		for(int i=1;i<=m;i++)
			cin >> x,qs[x]++;
		for(int i=1;i<=(n+1)/2;i++){
			qs[i]+=qs[i-1];
			if(qs[i]%2==1)
				swap(s[i],s[n-i+1]);
		}
		cout << s+1 << '\n';
	}
	return 0;
}