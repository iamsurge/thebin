declare
    cursor c1 is select distinct data_egzamin from egzaminy order by 1 desc ;
    cursor c2(pdata_egzamin date) is select distinct s.id_student, nazwisko, imie from studenci s inner join egzaminy e
                        on s.id_student = e.id_student
                        where data_egzamin = pdata_egzamin ;
    vstudent varchar2(100) ;
begin
    for vc1 in c1 loop
        exit when c1%rowcount > 3 ;
        dbms_output.put_line(vc1.data_egzamin) ;
        for vc2 in c2(vc1.data_egzamin) loop
                vstudent := vc2.id_student || ' - ' || vc2.nazwisko || ' ' || vc2.imie ;
                dbms_output.put_line(vstudent) ;
        end loop ;
    end loop ;
end ;