#include "stdio.h" // подключение ввода, вывода 
#include "locale.h" // подключение русского языка 
#include "stdlib.h" // подключение рандома
#include "time.h"


void input(int* a, int n) { // добавление массива рукописным вводом, передаем кол-во элементов в массиве и сам массив
    printf("Введите числа (%d): ", n);
    for (int i = 0; i < n; i++)
        scanf_s("%d", &a[i]);
}

void inputrand(int* a, int N) {// добавление массива рандомно передаем кол-во элементов в массиве и сам массив
    for (int i = 0; i < N; i++) {
        a[i] = rand() % 100;
    }
}

void output(int* a, int N) {  // вывод массива посимвольно, передаем кол-во элементов в массиве и сам массив
    for (int i = 0; i < N; i++) {
        printf("%3d", a[i]);
    }
}


void main() {

    setlocale(LC_ALL, "rus"); // подключение русского языка

    int  N; // размер массива
    srand(clock()); // датчик случайных чисел, нужно для рандома

    printf("Введите количество элементов массива: ");
    do {
        scanf_s("%d", &N);
        if (N <= 0)
            printf("Повторите ввод, введите положительное число: ");
    } while (N <= 0);

    int* a = (int*)malloc(sizeof(int*) * N); //  создаем динамичный массив
    int* b = (int*)malloc(sizeof(int*) * N);//  создаем динамичный массив для хранения различных символов
    int sum = 0; // кол-во различных элементов

    printf("Выберите способ ввода массива:\n1-ввод с клавиатуры\n2-заполнение массива случайными числами\n");

    int f; // для определение ввода массива
    do {
        scanf_s("%d", &f);
        if ((f != 1) && (f != 2)) // проверка на правильность выбора
            printf("Введите 1 или 2: ");
    } while ((f != 1) && (f != 2));
    if (f == 1)
        input(a, N);
    else
        inputrand(a, N);


    /*вывод исходного массива*/
    printf("массив: ");
    output(a, N);

    b[0] = a[0]; // добавляем первый элемент
    sum++;
    // оходимся по всему массиву, если в массиве b нету элемента из массива а, то добавим его в b и увеличим кол-во на один
    for (int i = 1; i < N; i++) {
        int f = 1; // вариация правда и лжи
        for (int j = 0; j < sum; j++) {
            if (a[i] == b[j]) {
                f = 0;
            }
        }
        if (f == 1) { b[sum] = a[i]; sum++; }
    }

    printf("\nКол-во различных элементов равно: %d", sum);
    printf("\nЭлементы: ");
    output(b, sum);

}
