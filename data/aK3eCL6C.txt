{"level":"error","ts":1667777447.1613538,"caller":"errors/middleware.go:25","msg":"recovered from panic (runtime error: invalid memory address or nil pointer dereference): goroutine 31 [running]:\nruntime/debug.Stack()\n\t/usr/local/go/src/runtime/debug/stack.go:24 +0x65\ngithub.com/purwaren/bku-core/internal/errors.Handler.func1.1()\n\t/app/internal/errors/middleware.go:25 +0x16a\npanic({0x9e1e00, 0xf321b0})\n\t/usr/local/go/src/runtime/panic.go:884 +0x212\ngoogle.golang.org/grpc.(*ClientConn).Invoke(0xc00006e430?, {0xb7ebc0?, 0xc000034a80?}, {0xaa0a43?, 0xc000078240?}, {0xa3e3c0?, 0xc000078240?}, {0xa33260?, 0xc00007c880?}, {0x0, ...})\n\t/go/pkg/mod/google.golang.org/grpc@v1.47.0/call.go:32 +0x5e\ngithub.com/purwaren/bku-mynt/pkg/grpc/bku_mynt.(*bkuMyntClient).LinkEwallet(0xc00018efb0, {0xb7ebc0, 0xc000034a80}, 0xc00018f9b0?, {0x0, 0x0, 0x0})\n\t/go/pkg/mod/github.com/purwaren/bku-mynt@v0.0.0-20221020183615-8a260d73a5ef/pkg/grpc/bku_mynt/bku_mynt_grpc.pb.go:45 +0xce\ngithub.com/purwaren/bku-core/internal/core.repository.LinkEWallet(...)\n\t/app/internal/core/repository.go:163\ngithub.com/purwaren/bku-core/internal/core.service.LinkEWallet({{0xb88698?, 0xc0000b9560?}, {0xb81210?, 0xc0000b62c8?}}, {0xb7ebc0, 0xc000034a80}, {0x6f747375432d7265?}, {{0xc00003ea08, 0x4}, {{0xc00003ea20, ...}, ...}})\n\t/app/internal/core/service.go:108 +0x555\ngithub.com/purwaren/bku-core/internal/core.resource.linkEWallet({{0xb84ec8?, 0xc0000c7860?}, {0xb81210?, 0xc0000b62c8?}}, 0xc000404120)\n\t/app/internal/core/api.go:119 +0x433\ngithub.com/go-ozzo/ozzo-routing/v2.(*Context).Next(0xc000404120)\n\t/go/pkg/mod/github.com/go-ozzo/ozzo-routing/v2@v2.3.0/context.go:126 +0x55\ngithub.com/purwaren/bku-core/internal/errors.Handler.func1(0xf8?)\n\t/app/internal/errors/middleware.go:41 +0x85\ngithub.com/go-ozzo/ozzo-routing/v2.(*Context).Next(0xc000404120)\n\t/go/pkg/mod/github.com/go-ozzo/ozzo-routing/v2@v2.3.0/context.go:126 +0x55\ngithub.com/purwaren/bku-core/pkg/accesslog.Handler.func1(0xc000404120)
\n\t/app/pkg/accesslog/middleware.go:26 +0x1f4\ngithub.com/go-ozzo/ozzo-routing/v2.(*Context).Next(0xc000404120)\n\t/go/pkg/mod/github.com/go-ozzo/ozzo-routing/v2@v2.3.0/context.go:126 +0x55\ngithub.com/go-ozzo/ozzo-routing/v2.(*Router).ServeHTTP(0xc000136300, {0xb7e450?, 0xc0004160e0}, 0xc0001b2b00)\n\t/go/pkg/mod/github.com/go-ozzo/ozzo-routing/v2@v2.3.0/router.go:85 +0x245\nnet/http.serverHandler.ServeHTTP({0xb7d138?}, {0xb7e450, 0xc0004160e0}, 0xc0001b2b00)\n\t/usr/local/go/src/net/http/server.go:2947 +0x30c\nnet/http.(*conn).serve(0xc0001697c0, {0xb7ebc0, 0xc0001d98f0})\n\t/usr/local/go/src/net/http/server.go:1991 +0x607\ncreated by net/http.(*Server).Serve\n\t/usr/local/go/src/net/http/server.go:3102 +0x4db\n","version":"734521a","request_id":"c4a9efb7-3fcc-4923-945e-88ac301cf718","stacktrace":"github.com/purwaren/bku-core/internal/errors.Handler.func1.1\n\t/app/internal/errors/middleware.go:25\nruntime.gopanic\n\t/usr/local/go/src/runtime/panic.go:884\nruntime.panicmem\n\t/usr/local/go/src/runtime/panic.go:260\nruntime.sigpanic\n\t/usr/local/go/src/runtime/signal_unix.go:835\ngoogle.golang.org/grpc.(*ClientConn).Invoke\n\t/go/pkg/mod/google.golang.org/grpc@v1.47.0/call.go:32\ngithub.com/purwaren/bku-mynt/pkg/grpc/bku_mynt.(*bkuMyntClient).LinkEwallet\n\t/go/pkg/mod/github.com/purwaren/bku-mynt@v0.0.0-20221020183615-8a260d73a5ef/pkg/grpc/bku_mynt/bku_mynt_grpc.pb.go:45\ngithub.com/purwaren/bku-core/internal/core.repository.LinkEWallet\n\t/app/internal/core/repository.go:163\ngithub.com/purwaren/bku-core/internal/core.service.LinkEWallet\n\t/app/internal/core/service.go:108\ngithub.com/purwaren/bku-core/internal/core.resource.linkEWallet\n\t/app/internal/core/api.go:119\ngithub.com/go-ozzo/ozzo-routing/v2.(*Context).Next\n\t/go/pkg/mod/github.com/go-ozzo/ozzo-routing/v2@v2.3.0/context.go:126\ngithub.com/purwaren/bku-core/internal/errors.Handler.func1\n\t/app/internal/errors/middleware.go:41\ngithub.com/go-ozzo/ozzo-routing/v2.(*Context).Next\n\t/go/pkg/mod/github.com/go-ozzo/ozzo-routing/v2@v2.3.0/context.go
:126\ngithub.com/purwaren/bku-core/pkg/accesslog.Handler.func1\n\t/app/pkg/accesslog/middleware.go:26\ngithub.com/go-ozzo/ozzo-routing/v2.(*Context).Next\n\t/go/pkg/mod/github.com/go-ozzo/ozzo-routing/v2@v2.3.0/context.go:126\ngithub.com/go-ozzo/ozzo-routing/v2.(*Router).ServeHTTP\n\t/go/pkg/mod/github.com/go-ozzo/ozzo-routing/v2@v2.3.0/router.go:85\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/go/src/net/http/server.go:2947\nnet/http.(*conn).serve\n\t/usr/local/go/src/net/http/server.go:1991"}
{"level":"error","ts":1667777447.1614864,"caller":"errors/middleware.go:31","msg":"encountered internal server error: runtime error: invalid memory address or nil pointer dereference","version":"734521a","request_id":"c4a9efb7-3fcc-4923-945e-88ac301cf718","stacktrace":"github.com/purwaren/bku-core/internal/errors.Handler.func1.1\n\t/app/internal/errors/middleware.go:31\nruntime.gopanic\n\t/usr/local/go/src/runtime/panic.go:884\nruntime.panicmem\n\t/usr/local/go/src/runtime/panic.go:260\nruntime.sigpanic\n\t/usr/local/go/src/runtime/signal_unix.go:835\ngoogle.golang.org/grpc.(*ClientConn).Invoke\n\t/go/pkg/mod/google.golang.org/grpc@v1.47.0/call.go:32\ngithub.com/purwaren/bku-mynt/pkg/grpc/bku_mynt.(*bkuMyntClient).LinkEwallet\n\t/go/pkg/mod/github.com/purwaren/bku-mynt@v0.0.0-20221020183615-8a260d73a5ef/pkg/grpc/bku_mynt/bku_mynt_grpc.pb.go:45\ngithub.com/purwaren/bku-core/internal/core.repository.LinkEWallet\n\t/app/internal/core/repository.go:163\ngithub.com/purwaren/bku-core/internal/core.service.LinkEWallet\n\t/app/internal/core/service.go:108\ngithub.com/purwaren/bku-core/internal/core.resource.linkEWallet\n\t/app/internal/core/api.go:119\ngithub.com/go-ozzo/ozzo-routing/v2.(*Context).Next\n\t/go/pkg/mod/github.com/go-ozzo/ozzo-routing/v2@v2.3.0/context.go:126\ngithub.com/purwaren/bku-core/internal/errors.Handler.func1\n\t/app/internal/errors/middleware.go:41\ngithub.com/go-ozzo/ozzo-routing/v2.(*Context).Next\n\t/go/pkg/mod/github.com/go-ozzo/ozzo-routing/v2@v2.3.0/context.go:126\ngithub.com/purwaren/bku-core/pkg/accesslog.Handler.func1\n\t/app/pkg/accesslog/middleware.go:26\ngithub.com/go-ozzo/ozzo-routing/v2.(*Context).Next\n\t/go/pkg/mod/github.com/go-ozzo/ozzo-routing/v2@v2.3.0/context.go:126\ngithub.com/go-ozzo/ozzo-routing/v2.(*Router).ServeHTTP\n\t/go/pkg/mod/github.com/go-ozzo/ozzo-routing/v2@v2.3.0/router.go:85\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/go/src/net/http/server.go:2947\nnet/http.(*conn).serve\n\t/usr/local/go/src/net/http/server.go:1991"}
