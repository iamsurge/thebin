using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.IO;

namespace GameFieldTest
{
    class Program
    {
        static void Main(string[] args)
        {
            string[] levelFiled = File.ReadAllLines(@"level1.lvl");

            for (int i = 0; i < levelFiled.Length; i++)
            {
                levelFiled[i] = levelFiled[i].Replace('0', ' ');
                levelFiled[i] = levelFiled[i].Replace('1', '█');
                levelFiled[i] = levelFiled[i].Replace('^', '▲');
            }

            

            int[] playerPos = new int[] { 3, 9 };

            while (true)
            {
            MOVE:
                Console.Clear();
                for (int i = 0; i < levelFiled.Length; i++)
                {
                    Console.WriteLine(levelFiled[i]);
                }
                Console.SetCursorPosition(playerPos[0], playerPos[1]);
                Console.Write("☺");

                while (true)
                {
                    ConsoleKey key = Console.ReadKey(true).Key;

                    if (key == ConsoleKey.RightArrow)
                    {
                        playerPos[0]++;
                        goto MOVE;
                    }
                    else if (key == ConsoleKey.LeftArrow)
                    {
                        playerPos[0]--;
                        goto MOVE;
                    }
                }
            }
        }

        public static void MoveCheck()
        {

        }
    }
}
