#!/bin/bash

(
clear
INTERFACE=`ip r | grep default | cut -d' ' -f 5`
GATEWAY=`ip r | grep default | cut -d' ' -f 3`
TEMP=`ifconfig "$INTERFACE" | grep -i mask | awk '{$1=$1};1'`
HOST=`echo $TEMP | cut -d' ' -f 2`
NETMASK=`ip -o -f inet addr show "$INTERFACE" | cut -d'/' -f2  | cut -d' ' -f1 | cut -d' ' -f 4`
HOST_NEW=`echo $HOST | sed 's/[0-9]\+/200/4'`

echo -e "interface $INTERFACE\nstatic ip_address=$HOST_NEW/$NETMASK\nstatic routers=$GATEWAY\nstatic domain_name_servers=$GATEWAY"

echo -e "\nType: sudo nano /etc/dhcpcd.conf\nCopy the interface settings above.\nTo exit nano text editor:\n  CTRL + X\n  Y\n  Enter"

echo "If you're using SSH, remember to connect to $HOST_NEW after a reboot, reboot after changing dhcpcd.conf!"
)