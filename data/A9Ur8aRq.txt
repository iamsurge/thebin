#!/bin/bash
# Guardamos en un array los directorios pasados como argumentos
#arg=( $@ )
Â 
# Monitorizar un directorio y evaluar la cantidad de ficheros que contiene, si le llega a cierto numero eliminar los que tengan mas 15 dias.

dir=/etc

cant=10000


while true;do

	files=$(find ./ -maxdepth 1 -type f -not -path '*/.*' | wc -l)

	if [ $files -lt 1000 ]; then
		continue
	fi

	find $dir -mtime +15 -type f -exec rm {} \;

done
