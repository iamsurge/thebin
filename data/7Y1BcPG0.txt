#include <stdio.h>

#define TAM 20
char palabra[20];
int letrasAcertadas[20];



void leerPalabra() {
    printf("  palabra a adivinar: ");
    scanf("%s", &palabra);
}

void llenarArregloDeCeros() {
    for(int i=0; i<TAM; i++)
        letrasAcertadas[i] = 0;
}

int contarLetrasPalabra() {
    int tam = 0;

    for (int i=0; palabra[i]!='\0'; i++)
        tam++;

    return tam;
}

//imprime la palabra comprobando si existe un 1, en caso de existir un 1 quiere decir que esa letra fue descubierta
void printPalabra(int tamanio) {
    for(int i=0; i<tamanio; i++){
        if(letrasAcertadas[i]==1)
            printf("%c", palabra[i]);
        else
            printf("-");
    }

    printf("\n");
}

int buscarSiLetraEstaEnPalabra(char letra, int tamanio) {
    int existe = 0;

    for(int i=0; i<tamanio; i++){
        if(letra==palabra[i]){
            letrasAcertadas[i] = 1; //si la letra existe en palabra[] entonces guasrdamos un 1
            existe = 1;
        }
    }

    return existe;
}

int palabraEncontrada(int tamanio) {
    int encontrada = 1;

    for(int i=0; i<tamanio; i++){
        if(letrasAcertadas[i]==0){
            encontrada = 0;
            break;
        }
    }

    return encontrada;
}




int main()
{
    int tamanioPalabra;

    int vidas = 5;
    char ganador = "n";

    llenarArregloDeCeros();

    printf("BIENVENIDO AL JUEDO DEL AHORCADO\n\n");
    leerPalabra();
    fflush(stdin);
    tamanioPalabra = contarLetrasPalabra();


    do{
        int letraEncontrada;
        char letra = '.';
        system("cls");
        printf("JUEDO DEL AHORCADO\n\n");
        printf("CUENTAS CON %d VIDAS\n\n", vidas);
        //buscarSiLetraEstaEnPalabra(letra, tamanioPalabra);
        printPalabra(tamanioPalabra);
        printf("\nQue letra eliges? -> ");
        scanf("%c", &letra);
        fflush(stdin);
        letraEncontrada = buscarSiLetraEstaEnPalabra(letra, tamanioPalabra);

        if(letraEncontrada==0)
            vidas--;

        if(vidas>0 && palabraEncontrada(tamanioPalabra)==1){
            ganador = 's';
            break;
        }
    }while(vidas>0);

    if(ganador=='s')
        printf("FELICIDADES");
    else
        printf("PERDISTE");

    return 0;
}