        const form = document.querySelector('#form-container');
        const nombrefield = document.querySelector('#nombre');
        const emailfield = document.querySelector('#email');
        const asuntofield = document.querySelector('#asunto');
        const mensajefield = document.querySelector('#mensaje');

        function sendEmail() {
            Swal.fire({
                title: '&#191;Desea enviar el Email?',
                icon: 'info',
                showCancelButton: true,
                confirmButtonText: 'S&iacute;',
                cancelButtonText: 'No',
            }).then((result) => {
                /* Read more about isConfirmed, isDenied below */
                if (result.isConfirmed) {
                    form.submit();
                }
            })
        }

        const checkNombre = () => {
            let valid = false;

            const min = 10,
                max = 60;

            const nombre = nombrefield.value.trim();

            if (!isRequired(nombre)) {
                showError(nombrefield, 'El nombre no puede estar en blanco.');
            } else if (!isBetween(nombre.length, min, max)) {
                showError(nombrefield, `El nombre tiene que estar entre ${min} y ${max} caracteres.`)
            } else {
                showSuccess(nombrefield);
                valid = true;
            }
            return valid;
        };

        const checkAsunto = () => {
            let valid = false;

            const min = 3,
                max = 25;

            const asunto = asuntofield.value.trim();

            if (!isRequired(asunto)) {
                showError(asuntofield, 'El asunto no puede estar en blanco.');
            } else if (!isBetween(asunto.length, min, max)) {
                showError(asuntofield, `El asunto tiene que estar entre ${min} y ${max} caracteres.`)
            } else {
                showSuccess(asuntofield);
                valid = true;
            }
            return valid;
        };

        const checkMensaje = () => {
            let valid = false;

            const min = 80,
                max = 1000;

            const mensaje = mensajefield.value.trim();

            if (!isRequired(mensaje)) {
                showError(mensajefield, 'El mensaje no puede estar en blanco.');
            } else if (!isBetween(mensaje.length, min, max)) {
                showError(mensajefield, `El mensaje tiene que estar entre ${min} y ${max} caracteres.`)
            } else {
                showSuccess(mensajefield);
                valid = true;
            }
            return valid;
        };

        const checkEmail = () => {
            let valid = false;
            const email = emailfield.value.trim();
            if (!isRequired(email)) {
                showError(emailfield, 'Email no puede estar en blanco.');
            } else if (!isEmailValid(email)) {
                showError(emailfield, 'Email no es correcto.')
            } else {
                showSuccess(emailfield);
                valid = true;
            }
            return valid;
        };

        const isEmailValid = (email) => {
            const re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(email);
        };

        const isRequired = value => value === '' ? false : true;
        const isBetween = (length, min, max) => length < min || length > max ? false : true;


        const showError = (input, message) => {
            const formField = input.parentElement;
            formField.classList.remove('success');
            formField.classList.add('error');
            const error = formField.querySelector('small');
            error.textContent = message;
        };

        const showSuccess = (input) => {
            const formField = input.parentElement;
            formField.classList.remove('error');
            formField.classList.add('success');
            const error = formField.querySelector('small');
            error.textContent = '';
        }


        form.addEventListener('submit', function (e) {
            e.preventDefault();

            let isNameValid = checkNombre(),
                isEmailValid = checkEmail(),
                isAsuntoValid = checkAsunto(),
                isMensajeValid = checkMensaje();

            let isFormValid = isNameValid &&
                isEmailValid &&
                isAsuntoValid &&
                isMensajeValid;

            if (isFormValid) {
                sendEmail();
            }
        });


        const debounce = (fn, delay = 500) => {
            let timeoutId;
            return (...args) => {
                if (timeoutId) {
                    clearTimeout(timeoutId);
                }
                timeoutId = setTimeout(() => {
                    fn.apply(null, args)
                }, delay);
            };
        };

        form.addEventListener('input', debounce(function (e) {
            switch (e.target.id) {
                case 'nombre':
                    checkNombre();
                    break;
                case 'email':
                    checkEmail();
                    break;
                case 'asunto':
                    checkAsunto();
                    break;
                case 'mensaje':
                    checkMensaje();
                    break;
            }
        }));