from random import choice, randint


class KillError(Exception):
    def __str__(self):
        return 'KillError'


class DrunkError(KillError):
    def __str__(self):
        return 'DrunkError'


class CarCrashError(DrunkError):
    def __str__(self):
        return 'CarCrashError'


class GluttonyError(CarCrashError):
    def __str__(self):
        return 'GluttonyError'

class DepressionError(GluttonyError):
    def __str__(self):
        return 'DepressionError'

def one_day():
    day = 0
    total_carma = 0
    while total_carma < 500:
        day += 1
        try:
            if randint(1, 10) == 1:
                raise choice([KillError(), DrunkError(), CarCrashError(), GluttonyError(), DepressionError()])
            else:
                carma = randint(1, 7)
                total_carma += carma
                print(f'День: {day} Выпало кармы: {carma} Всего кармы: {total_carma}')
        except KillError as message:
            with open('karma.log', 'a', encoding='utf-8') as file:
                file.write(f'День: {day} Исключение: {message}\n')
            print(f'День: {day} Исключение: {message}')
one_day()