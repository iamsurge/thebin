#include <iostream>

using namespace std;

int getDemandaDiaria();
 
int main() {
    const int DIAS = 30;
    const int PRODUCCION_DIARIA = 50;
    const float PRECIO_COSTO = 10;
    const float PRECIO_VENTA = 25;

    float demanda_diaria, ventas_diaria, utilidad_diaria;
    float utilidad_mes_suma = 0;
    int sobrante, faltante;

    int sobrante_mes = 0;
    int faltante_mes = 0;
    int dias_faltante = 0;

    for (int i = 1; i <= DIAS; ++i) {
        ventas_diaria = 0;
        utilidad_diaria = 0;
        sobrante = 0;
        faltante = 0;

        demanda_diaria = getDemandaDiaria();

        if(demanda_diaria < PRODUCCION_DIARIA) {
            sobrante = PRODUCCION_DIARIA - demanda_diaria;
            ventas_diaria = ((PRODUCCION_DIARIA - sobrante) * PRECIO_VENTA) + (sobrante * (PRECIO_VENTA - (PRECIO_VENTA * 0.30)));
        } else {
            if(demanda_diaria > PRODUCCION_DIARIA) {
                faltante = demanda_diaria - PRODUCCION_DIARIA;
                ventas_diaria = ((demanda_diaria - faltante) * PRECIO_VENTA);

                dias_faltante = dias_faltante + 1;
            } else {
                ventas_diaria = demanda_diaria * PRECIO_VENTA;    
            }
        }

        utilidad_diaria = ventas_diaria - (PRODUCCION_DIARIA * PRECIO_COSTO);
        utilidad_mes_suma = utilidad_mes_suma + utilidad_diaria;

        sobrante_mes = sobrante_mes + sobrante;
        faltante_mes = faltante_mes + faltante;

        cout << "> Día " << i << ":" << endl;
        cout << "  - Producción de " << PRODUCCION_DIARIA << " tortas." << endl;
        cout << "  - Demanda de " << demanda_diaria << " tortas." << endl;
        cout << "  - Sobrante de " << sobrante << " tortas." << endl;
        cout << "  - Faltante de " << faltante << " tortas." << endl;
        cout << "  - Ventas de " << ventas_diaria << "$." << endl;
        cout << "  - Se dejó de ganar " << faltante * PRECIO_VENTA << "$ por falta de tortas." << endl;
        cout << "  - Utilidad del día de " << utilidad_diaria << "$." << endl;
    }

    cout << "Se dejó de ganar durante el mes " << faltante_mes * PRECIO_VENTA << "$ por falta de tortas." << endl;
    cout << "La panadería no pudo cubrir la demanda en " << dias_faltante << " días del mes." << endl;
    cout << "Se vendieron " << sobrante_mes << " tortas sobrantes con descuento durante el mes." << endl;
    cout << "La utilidad promedio es de " << (utilidad_mes_suma/30) << "$." << endl;
 
    return 0;
}

int getDemandaDiaria() {
    const int DEMANDA_PROBABLES[] = {10, 10, 20, 20, 20, 20, 30, 30, 30, 30, 30, 30, 30, 30, 40, 40, 50, 50, 70, 100};
    return DEMANDA_PROBABLES[rand()%19+0];
}