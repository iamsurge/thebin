local Ainput = rs.getAnalogInput("left") 
local Dinput = 0
local Max = "15"
local Min = "0"
local percent = math.floor(max/100)
local Curr1  = rs.getAnalogInput("left")
local Curr2 = math.floor(Curr1*percent)
local output = rs.setOutput("right", true)
local Thres1 = "65"
local Thres2 = "10"

function Clear()
    term.clear()
    term.setCursorPos(1,1)
    term.setTextColor(colors.white)
end

function readout()
    Clear()
    while true do
    Clear() 
    input1 = redstone.getAnalogInput("left") 
    input2 = math.floor(input1*percent)
    thresOff = tostring(thres1)
    ThresOn = tostring(thres2)
    --input3 = input2   
    print("current fill level: "..input2.." % ")
    print(input3)
    sleep(.1)
    if input2 > ThresOff then
      rs.setOutput("right", true)
    elseif input2 < ThresOn then
      rs.setOutput("right", false)
    else
      sleep(.1)
    end
   end
end
  
readout()

