function king_hide_out_of_stock( $option ) {

    if( is_search() || is_product_category() || is_front_page() || ){
        
        $option = 'yes';
        return $option;

    }
    else{
        return $option;
    }
    
}

add_filter( 'pre_option_woocommerce_hide_out_of_stock_items', 'king_hide_out_of_stock' );