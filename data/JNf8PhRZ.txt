#include <iostream>

std::string replace_ing_to_ed(std::string);

int main() {
    std::string text("i'm calling him two weeks ago");
    std::string result = replace_ing_to_ed(text);
    std::cout << result;
}

std::string replace_ing_to_ed(std::string str) {
    str += " ";

    std::string word;
    std::string result;
    size_t pos;

    while ((pos = str.find(' ')) != std::string::npos) {
        word = str.substr(0, pos);

        size_t ing_pos = word.find("ing", word.length()-3);
        if (ing_pos != std::string::npos) {
            word.replace(ing_pos, 3, "ed");
        }
        result += word + " ";

        str.erase(0, pos+1);
    }

    return result;
}
