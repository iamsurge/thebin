local breederName = "chickens:breeder"

function cleanAllButNest() 
    local nest = 1
    for i = 1, 16 do
        local d = turtle.getItemDetail(i)

        if d then
            if d.name ~= breederName then
                turtle.select(i)
                turtle.dropDown()
            else
                nest = i
            end
        end
    end

    turtle.select(nest)
    turtle.transferTo(1)
    turtle.select(1)
end

local slot = 15
local generations = 0
while true do
    turtle.select(slot)

    if turtle.suckDown() then
        if slot == 16 then
            turtle.drop()
            turtle.select(15)
            turtle.drop()

            turtle.select(1)
            turtle.digDown()

            cleanAllButNest()
            sleep(2)
            turtle.placeDown()

            turtle.suckUp(2)
            turtle.dropDown(2)
            
            turtle.suck()
            turtle.dropDown()
            turtle.suck()
            turtle.dropDown()

            slot = 15
            generations = generations + 1
        else 
            slot = 16
        end

        sleep(45)
    else
        sleep(5)
    end
end