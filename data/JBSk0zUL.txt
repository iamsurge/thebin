<?

/*добавление номера страницы в заголовок*/
AddEventHandler('main', 'OnEpilog', array('CMainHandlers', 'OnEpilogHandler'));

class CMainHandlers
{
    public static function OnEpilogHandler()
    {
        /* получаем массив параметров GET так как PAGEN не имеет какого-то конретного значения */
        $arGet = array_keys($_GET);
        foreach ($arGet as $param) {
            preg_match('/PAGEN_(\d+)/', $param, $matches);
            $numPage = $matches[1];
            $getParam = 'PAGEN_' . $numPage;
            break;
        }

        if (isset($_GET[$getParam]) && intval($_GET[$getParam]) > 0) {
            $title = $GLOBALS['APPLICATION']->GetTitle();
            $GLOBALS['APPLICATION']->SetPageProperty('title', $title . ' - страница ' . intval($_GET[$getParam]));
            $description = $GLOBALS['APPLICATION']->GetProperty("description");
            $GLOBALS['APPLICATION']->SetPageProperty('description', $description . ' - страница ' . intval($_GET[$getParam]));
        }
    }
}
?>