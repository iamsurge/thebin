#!/usr/bin/env python
# -*- coding: utf-8 -*-

# funciones de manjeo de archivo: open, close, read, readlines, write, 
# writelines. readline, writeline, etc
"""
========= ===============================================================
Character Meaning
--------- ---------------------------------------------------------------
'r'       open for reading (default)
'w'       open for writing, truncating the file first
'x'       create a new file and open it for writing
'a'       open for writing, appending to the end of the file if it exists
'b'       binary mode
't'       text mode (default)
'+'       open a disk file for updating (reading and writing)
'U'       universal newline mode (deprecated)
========= ===============================================================
"""

# Script que crea un archivo de temperaturas en ºC y luego crea otro
# para guardar los datos convertidos a ºF

# creo un archivo vacio "celsius.txt" o lo abro
try:
    f = open("celsius.txt","x")
except FileExistsError:
    f = open("celsius.txt","a")



# creo una lista cuyos elementos seran los renglones del archivo de texto
datos =["23ºC\n", "-12.5ºC\n", "0.2ºC\n", "14ºC\n"]

"""
Otra forma
datos =["23ºC", "-12.5ºC", "0.2ºC", "14ºC"]
for dato in datos:
    f.write(dato + "\n")
"""


# escribo los datos en el archivo
f.writelines(datos)

# cierro el archivo
f.close()

# Supongamos que me olvide un dato
f = open("celsius.txt","a")
f.write("11ºC\n")
f.close()

# Abro en modo lectura para ver el contenido del archivo
f = open("celsius.txt")
print(f.read())
f.close()

# creo el archivo farenheit
f = open("farenheit.txt","x")

# abro celsius para leer el contenido actualizado
f2 = open("celsius.txt")

# leo los datos de celsius
datos = f2.readlines()

# convierto los datos uno por uno
for dato in datos:
    temp, escala = dato.split("º")
    temp = float(temp) * 1.8 + 32
    f.write(f"{temp:.1f}ºF\n")
    
# cierro los archivos
f.close()
f2.close()