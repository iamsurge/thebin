javascript:await fetch("https://www.zearn.org/student_home/badge_statuses/"+(gon.mission_id)+"?format=json").then(function(response){if(response.ok){response.json().then(function(data){var lessons=data.lesson_statuses;for(var i=0;i<lessons.length;i++){completeTop(lessons[i].tower.id)}
console.log(lessons)})}});async function completeTop(id){async function SHA1(e){let t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-1",t),s=Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("");return s}var e={event_type:"tower_completed",subject_id:id,success:!0},r=gon.current_user?gon.current_user.id:0,n=e.event_type,i=r+"."+e.subject_id+"-"+n;SHA1(i).then((function(t){e.confirmation=t,Dent.utils.Store.dispatch("userEvents/create",{event:e})}))}