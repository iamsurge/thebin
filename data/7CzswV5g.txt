declare   
    mex1 exception;   
    x number;   
    id number; 
    nazwa osrodki.nazwa_osrodek%type := 'LBS' ;
    cursor c1 is select id_osrodek from osrodki where upper(nazwa_osrodek) = 'LBS'; 
begin   
    begin   
    select distinct 1 into id from osrodki where nazwa_osrodek = nazwa;  
    exception  
        when no_data_found then raise mex1;  
    end;  
    for vc1 in c1 loop
                select count(e.id_egzamin) into x from egzaminy e where e.id_osrodek = vc1.id_osrodek;   
                if x > 0  then 
                    dbms_output.put_line('W ośrodku o ID=' || vc1.id_osrodek || ' odbyło się '|| x ||' egzaminów');  
                else
                    dbms_output.put_line('Ośrodek o ID=' || vc1.id_osrodek || ' nie uczestniczył w egzaminach');  
                end if;
    end loop ;
    exception
        when mex1 then dbms_output.put_line('Ośrodek o podanej nazwie nie istnieje');   
end;