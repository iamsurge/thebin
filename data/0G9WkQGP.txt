def check(nhypos, ntries=1000, validation_samples=100, pmin=0.94, pmax=0.97):
    rng = np.random.default_rng()
    good = 0
    for _ in range(ntries):
        ps = rng.uniform(pmin, pmax, nhypos)
        validation_accuracies = [rng.binomial(validation_samples, p) / validation_samples for p in ps]
        if np.argmax(ps) == np.argmax(validation_accuracies):
            good += 1
    return good / ntries