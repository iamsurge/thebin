function solve(arr) {
    let n = Number(arr.shift());
    arr.pop();
    const len = arr.length;

    const cars = new Map();
    const re = /(?<model>[\w\s]+)\|(?<milage>\d+)\|(?<fuel>\d+)/i;

    for (let i = 0; i < n; i++) {
        const {model, milage, fuel} = arr[i].match(re).groups;
        cars.set(model, {milage: Number(milage), fuel: Number(fuel)});
    }

    for (let i = n; i < len; i++) {
        let [activity, ...rest] = arr[i].split(/\s*:\s*/);
        
        if (activity == 'Drive') {
            let [car, milage, fuel] = rest;
            milage = Number(milage);
            fuel = Number(fuel);
            
            if (cars.get(car).fuel >= fuel) {
                cars.get(car).milage += milage;
                cars.get(car).fuel -= fuel;
                console.log(`${car} driven for ${milage} kilometers. ${fuel} liters of fuel consumed.`);

                if (cars.get(car).milage >= 100000) {
                    console.log(`Time to sell the ${car}!`);
                    cars.delete(car);
                }
            }
            else {
                console.log('Not enough fuel to make that ride');
            }
        }
		else if (activity == 'Refuel') {
            let [car, fuel] = rest;
            fuel = Number(fuel);

            const newTank = Math.min(cars.get(car).fuel + fuel, 75);
            let topped = (cars.get(car).fuel + fuel) > 75 ? 75 - cars.get(car).fuel : fuel;
            cars.get(car).fuel = newTank;
            console.log(`${car} refueled with ${topped} liters`);
        }
        else if (activity == 'Revert') {
            let [car, milage] = rest;
            milage = Number(milage);

            const newMilage = Math.max(10000, cars.get(car).milage - milage);
            if ((cars.get(car).milage - milage) < 10000) {
                cars.get(car).milage = 10000;
            }
            else {
                const newMilage = cars.get(car).milage - milage;
                console.log(`${car} mileage decreased by ${milage} kilometers`);
                cars.get(car).milage = newMilage;
            }
        }
    }
    [...cars.entries()].forEach(([car, {milage, fuel}]) => {
        console.log(`${car} -> Mileage: ${milage} kms, Fuel in the tank: ${fuel} lt.`);
    })
}