task.wait(5)

local function test(func)
	local iterations = 10000
	local sum = 0
	for i = 1, iterations do
		local startTime = tick()
		func()
		local endTime = tick()
		sum += endTime - startTime
		
		if i % 30 == 0 then
			task.wait()
		end
	end
	
	return sum / iterations
end

print("for loop avg:", test(function()
	local str = [[Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec non pellentesque mauris, sed consectetur velit. Ut placerat augue turpis, non consectetur diam aliquam quis. Phasellus non suscipit orci. Sed aliquet dapibus condimentum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Curabitur ac ligula nisl. Sed eget pellentesque ipsum. Vivamus fringilla, arcu eu blandit varius, diam dui rhoncus nulla, nec finibus nunc arcu ac velit.]]
	
	local len = #str
	local counter = 0
	for i=1, len do
		counter += 1
	end
end))

print("gmatch avg:", test(function()
	local str = [[Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec non pellentesque mauris, sed consectetur velit. Ut placerat augue turpis, non consectetur diam aliquam quis. Phasellus non suscipit orci. Sed aliquet dapibus condimentum. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Curabitur ac ligula nisl. Sed eget pellentesque ipsum. Vivamus fringilla, arcu eu blandit varius, diam dui rhoncus nulla, nec finibus nunc arcu ac velit.]]

	local len = #str
	local counter = 0
	for char in string.gmatch(str, ".") do
		counter += 1
	end
end))