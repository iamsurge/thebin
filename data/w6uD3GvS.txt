#bestand inlezen:
bestand = open('input.txt', 'r')
alles = bestand.readlines()
for x in range(len(alles)):
  alles[x] = alles[x].replace('\n', '')

#dingen klaarzetten:
punten = '0abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'
dedingen = []
antwoord = 0

#rugzakken door midden:
for x in range(len(alles)):
  linkerhelft = ''
  rechterhelft = ''
  for y in range(int(len(alles[x])/2)):
    linkerhelft += alles[x][y]
    rechterhelft += alles[x][y+int(len(alles[x])/2)]

#zoek in de rechterhelft de spullen uit de linker:
  for z in range(len(linkerhelft)):
    if rechterhelft.find(linkerhelft[z]) != -1:
      gevonden = linkerhelft[z]
  dedingen.append(gevonden)

#punten tellen:
for x in range(len(dedingen)):
  antwoord += punten.find(dedingen[x]) 
print(antwoord)

#dingen klaarzetten deel 2:
badges = []
antwoord2 = 0

#elven in groepjes van 3:
for x in range(int(len(alles)/3)):

#zoek in de rugzak van 2 en 3 alles wat in de rugzak van 1 zit:
  for y in range(len(alles[x*3])):
    elf2 = alles[x*3+1].find(alles[x*3][y])
    elf3 = alles[x*3+2].find(alles[x*3][y])
    if elf2 >= 0 and elf3 >= 0:
      gevonden = alles[x*3][y]
  badges.append(gevonden)

#punten tellen:
for x in range(len(badges)):
  antwoord2 += punten.find(badges[x])
print(antwoord2)