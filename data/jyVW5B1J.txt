package common;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Font;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.RenderingHints;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseWheelEvent;
import java.util.concurrent.Executors;
import java.util.concurrent.TimeUnit;

import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.WindowConstants;

public class SmoothScroll {
	public final JFrame Frame;

	public SmoothScroll() throws Throwable {
		this.Frame = new JFrame();
		this.Frame.setTitle("Smooth Scroll Demo");
		this.Frame.setLayout(new BorderLayout());
		this.Frame.add(new Panel(), BorderLayout.CENTER);
		this.Frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
		this.Frame.setSize(600, 400);
		this.Frame.setLocationRelativeTo(null);
		this.Frame.setVisible(true);
	}

	public class Panel extends JPanel {
		private static final long serialVersionUID = -7293824475852454687L;

		public String Text;
		public String[] Texts;

		public int Offset;
		public int Remaining;

		public Panel() {
			this.Text = """
					Lorem ipsum dolor sit amet, consectetur adipiscing elit,
					sed do eiusmod tempor incididunt ut labore et dolore magna aliqua
					Lectus sit amet est placerat in egestas. Mattis vulputate enim nulla
					aliquet. Ac odio tempor orci dapibus ultrices in iaculis nunc sed. Ut tellus
					elementum sagittis vitae. Lectus mauris ultrices eros in cursus. Eget nunc
					scelerisque viverra mauris in aliquam sem fringilla. Augue mauris augue
					neque gravida in fermentum et sollicitudin. Massa sapien faucibus et
					molestie ac. Nibh sit amet commodo nulla facilisi nullam vehicula ipsum
					a. Egestas congue quisque egestas diam in arcu cursus euismod. Vel
					risus commodo viverra maecenas accumsan lacus vel. Aenean et torto
					at risus viverra. Euismod in pellentesque massa placerat duis ultricies lacus.
					Orci sagittis eu volutpat odio. Egestas diam in arcu cursus euismod quis
					viverra nibh. Tempus urna et pharetra pharetra massa massa ultricies mi
					quis. Habitasse platea dictumst vestibulum rhoncus est pellentesque elit
					ullamcorper dignissim.

					Vivamus arcu felis bibendum ut.
					Ac placerat vestibulum lectus mauris.
					Massa enim nec dui nunc mattis enim ut tellus
					Dui faucibus in ornare quam viverra orci sagittis.
					Nulla posuere sollicitudin aliquam ultrices.
					Ac auctor augue mauris augue. Tincidunt
					praesent semper feugiat nibh sed pulvinar
					proin. Lectus urna duis convallis convallis
					tellus id. Magna fermentum iaculis eu non
					diam phasellus vestibulum lorem. Fermentum
					odio eu feugiat pretium nibh ipsum consequat.
					At risus viverra adipiscing at in.

					Sit amet cursus sit amet dictum sit amet. Vel risus commodo viverra
					maecenas accumsan lacus. Sagittis nisl rhoncus mattis rhoncus. Platea
					dictumst quisque sagittis purus sit. Vulputate eu scelerisque felis imperdiet
					proin fermentum. Non enim praesent elementum facilisis leo vel fringilla
					est ullamcorper. Lobortis feugiat vivamus at augue eget arcu dictum varius
					duis. Auctor eu augue ut lectus. Elit ullamcorper dignissim cras tincidunt
					lobortis feugiat vivamus. Molestie a iaculis at erat pellentesque adipiscing
					commodo. Phasellus faucibus scelerisque eleifend donec pretium vulputate.
					Tortor at auctor urna nunc. Purus sit amet volutpat consequat mauris nunc congue
					nisi. Amet dictum sit amet justo donec enim diam vulputate ut. Blandit turpis
					cursus in hac habitasse platea dictumst quisque. Erat imperdiet sed euismod
					nisi porta lorem mollis aliquam.

					Ut sem viverra aliquet eget sit amet tellus cras. Mi eget mauris pharetra
					et ultrices neque. Blandit libero volutpat sed cras ornare. Consequat
					semper viverra nam libero justo. Diam ut venenatis tellus in metus vulputate eu.
					Quam id leo in vitae. Neque ornare aenean euismod elementum. A erat nam at
					lectus urna duis convallis. Augue neque gravida in fermentum. Nunc scelerisque
					viverra mauris in aliquam sem fringilla ut. Nunc non blandit massa enim nec dui nunc
					mattis. Est sit amet facilisis magna etiam. Neque laoreet suspendisse interdum
					consectetur libero id faucibus. Amet risus nullam eget felis eget nunc lobortis
					mattis. Ipsum dolor sit amet consectetur adipiscing elit duis tristique sollicitudin.
					Etiam tempor orci eu lobortis elementum. Vitae proin sagittis nisl rhoncus mattis
					rhoncus urna neque viverra. Nunc congue nisi vitae suscipit tellus. Nibh sed pulvinar
					proin gravida hendrerit. Erat nam at lectus urna.

					Ligula ullamcorper malesuada proin libero nunc consequat interdum varius
					sit. Lacus suspendisse faucibus interdum posuere lorem ipsum. Sagittis
					id consectetur purus ut faucibus. Nunc lobortis mattis aliquam faucibus purus
					in. Risus commodo viverra maecenas accumsan lacus vel facilisis volutpat est.
					Viverra nibh cras pulvinar mattis nunc. Augue neque gravida in fermentum et
					sollicitudin ac orci phasellus. Nullam ac tortor vitae purus faucibus ornare suspendisse
					sed nisi. Non tellus orci ac auctor augue mauris augue neque. Quis viverra nibh cras
					pulvinar. Elementum pulvinar etiam non quam lacus suspendisse faucibus. Odio aenean
					sed adipiscing diam donec adipiscing. Egestas fringilla phasellus faucibus scelerisque
					eleifend donec pretium vulputate sapien. Hac habitasse platea dictumst vestibulum rhoncus.
					""";

			this.Texts = this.Text.split("\n");

			this.addMouseWheelListener(new Listener());

			Executors.newSingleThreadScheduledExecutor().scheduleAtFixedRate(this :: tick, 0, 1000 / 60, TimeUnit.MILLISECONDS);
		}

		public void tick() {
			this.Offset -= this.Remaining;

			if(this.Offset > 0) {
				this.Offset = 0;
				this.Remaining = 0;
			}

			if(this.Remaining > 0) {
				this.Remaining--;
			}

			if(this.Remaining < 0) {
				this.Remaining++;
			}

			this.repaint();
		}

		@Override
		public void paint(Graphics Graphics) {
			Graphics2D Graphics2D = (Graphics2D) Graphics;
			Graphics2D.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);
			Graphics2D.setColor(new Color(0xFFFFFF));
			Graphics2D.fillRect(0, 0, this.getWidth(), this.getHeight());
			Graphics2D.setFont(new Font("Consolas", Font.BOLD, 16));
			Graphics2D.setColor(new Color(0x000000));

			for(int i = 0; i < this.Texts.length; i++) {
				String Text = this.Texts[i];

				Graphics2D.drawString(Text, 10, i * 18 + 20 + this.Offset);
			}
		}

		public class Listener extends MouseAdapter {
			@Override
			public void mouseWheelMoved(MouseWheelEvent Event) {
				Panel.this.Remaining += Event.getWheelRotation() * 10;
			}
		}
	}

	public static void main(String[] args) {
		try {
			new SmoothScroll();
		} catch (Throwable Errors) {
			Errors.printStackTrace();
		}
	}
}
