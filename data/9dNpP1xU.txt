<?
/*добавление номера страницы в заголовок*/
AddEventHandler('main', 'OnEpilog', array('CMainHandlers', 'OnEpilogHandler'));
class CMainHandlers {
   public static function OnEpilogHandler() {
      /* получаем массив параметров GET так как PAGEN не имеет какого-то конретного значения */
      global $APPLICATION;
       if (!empty($APPLICATION->GetPagePropertyList()['PAGE']) && $APPLICATION->GetPagePropertyList()['PAGE']>1) {
         $page = $APPLICATION->GetPagePropertyList()['PAGE'];
         $title = $APPLICATION->GetTitle();
         $APPLICATION->SetPageProperty('title', $title.' - страница '.intval($page));
         $description = $APPLICATION->GetProperty("description");
         $APPLICATION->SetPageProperty('description', $description.' - страница '.intval($page));
          $APPLICATION->AddHeadString('<link rel="canonical" href="https://'.SITE_SERVER_NAME.$APPLICATION->GetCurPage().'"/>',true);
      }
   }
}
?>