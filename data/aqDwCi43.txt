T = int(input())

for t in range(T):
    N = int(input())
    A = list(map(int, input().split()))

    mep = {}
    left, right = 0, 0
    maxLen = 1
    while right < N:
        #print(mep, A[left: right + 1])
        if len(mep) <= 2:
            mep[A[right]] = mep.get(A[right], 0) + 1
            right += 1
        else:
            mep[A[left]] -= 1
            if mep[A[left]] == 0:
                del mep[A[left]]
            left += 1
        a = list(mep.keys())
        if len(a) == 2 and abs(a[0] - a[1]) == 1:
            maxLen = max(maxLen, right - left)
    print(maxLen)