select gu.loginname, gu.loginpwd from gui_users gu, (select gv.gui_user_id, count(gv.vehicle_id) vehicle_count from gu_vehicle gv, vehicle v, vo_vehicle_category vovc
where gv.vehicle_id = v.vehicle_id
and v.vo_vehicle_category_id = vovc.vo_vehicle_category_id
and nvl(vovc.is_active,'Y') = 'Y'
and vovc.is_object = 'N'
and nvl(v.vehicle_status_id,0) = 0
group by gv.gui_user_id
having count(gv.vehicle_id) > 25) nv
where gu.gui_user_id = nv.gui_user_id
and lower(gu.loginpwd) not like '%deleted%';