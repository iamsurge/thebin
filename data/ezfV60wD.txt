local function checkInventory()
    if turtle.getItemCount() > 0 then
        slot = 1
        if turtle.getItemDetail() ~= "ftbstoneblock:3x_compressed_stone" then
            slot = slot + 1
            turtle.select(slot)
        end
    end
end

local function checkDiamond()
    local has_block, data = turtle.inspect()
    if has_block then
        if ((textutils.serialize(data)["name"] ~= "ftbstoneblock:3x_compressed_stone") and (textutils.serialize(data)["name"] ~= "ftbstoneblock:2x_compressed_stone")) then
            turtle.dig()
            turtle.place()
        end
    end
    local has_block, data = turtle.inspectUp()
    if has_block then
        if ((textutils.serialize(data)["name"] ~= "ftbstoneblock:3x_compressed_stone") and (textutils.serialize(data)["name"] ~= "ftbstoneblock:2x_compressed_stone")) then
            turtle.digUp()
            turtle.placeUp()
        end
    end
end

while true do
    turtle.select(1)
    checkInventory()
    checkDiamond()
    sleep(1)
end