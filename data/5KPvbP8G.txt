#MaxThreadsPerHotKey, 2
Toggle := 0
Time := A_TickCount-120000 ;like this for a reason, leave it.

BaitToggle := true ;whether to use bait automatically

T2BaitSlot := 2 ;which slot the tier 2 bait is in (only used with more than 0 and with BaitToggle on)
T1BaitSlot := 3 ;which slot the tier 1 bait is in (only used with more than 0 and with BaitToggle on)
T2BaitAmount := 85 ;the amount of tier 2 bait you have
T1BaitAmount := 120 ;the amount of tier 1 bait you have
BaitSameTime := false ;whether or not to use both baits at the same time or to run out of t2 first.

RodSlot := 1 ;which slot the rod is in (only used with BaitToggle on)

;KeyWait, Capslock, D
;MouseGetPos, eX, eY
;PixelGetColor, color, eX, eY
;MsgBox You pressed %color%

F1::
Toggle := !Toggle

If (Toggle and not BaitToggle) {
    MouseMove, 500, 500
    Send {Click down}
    Sleep, 500
    Send {Click up}
}

While Toggle {
    WinGetPos ,,, W, H, Roblox
    PixelSearch, aX, aY, W/3.05, H/1.29, W/1.49, H/1.195, 0xFFFFFFFF, 0, fast
    PixelSearch, bX, bY, W/3.05, H/1.29, W/1.49, H/1.195, 0x6969FF, 0, fast
    
    If(aX and aY and bX and bY) {
        MouseMove, aX, aY
        
        if(bX < aX) {
            Send {Click down}
        } Else {
            Send {Click up}
        }
    } Else If(BaitToggle and (A_TickCount - Time) >= 120000 and (T2BaitAmount > 0 or T1BaitAmount > 0)) {
        Time := A_TickCount
        MouseMove, 500, 500
        
        If(T2BaitAmount > 0) {
            Send %T2BaitSlot%
            T2BaitAmount := T2BaitAmount - 1
            Send {Click down}
            Sleep, 1100
            Send {Click up}
        }
        
        If(T1BaitAmount > 0 and (BaitSameTime or T2BaitAmount <= 0)) {
            Send %T1BaitSlot%
            T1BaitAmount := T1BaitAmount - 1
            Send {Click down}
            Sleep, 1100
            Send {Click up}
        }
        
        Send %RodSlot%
        Send {Click down}
        Sleep, 500
        Send {Click up}
    } Else If(aX and aY and !bX and !bY) {
        MouseMove, aX, aY
        Send {Click down}
        Sleep, 500
        Send {Click up}
        Sleep, 2000
    }  Else {
        MouseMove, 0, 0
    }
}