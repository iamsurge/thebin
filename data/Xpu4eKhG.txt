var categorySubmenus = [];

	$categoryMenu.on('mouseenter', '.js-category-menu-item-link', function () {

		var $item = $(this).closest('.js-category-menu-item');
		var $submenu = $item.find('.js-category-submenu');
		var submenuIndex = $item.index();

		$categoryMenu.find('.js-category-submenu').not($submenu).parent().removeClass('category-menu-item--active');

		clearTimeout(categorySubmenus[ submenuIndex ]);
		$item.addClass('category-menu-item--active');

	});

	$categoryMenu.on('mouseenter', '.js-category-submenu', function () {

		var $submenu = $(this);
		var $item = $submenu.closest('.js-category-menu-item');
		var submenuIndex = $item.index();

		$categoryMenu.find('.js-category-submenu').not($submenu).parent().removeClass('category-menu-item--active');

		clearTimeout(categorySubmenus[ submenuIndex ]);
		$item.addClass('category-menu-item--active');

	});

	$categoryMenu.on('mouseleave', '.js-category-menu-item-link', function () {

		var $item = $(this).closest('.js-category-menu-item');
		var submenuIndex = $item.index();

		categorySubmenus[ submenuIndex ] = setTimeout(function () {
			$item.removeClass('category-menu-item--active');
		}, 1000);

	});

	$categoryMenu.on('mouseleave', '.js-category-submenu', function (e) {

		var $submenu = $(this);
		var $item = $submenu.closest('.js-category-menu-item');
		var submenuIndex = $item.index();

		categorySubmenus[ submenuIndex ] = setTimeout(function () {
			$item.removeClass('category-menu-item--active');
		}, 1000);

	});