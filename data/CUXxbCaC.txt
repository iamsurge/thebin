using System;
using System.Collections.Generic;
using System.Threading.Tasks;

namespace ConsoleApp1
{
    class Program
    {
        private static Dictionary<string, ICallable> smthName = new Dictionary<string, ICallable>();
        public static string key { get; private set; }
        static void Main(string[] args)
        {
            addMethods();

            key = Console.ReadLine();

            MethodName();
        }

        public static void MethodName(bool ran = false)
        {
            if (ran)
            {
                Random rand = new Random();
                rand.Next(0, 3);
                Keys enums = (Keys)rand.Next(0, 3);
                key = enums.ToString();
            }
            if (smthName.ContainsKey(key))
            {
                smthName[key].Call();
            }
        }

        private static void addMethods()
        {
            ICallable call = new Triangle();
            smthName.Add("Triangle", call);

            call = new Square();
            smthName.Add("Square", call);

            call = new Disk();
            smthName.Add("Disk", call);

            call = new Rand();
            smthName.Add("Rand", call);

            call = new MansDick();
            smthName.Add("MansDick", call);
        }
    }

    public enum Keys
    {
        Triangle,
        Square,
        Disk,
        Rand,
        MansDick
    }

    public class Triangle : ICallable
    {
        public void Call()
        {
            Console.WriteLine("Triangle");
        }
    }
    public class Square : ICallable
    {
        public void Call()
        {
            Console.WriteLine("Square");
        }
    }
    public class Disk : ICallable
    {
        public void Call()
        {
            Console.WriteLine("Disk");
        }
    }
    public class MansDick : ICallable
    {
        public void Call()
        {
            Console.WriteLine("MansDick");
        }
    }
    public class Rand : ICallable
    {
        public void Call()
        {
            Console.WriteLine("Rand");
            Program.MethodName(true);
        }
    }


    public interface ICallable
    {
        public void Call() { }
    }
}
