event = require("event")
component = require("component")
chat = require("component").chatbox
dbg = require("component").debug
wi = require("component").world_interface
unicode = require("unicode")
serialization = require("serialization")
math = require("math")
thread = require("thread")
modem = require("component").modem

tbar =
    thread.create(
    function()
        os.execute("/home/barier")
    end
)

nickadm = "Goodbird"

dbg.sendToClipboard("Goodbird", "tell1(nick,'@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Хо-хо-хо! Помоги! Случилась беда!")

function tell1(nick, msg) --голубой текст
    chat.tell(nickadm, msg)
    dbg.runCommand("tellraw " .. nick .. ' {"text":"' .. msg .. '","color":"light_blue"}')
end

function say(nick, msg) --белый текст
    chat.tell(nickadm, msg)
    dbg.runCommand("tellraw " .. nick .. ' {"text":"' .. msg .. '"}')
end

function sgl(msg)
    plistlist = dbg.getPlayers()
    for i = 1, #plist do
        chat.tell(plist[i], msg)
    end
end
function bardemon(block_id)
    dbg.getWorld().setBlocks(-1152, 175, -1155, -1156, 179, -1155, block_id, 0)
    dbg.getWorld().setBlocks(-1156, 175, -1151, -1156, 179, -1155, block_id, 0)
    dbg.getWorld().setBlocks(-1156, 175, -1151, -1152, 179, -1151, block_id, 0)
    dbg.getWorld().setBlocks(-1152, 175, -1155, -1152, 179, -1151, block_id, 0)
    dbg.getWorld().setBlocks(-1152, 179, -1151, -1156, 179, -1155, block_id, 0)
end
function witch(x,y,z,health,damage)
    print(dbg.runCommand('/summon GrimoireOfGaia.Banshee '..x..' '..y..' '..z..' EntityData:{ForgeData:{ezModsApp:1b,},Attributes:[0:{Base:-2.0d,Modifiers:[0:{UUIDMost:10000,UUIDLeast:1,Amount:1.0d,Operation:0,Name:"normal",},],Name:"tc.mobmod",},1:{Base:'..health..'.0d,Name:"generic.maxHealth",},2:{Base:1.0d,Name:"generic.knockbackResistance",},3:{Base:0.25d,Name:"generic.movementSpeed",},4:{Base:16.0d,Modifiers:[0:{UUIDMost:125861830017700L,UUIDLeast:-4909176799415525903L,Amount:0.012437538782847797d,Operation:1,Name:"Random spawn bonus",},],Name:"generic.followRange",},5:{Base:'..damage..'d,Name:"generic.attackDamage",},],Invulnerable:0b,PortalCooldown:0,AbsorptionAmount:0.0f,FallDistance:0.0f,DeathTime:0s,SkeletonType:0b,DropChances:[0:0.0f,1:0.0f,2:0.0f,3:0.0f,4:0.0f],PersistenceRequired:0b,HealF:'..health..'.0f,Motion:[0:0.0d,1:-0.0784000015258789d,2:0.0d],Leashed:0b,UUIDLeast:7728467387771364009L,Health:18s,Air:300s,OnGround:1b,Dimension:0,Rotation:[0:38.6272f,1:0.0f],UUIDMost:125861829477400L,Equipment:[0:{id:5618,Count:1b,Damage:0s,},1:{id:4582,Count:1b},2:{id:4562,Count:1b},3:{id:4561,Count:1b},4:{id:4560,Count:1b},],CustomName:"Карамельная ведьмочка",Pos:[0:-426.5d,1:1.0d,2:1000.5d],Fire:-1s,CanPickUpLoot:0b,HurtTime:0s,AttackTime:0s,CustomNameVisible:0b,}'))
end
function tell(nick, msg)
    chat.tell(nickadm, msg)
    dbg.runCommand("tellraw " .. nick .. ' {"text":"' .. msg .. '","color":"dark_green"}')
end
function clearitems(yl)
    dbg.runCommand("summon PrimedTnt -1166 " .. yl .. " -1173")
    os.sleep(1)
    dbg.runCommand("summon PrimedTnt -1170 " .. yl .. " -1151")
    os.sleep(1)
    dbg.runCommand("summon PrimedTnt -1168 " .. yl .. " -1141")
    os.sleep(1)
    dbg.runCommand("summon PrimedTnt -1167 " .. yl .. " -1131")
    os.sleep(1)
    dbg.runCommand("summon PrimedTnt -1166 " .. yl .. " -1168")
    os.sleep(1)
    dbg.runCommand("summon PrimedTnt -1163 " .. yl .. " -1152")
    os.sleep(1)
    dbg.runCommand("summon PrimedTnt -1174 " .. yl .. " -1152")
    os.sleep(1)
end
function counter()
    while true do
        glcount = glcount + 1
        os.sleep(1)
    end
end
health = 100000
--ОЧИСТКА ОТ МОБОВ
try(function()
while true do
    if (tbar:status() == "dead") then
        tbar =
            thread.create(
            function()
                os.execute("/home/barier")
            end
        )
    end
    msg = ""
    hard = 0
    junk, junk, nick, msg = event.pull("chat_message")
    print(msg)
    msg = unicode.lower(msg)
    if (msg == "хо-хо-хо!") then
        plobj1 = dbg.getPlayer(nick)
        if (plobj1.getWorld() ~= nil) then
            xf, yf, zf = plobj1.getPosition()
            dimid1 = plobj1.getWorld().getDimensionId()
        else
            dimid1 = 21
        end
        if (xf > -1436) and (xf < -1410) and (zf > -1442) and (zf < -1403) and (dimid1 == 20) then
            sgl("§3" .. nick .. " отправился спасать Рождество!")
            --os.sleep(10)
            dbg.getWorld().setBlock(-1185, 167, -1153, 2152, 0)
            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Хо-хо-хо! Помоги! Случилась беда!")
            os.sleep(3)
            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Если ты не поможешь - может не быть Рождества!")
            os.sleep(3)
            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Чтоб помочь мне - иди и мой дом защити!")
            os.sleep(3)
            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Злобных тварей оттуда скорей прогони!")
            os.sleep(3)
            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Но для начала верность мне докажи:")
            os.sleep(3)
            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Принеси одну вещь и мне покажи!")
            os.sleep(3)
            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Алмаз, конденсатор драконий или квантов панель")
            os.sleep(3)
            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Принеси мне. Прошу! Умоляю! Скорей!!")
            os.sleep(3)
            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Напиши конденсатор, алмаз иль панель ")
            os.sleep(3)
            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Нельзя терять ни минуты теперь!")
            exj = 0
            countmsg = 0
            while ((exj == 0) and (countmsg < 120)) do
                print(countmsg)
                junk, junk, nick1, msg = event.pull(1, "chat_message")
                countmsg = countmsg + 1
                if (msg == nil) then
                    msg = " "
                end
                msg = unicode.lower(msg)
                if ((nick1 == nick) and ((msg == "алмаз") or (msg == "панель") or (msg == "конденсатор"))) then
                    if (msg == "алмаз") then
                        b1 = wi.clearItem(nick, "minecraft:diamond", 0, 1)
                        if (b1 == true) then
                            hard = 1
                            exj = 1
                        else
                            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Где то, что ты хочешь мне показать?")
                        end
                    end
                    if (msg == "панель") then
                        b1 = wi.clearItem(nick, "AdvancedSolarPanel:BlockAdvSolarPanel", 3, 1)
                        if (b1 == true) then
                            hard = 2
                            exj = 1
                        else
                            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Где то, что ты хочешь мне показать?")
                        end
                    end
                    if (msg == "конденсатор") then
                        b1 = wi.clearItem(nick, "DraconicEvolution:draconiumFluxCapacitor", 1, 1)
                        if (b1 == true) then
                            hard = 3
                            exj = 1
                        else
                            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Где то, что ты хочешь мне показать?")
                        end
                    end
                end
            end
            if (countmsg > 118) then
                os.execute("reboot")
            end
            os.sleep(1)
            bardemon(2152)
            dbg.getWorld().setBlocks(-1165, 163, -1160, -1165, 159, -1161, 5, 1)
            dbg.getWorld().setTileNBT(
                -1144,
                175,
                -1153,
                {
                    value = {
                        x = {value = -1144, type = 3},
                        y = {value = 175, type = 3},
                        Items = {value = {n = 0}, type = 9},
                        id = {value = "IronChest.DIAMOND", type = 8},
                        z = {value = -1153, type = 3},
                        facing = {value = 4, type = 1}
                    },
                    type = 10
                }
            )
            dbg.getWorld().setBlock(-1144, 175, -1153, 0, 0)
            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : В сани садись! Полетели со мной!")
            os.sleep(1)
            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Принесу тебя быстро к себе я домой!")
            os.sleep(3)
            dbg.getWorld().setBlocks(-1170, 159, -1160, -1174, 159, -1164, 2152, 0)
            dbg.getWorld().setBlocks(-1170, 159, -1160, -1174, 163, -1160, 2152, 0)
            dbg.getWorld().setBlocks(-1170, 159, -1160, -1170, 163, -1164, 2152, 0)
            dbg.getWorld().setBlocks(-1174, 159, -1164, -1170, 163, -1164, 2152, 0)
            dbg.getWorld().setBlocks(-1174, 159, -1164, -1174, 163, -1160, 2152, 0)
            dbg.getWorld().setBlocks(-1170, 163, -1164, -1174, 163, -1160, 2152, 0)
            dbg.getWorld().setBlocks(-1166, 160, -1161, -1166, 163, -1160, 2152, 0)
            barname = nick
            dbg.getWorld().setTileNBT(-1164,163,-1160,{type=10,value={text14={type=8,value=""},vertAngle={type=3,value=1},text10={type=8,value=""},text2={type=8,value=""},s2y={type=3,value=0},s2rot={type=3,value=0},locked={type=1,value=0},textscale={type=11,value={1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,n=15}},numoflines={type=3,value=10},s1scale={type=3,value=1},text12={type=8,value=""},x={type=3,value=-1163},lockee={type=8,value=""},z={type=3,value=-1159},y={type=3,value=163},text11={type=8,value=""},text4={type=8,value=""},s1y={type=3,value=0},shift={type=3,value=0},text13={type=8,value=""},text9={type=8,value=""},angle={type=3,value=1},s2x={type=3,value=0},text1={type=8,value=""},id={type=8,value="fancySignTile"},text6={type=8,value=""},s1x={type=3,value=0},text5={type=8,value=""},text3={type=8,value=""},s1rot={type=3,value=0},text8={type=8,value=""},Inventory={type=9,value={n=0}},s2scale={type=3,value=1},text0={type=8,value=""},text7={type=8,value=""},customTexture={type=8,value="none"}}})
            dbg.getWorld().setTileNBT(-1164,163,-1161,{type=10,value={s2y={type=3,value=0},text14={type=8,value=""},s2rot={type=3,value=0},text3={type=8,value=""},y={type=3,value=163},s2x={type=3,value=0},text11={type=8,value=""},angle={type=3,value=3},x={type=3,value=-1162},text4={type=8,value=""},s2scale={type=3,value=1},text10={type=8,value=""},numoflines={type=3,value=10},text9={type=8,value=""},s1y={type=3,value=0},lockee={type=8,value=""},Inventory={type=9,value={n=0}},vertAngle={type=3,value=1},s1x={type=3,value=0},id={type=8,value="fancySignTile"},z={type=3,value=-1161},text2={type=8,value=""},textscale={type=11,value={1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,n=15}},text1={type=8,value=""},text0={type=8,value=""},customTexture={type=8,value="none"},shift={type=3,value=0},text12={type=8,value=""},text8={type=8,value=""},text5={type=8,value=""},text6={type=8,value=""},s1scale={type=3,value=1},s1rot={type=3,value=0},text13={type=8,value=""},text7={type=8,value=""},locked={type=1,value=0}}})
            dbg.getWorld().setTileNBT(-1164,161,-1160,{type=10,value={text14={type=8,value=""},vertAngle={type=3,value=1},text10={type=8,value=""},text2={type=8,value=""},s2y={type=3,value=0},s2rot={type=3,value=0},locked={type=1,value=0},textscale={type=11,value={1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,n=15}},numoflines={type=3,value=10},s1scale={type=3,value=1},text12={type=8,value=""},x={type=3,value=-1163},lockee={type=8,value=""},z={type=3,value=-1159},y={type=3,value=163},text11={type=8,value=""},text4={type=8,value=""},s1y={type=3,value=0},shift={type=3,value=0},text13={type=8,value=""},text9={type=8,value=""},angle={type=3,value=1},s2x={type=3,value=0},text1={type=8,value=""},id={type=8,value="fancySignTile"},text6={type=8,value=""},s1x={type=3,value=0},text5={type=8,value=""},text3={type=8,value=""},s1rot={type=3,value=0},text8={type=8,value=""},Inventory={type=9,value={n=0}},s2scale={type=3,value=1},text0={type=8,value=""},text7={type=8,value=""},customTexture={type=8,value="none"}}})
            dbg.getWorld().setTileNBT(-1164,161,-1161,{type=10,value={s2y={type=3,value=0},text14={type=8,value=""},s2rot={type=3,value=0},text3={type=8,value=""},y={type=3,value=163},s2x={type=3,value=0},text11={type=8,value=""},angle={type=3,value=3},x={type=3,value=-1162},text4={type=8,value=""},s2scale={type=3,value=1},text10={type=8,value=""},numoflines={type=3,value=10},text9={type=8,value=""},s1y={type=3,value=0},lockee={type=8,value=""},Inventory={type=9,value={n=0}},vertAngle={type=3,value=1},s1x={type=3,value=0},id={type=8,value="fancySignTile"},z={type=3,value=-1161},text2={type=8,value=""},textscale={type=11,value={1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,n=15}},text1={type=8,value=""},text0={type=8,value=""},customTexture={type=8,value="none"},shift={type=3,value=0},text12={type=8,value=""},text8={type=8,value=""},text5={type=8,value=""},text6={type=8,value=""},s1scale={type=3,value=1},s1rot={type=3,value=0},text13={type=8,value=""},text7={type=8,value=""},locked={type=1,value=0}}})
            file1=io.open('/home/plist','r')
            file1 = io.open("/home/plist", "r")
            print(file1)
            dpl = serialization.unserialize(file1:read("*a"))
            if (dpl[nick] == nil) or (dpl[nick][hard] == 0) then
                print(exj)
                if (exj == 1) then
                    --modem.broadcast(111,'stop')
                    nick1 = nick
                    dbg.getPlayer(nick).setPosition(-1465, 216, -905.5)
                    tell1(nick, "§bСани пролетали над снежными горами...")
                    os.sleep(15)
                    dbg.getPlayer(nick).setPosition(-1215, 97, -1491.5)
                    tell1(nick, "§bНад заснеженной деревушкой...")
                    os.sleep(15)
                    dbg.getPlayer(nick).setPosition(-1506.5, 89, -1477.5)
                    tell1(nick, "§bМимо скованной льдом речки...")
                    os.sleep(15)
                    --modem.broadcast(111,nick)
                    --os.sleep(10)

                    dbg.getPlayer(nick).setPosition(-1165.5, 220, -1164.5)
                    os.sleep(5)
                    tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : В пути помогла Вифлиема звезда!")
                    os.sleep(3)
                    tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Вот он мой дом! Опускайся туда!")
                    os.sleep(1)
                    dbg.getPlayer(nick).setPosition(-1187.5, 167, -1152.5)
                    if (hard == 1) then
                        health = 30
                        damage = 1.5
                        os.execute("/home/chestfill1")
                    else
                        if (hard == 2) then
                            damage = 15
                            os.execute("/home/chestfill2")
                            health = 350
                        else
                            health = 20000
                            damage = 200
                            os.execute("/home/chestfill3")
                        end
                    end
                    tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Четыре реликвии праздник дают")
                    os.sleep(3)
                    tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : О них в Рождество люди песни поют")
                    os.sleep(3)
                    tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Часы, звон которых мы слышим в ночи")
                    os.sleep(3)
                    tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Огонь, что горит в каждом доме в печи")
                    os.sleep(3)
                    tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Елка в игрушках и новогодних огнях")
                    os.sleep(3)
                    tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Подарки в мешке, у Санты в санях")
                    os.sleep(3)
                    tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Четыре реликвии, четыре ключа")
                    os.sleep(3)
                    tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Я все рассказал. Удачи! Пока!")
                    dbg.getWorld().setBlock(-1185, 167, -1153, 0, 0)
                    --os.sleep(10)
                    dbg.runCommand("playsound random.door_open " .. nick .. " 269 67 -260 1.0")
                    os.sleep(0.1)
                    dbg.runCommand("playsound random.door_close " .. nick .. " 269 67 -260 1.0")
                    tell(nick, "§2§lВы входите в дом и чувствуете удивительный запах разных сладостей")
                    os.sleep(1)
                    tell(nick, "§2§lИ в том числе аромат вашего  любимого, §6§lморковного торта!")
                    os.sleep(1)
                    tell(nick, "§2§lОпределенно надо его попробовать!")
                    hasclock = 0
                    hasfire = 0
                    haspresent = 0
                    hastree = 0
                    glcount = 0
                    tcount =
                        thread.create(
                        function()
                            counter()
                        end
                    )
                    exdemon = 0
                    exclock = 0
                    excor = 0
                    exletters = 0
                    os.sleep(1)
                    say(nick, "@§0Визериус§ : Я не допущу этого Рождества! Немедленно убить прибывшего!")
                    os.sleep(1)
                    say(nick, "@§5Ведьмочка§ : Уже лечу!")
                    witch(-1173, 167, -1158, health, damage)
                    say(nick, "@§5Ведьмочка§ : Сейчас убью!")
                    witch(-1173, 167, -1153, health, damage)
                    say(nick, "@§5Ведьмочка§ : А я подружке помогу!")
                    witch(-1173, 167, -1148, health, damage)
                    excyc = 0
                    exvil = 0
                    dimid = 20
                    exsoul = 0
                    while ((excyc == 0) and (dimid == 20) and (glcount <= 3600)) do
                        try(function()
                        --print(glcount)
                        os.sleep(0)
                        dimpl = dbg.getPlayer(nick)
                        if (dimpl.getWorld() ~= nil) then
                            x, y, z = dimpl.getPosition()
                            dimid = dimpl.getWorld().getDimensionId()
                        else
                            dimid = 20
                            x = 269
                            y = 67
                            z = -260
                        end
                        if (y > 174) and (exdemon == 0) then
                            bardemon(2152)
                            os.sleep(2)
                            say(nick, "@§4Адский Демон§  : Огонь из камина странный такой")
                            os.sleep(2)
                            say(nick, "@§4Адский Демон§  : Ласковый, теплый, как будто ручной!")
                            os.sleep(2)
                            say(nick, "@§4Адский Демон§  : Раньше он свет и тепло лишь давал")
                            os.sleep(2)
                            say(nick, "@§4Адский Демон§  : Но сделаю я, чтоб весь дом полыхал!")
                            os.sleep(2)
                            say(nick, "@§4Адский Демон§  : Барьер возведу я прочный, большой,")
                            os.sleep(2)
                            say(nick, "@§4Адский Демон§  : тебе не сломать его даже киркой!")
                            os.sleep(2)
                            say(nick, "@§4Адский Демон§  : Сейчас ведь не видно меня даже за ним!")
                            os.sleep(2)
                            say(nick, "@§4Адский Демон§  : А значит я просто непобедим!!!")
                            exdemon = 1
                        end
                        if (y > 174) and (z > -1145) and (excor == 0) then
                            tell(nick, "§2§lВы входите в коридор и чувствуете сильный сквозняк")
                            os.sleep(1)
                            tell(nick, "§2§lВидимо, Санта забыл закрыть балкон!")
                            os.sleep(1)
                            tell(nick, "§2§lИнтересно, что может быть там?")
                            os.sleep(1)
                            tell(nick, "§l§lЧто это был за шум??")
                            os.sleep(1)
                            witch(-1160, 176, -1131, health, damage)
                            witch(-1164, 176, -1131, health, damage)
                            witch(-1168, 176, -1131, health, damage)
                            say(nick, "@§5Ведьмочка§ : Игрока мы вмиг убьем!")
                            say(nick, "@§5Ведьмочка§ : Босса мы не подведем!")
                            excor = 1
                        end
                        if (y > 174) and ((z < -1145) and (z > -1160)) and (x < -1175) and (exletters == 0) then
                            tell(nick, "§2§lВы видите большой письменный стол, на котором лежит лист бумаги")
                            os.sleep(1)
                            tell(nick, "§2§lЭто же письма от детей Санте!")
                            os.sleep(1)
                            tell(nick, "§2§lНаверняка где-то рядом есть сундук, где эти письма лежат")
                            os.sleep(1)
                            tell(nick, "§2§lИ вдруг вы слышите звук рвущейся бумаги!!")
                            witch(-1175, 175, -1143, health, damage)
                            witch(-1177, 175, -1147, health, damage)
                            witch(-1183, 175, -1150, health, damage)
                            say(nick, "@§5Ведьмочка§ : Письма Санты мы порвем!")
                            say(nick, "@§5Ведьмочка§ : Праздник детям мы сорвем!!")
                            exletters = 1
                        end
                        x1 = math.floor(x)
                        y1 = math.floor(y)
                        z1 = math.floor(z)
                        --print(x1,y1,z1)
                        if (exdemon == 1) and (exclock == 0) and (hasclock == 1) then
                            os.sleep(10)
                            dbg.getPlayer(nick).setPosition(-1157.66, 175, -1152.284)
                            say(nick, "@§eЧасы, бьющие полночь§ : Динь-дон, динь-дон ")
                            os.sleep(1)
                            say(nick, "@§eЧасы, бьющие полночь§ : Барьер пробьет курантов звон!")
                            bardemon(196)
                            print(dbg.runCommand('/summon Blaze -1153.5 175 -1152.5 EntityData:{ForgeData:{ezModsApp:1b,},Attributes:[0:{Base:-2.0d,Modifiers:[0:{UUIDMost:10000,UUIDLeast:1,Amount:1.0d,Operation:0,Name:"normal",},],Name:"tc.mobmod",},1:{Base:'..health..'.0d,Name:"generic.maxHealth",},2:{Base:1.0d,Name:"generic.knockbackResistance",},3:{Base:0.25d,Name:"generic.movementSpeed",},4:{Base:16.0d,Modifiers:[0:{UUIDMost:125861830017700L,UUIDLeast:-4909176799415525903L,Amount:0.012437538782847797d,Operation:1,Name:"Random spawn bonus",},],Name:"generic.followRange",},5:{Base:100d,Name:"generic.attackDamage",},],Invulnerable:0b,PortalCooldown:0,AbsorptionAmount:0.0f,FallDistance:0.0f,DeathTime:0s,SkeletonType:0b,DropChances:[0:100.0f,1:100.0f,2:100.0f,3:100.0f,4:100.0f],PersistenceRequired:0b,HealF:'..health..'.0f,Motion:[0:0.0d,1:-0.0784000015258789d,2:0.0d],Leashed:0b,UUIDLeast:7728467387771364009L,Health:18s,Air:300s,OnGround:1b,Dimension:0,Rotation:[0:38.6272f,1:0.0f],UUIDMost:125861829477400L,Equipment:[0:{},1:{id:51,Count:1b,Damage:1b,tag:{display:{Name:"§6Душа демона огня",Lore:[0:"Душа демона огня"]}}},2:{},3:{},4:{},],CustomName:"Огненный демон",Pos:[0:-426.5d,1:1.0d,2:1000.5d],Fire:-1s,CanPickUpLoot:0b,HurtTime:0s,AttackTime:0s,CustomNameVisible:0b,}'))
                            os.sleep(4)
                            say(nick, "@§eЧасы, бьющие полночь§ : Динь-динь, дон-дон ")
                            os.sleep(1)
                            say(nick, "@§eЧасы, бьющие полночь§ : Уж трещины дает заслон! ")
                            bardemon(20)
                            os.sleep(4)
                            say(nick, "@§eЧасы, бьющие полночь§ : Тик-так, БОМ-БОМ")
                            bardemon(0)
                            os.sleep(1)
                            say(nick, "@§eЧасы, бьющие полночь§ : Иди скорей на бой с врагом! ")
                            exclock = 1
                        end
                        if (exsoul == 0) then
                            b1 = wi.clearItem(nick, "minecraft:fire", 1, 1)
                            if (b1) then
                                os.sleep(1)
                                exsoul = 1
                                tell(nick, "§2Вы подбираете с пола какой-то странный предмет")
                                os.sleep(1)
                                dbg.getWorld().setBlock(-1144, 175, -1153, 2146, 2)
                                tell(nick, "§2Видимо, это была душа того демона...")
                                if (hard == 1) then
                                    os.execute("/home/dchest1")
                                end
                                if (hard == 2) then
                                    os.execute("/home/dchest2")
                                end
                                if (hard == 3) then
                                    os.execute("/home/dchest3")
                                end
                                os.sleep(1)
                                tell(nick, "§2Вы вдруг чувствуете за своей спиной странное тепло")
                                os.sleep(1)
                                tell(nick, "§2Оборачиваетесь и видите сундук, который буквально лучится светом!")
                            end
                        end
                        if (hasclock == 0) then
                            b1 = wi.clearItem(nick, "BiblioCraft:BiblioClock", 0, 1)
                            if (b1) then
                                hasclock = 1
                                say(nick, "@§eЧасы, бьющие полночь§ : Тик-так, бом-бом! ")
                                say(nick, "@§eЧасы, бьющие полночь§ : Когда надо - мы придем!! ")
                            end
                        end
                        if (haspresent == 0) then
                            b2 = wi.clearItem(nick, "Thaumcraft:ItemLootBag", 2, 1)
                            if (b2) then
                                haspresent = 1
                                say(nick, "@§4Подарки в мешке§ : Хлоп-хлоп, бом-бом!")
                                say(nick, "@§4Подарки в мешке§ : Врага петардой мы взорвем!")
                            end
                        end
                        if (hasfire == 0) then
                            b3 = wi.clearItem(nick, "minecraft:blaze_powder", 0, 1)
                            if (b3) then
                                hasfire = 1
                                say(nick, "@§6Огонь, горящий в камине§ : Тебя согрею я, друг мой!")
                                say(nick, "@§6Огонь, горящий в камине§ : Врага же ждет пожар большой!!")
                            end
                        end
                        if (hastree == 0) then
                            b4 = wi.clearItem(nick, "minecraft:sapling", 1, 1)
                            if (b4) then
                                hastree = 1
                                say(nick, "@§2Елка, украшенная игрушками§ : Веселье и радость тебе подарю!")
                                say(nick, "@§2Елка, украшенная игрушками§ : Злодея - иголками вмиг заколю!")
                            end
                        end
                        if (y < 162) then
                            if (hasclock + hastree + haspresent + hasfire == 4) then
                                health = health * 2
                                print(damage)
                                say(nick, "@§aРеликвии Санты§ : Четыре реликвии праздник дают")
                                os.sleep(3)
                                say(nick, "@§aРеликвии Санты§ : О них в Рождество люди песни поют")
                                os.sleep(3)
                                say(nick, "@§eЧасы, бьющие полночь§ : Часы, звон которых мы слышим в ночи ")
                                dbg.getWorld().setTileNBT(-1164,163,-1160,{type=10,value={text14={type=8,value=""},vertAngle={type=3,value=1},text10={type=8,value=""},text2={type=8,value=""},s2y={type=3,value=0},s2rot={type=3,value=0},locked={type=1,value=0},textscale={type=11,value={1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,n=15}},numoflines={type=3,value=10},s1scale={type=3,value=5},text12={type=8,value=""},x={type=3,value=-1164},lockee={type=8,value=""},z={type=3,value=-1160},y={type=3,value=163},text11={type=8,value=""},text4={type=8,value=""},s1y={type=3,value=3},shift={type=3,value=0},text13={type=8,value=""},text9={type=8,value=""},angle={type=3,value=1},s2x={type=3,value=0},text1={type=8,value="§eЧасы, бьющие полночь"},id={type=8,value="fancySignTile"},text6={type=8,value=""},s1x={type=3,value=-17},text5={type=8,value=""},text3={type=8,value=""},s1rot={type=3,value=0},text8={type=8,value=""},Inventory={type=9,value={{type=10,value={Slot={type=1,value=0},Count={type=1,value=1},id={type=2,value=909},Damage={type=2,value=0}}},n=1}},s2scale={type=3,value=1},text0={type=8,value=""},text7={type=8,value=""},customTexture={type=8,value="none"}}})
                                os.sleep(3)    
                                say(nick,'@§6Огонь, горящий в камине§ : Огонь, что горит в каждом доме в печи')
                                dbg.getWorld().setTileNBT(-1164,163,-1161,{type=10,value={text14={type=8,value=""},vertAngle={type=3,value=1},text10={type=8,value=""},text2={type=8,value=""},s2y={type=3,value=0},s2rot={type=3,value=0},locked={type=1,value=0},textscale={type=11,value={1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,n=15}},numoflines={type=3,value=10},s1scale={type=3,value=5},text12={type=8,value=""},x={type=3,value=-1164},lockee={type=8,value=""},z={type=3,value=-1161},y={type=3,value=163},text11={type=8,value=""},text4={type=8,value=""},s1y={type=3,value=0},shift={type=3,value=0},text13={type=8,value=""},text9={type=8,value=""},angle={type=3,value=3},s2x={type=3,value=0},text1={type=8,value="§6Огонь, горящий в камине"},id={type=8,value="fancySignTile"},text6={type=8,value=""},s1x={type=3,value=-6},text5={type=8,value=""},text3={type=8,value=""},s1rot={type=3,value=0},text8={type=8,value=""},Inventory={type=9,value={{type=10,value={id={type=2,value=377},Count={type=1,value=1},Damage={type=2,value=0},tag={type=10,value={id={type=2,value=377},display={type=10,value={Name={type=8,value="§6Огонь, горящий в камине"},Lore={type=9,value={{type=8,value="§4Реликвия Санта Клауса"},n=1}}}},Count={type=1,value=1},Damage={type=2,value=0}}},Slot={type=1,value=0}}},n=1}},s2scale={type=3,value=1},text0={type=8,value=""},text7={type=8,value=""},customTexture={type=8,value="none"}}})
                                os.sleep(3)    
                                say(nick,'@§2Елка, украшенная игрушками§ : Елка в игрушках и новогодних огнях')
                                dbg.getWorld().setTileNBT(-1164,161,-1161,{type=10,value={text14={type=8,value=""},vertAngle={type=3,value=1},text10={type=8,value=""},text2={type=8,value=""},s2y={type=3,value=0},s2rot={type=3,value=0},locked={type=1,value=0},textscale={type=11,value={1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,n=15}},numoflines={type=3,value=10},s1scale={type=3,value=6},text12={type=8,value=""},x={type=3,value=-1164},lockee={type=8,value=""},z={type=3,value=-1161},y={type=3,value=161},text11={type=8,value=""},text4={type=8,value=""},s1y={type=3,value=0},shift={type=3,value=0},text13={type=8,value=""},text9={type=8,value=""},angle={type=3,value=3},s2x={type=3,value=0},text1={type=8,value=""},id={type=8,value="fancySignTile"},text6={type=8,value=""},s1x={type=3,value=-18},text5={type=8,value=""},text3={type=8,value=""},s1rot={type=3,value=1},text8={type=8,value=""},Inventory={type=9,value={{type=10,value={id={type=2,value=6},Count={type=1,value=1},Damage={type=2,value=1},tag={type=10,value={id={type=2,value=6},display={type=10,value={Name={type=8,value="§2Елка, украшенная игрушками"},Lore={type=9,value={{type=8,value="§4Реликвия Санта Клауса"},n=1}}}},Count={type=1,value=1},Damage={type=2,value=1}}},Slot={type=1,value=0}}},n=1}},s2scale={type=3,value=1},text0={type=8,value="§2Елка, украшенная игрушками"},text7={type=8,value=""},customTexture={type=8,value="none"}}})
                                os.sleep(3) 
                                say(nick,'@§4Подарки в мешке§ : Подарки в мешке, у Санты в санях')
                                dbg.getWorld().setTileNBT(-1164,161,-1160,{type=10,value={text14={type=8,value=""},vertAngle={type=3,value=1},text10={type=8,value=""},text2={type=8,value=""},s2y={type=3,value=0},s2rot={type=3,value=0},locked={type=1,value=0},textscale={type=11,value={1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,n=15}},numoflines={type=3,value=10},s1scale={type=3,value=5},text12={type=8,value=""},x={type=3,value=-1164},lockee={type=8,value=""},z={type=3,value=-1160},y={type=3,value=161},text11={type=8,value=""},text4={type=8,value=""},s1y={type=3,value=0},shift={type=3,value=0},text13={type=8,value=""},text9={type=8,value=""},angle={type=3,value=1},s2x={type=3,value=0},text1={type=8,value="§4Мешок, полный подарков"},id={type=8,value="fancySignTile"},text6={type=8,value=""},s1x={type=3,value=-15},text5={type=8,value=""},text3={type=8,value=""},s1rot={type=3,value=1},text8={type=8,value=""},Inventory={type=9,value={{type=10,value={id={type=2,value=4590},Count={type=1,value=1},Damage={type=2,value=2},tag={type=10,value={id={type=2,value=4590},display={type=10,value={Name={type=8,value="§4Мешок, полный подарков"},Lore={type=9,value={{type=8,value="§4Реликвия Санта Клауса"},n=1}}}},Count={type=1,value=1},Damage={type=2,value=2}}},Slot={type=1,value=0}}},n=1}},s2scale={type=3,value=1},text0={type=8,value=""},text7={type=8,value=""},customTexture={type=8,value="none"}}})
                                os.sleep(3)
                                say(nick, "@§aРеликвии Санты§ : Четыре реликвии, четыре ключа")
                                os.sleep(3)
                                dbg.getWorld().setBlocks(-1165, 163, -1160, -1165, 159, -1161, 0, 0)
                                say(nick, "@§aРеликвии Санты§ : Проход в мастерскую открыт для тебя!")
                                os.sleep(3)
                                say(nick, "@§0Визериус§ : Эх, я всегда знал, что ведьмы ничтожны...")
                                os.sleep(3)
                                say(nick, "@§0Визериус§ : Приходится делать все самому!")
                                os.sleep(3)
                                say(nick, "@§0Визериус§ : Эх, как же это все сложно...")
                                os.sleep(3)
                                say(nick, "@§0Визериус§ : Нет, не будет Рождества никому!!!")
                                os.sleep(3)
                                say(nick, "@§0Визериус§ : Систему Санты я сломаю!")
                                os.sleep(3)
                                say(nick, "@§0Визериус§ : И дом его я весь взорву!")
                                os.sleep(3)
                                say(nick, "@§0Визериус§ : Не сможешь помешать ты мне, ведь я бессмертен")
                                os.sleep(3)
                                say(nick, "@§0Визериус§ : Ничто уж не убьет меня, поверь!")
                                os.sleep(3)
                                say(nick, "@§0Визериус§ : Барьер, что создал я так прочен!")
                                os.sleep(3)
                                say(nick, "@§0Визериус§ : И не разбить его никак теперь!")
                                os.sleep(3)
                                say(nick, "@§0Визериус§ : А если и пройдешь - не одолеешь")
                                os.sleep(3)
                                say(nick, "@§0Визериус§ : Ты силой никакой меня!")
                                os.sleep(3)
                                say(nick, "@§0Визериус§ : Ведь даже ты меня не видишь")
                                os.sleep(3)
                                say(nick, "@§0Визериус§ : Куда тебе сразить меня!")
                                os.sleep(3)
                                say(nick, "@§2Елка, украшенная игрушками§ : Иголки мои зелены не зря!")
                                os.sleep(2)
                                say(nick, "@§2Елка, украшенная игрушками§ : Засыплю ими я тебя!")
                                os.sleep(3)
                                say(nick, "@§2Елка, украшенная игрушками§ : Увидит быстро наш герой,")
                                os.sleep(2)
                                say(nick, "@§2Елка, украшенная игрушками§ : Где ты стоишь, злобный такой!!")
                                print('boss ',dbg.runCommand('/summon WitherBoss -1171.5 161 -1161.5 EntityData:{ForgeData:{ezModsApp:1b,},Attributes:[0:{Base:-2.0d,Modifiers:[0:{UUIDMost:2189974539282499591L,UUIDLeast:-6477178668949725305L,Amount:1.0d,Operation:0,Name:"normal",},],Name:"tc.mobmod",},1:{Base:'..health..'.0d,Name:"generic.maxHealth",},2:{Base:0.0d,Name:"generic.knockbackResistance",},3:{Base:0.6000000238418579d,Name:"generic.movementSpeed",},4:{Base:40.0d,Name:"generic.followRange",},5:{Base:'..damage..',Name:"generic.attackDamage",},],Invulnerable:0b,PortalCooldown:0,AbsorptionAmount:0.0f,Invul:218,FallDistance:0.047040004f,DeathTime:0s,DropChances:[0:100.0f,1:100.0f,2:100.0f,3:100.0f,4:0.085f],PersistenceRequired:0b,HealF:'..health..'.0f,Motion:[0:0.0d,1:-0.12449920515213023d,2:0.0d],Leashed:0b,UUIDLeast:3538317812765033891L,Health:270s,Air:300s,OnGround:0b,Dimension:0,Rotation:[0:0.0f,1:0.0f],UUIDMost:28817536790700L,Equipment:[0:{},1:{id:263s,Count:1b,Damage:0s,tag:{display:{Lore:[0:"§0Холодное и неприятное"],Name:"§0Сердце Визериуса"}}},2:{},3:{},4:{},],CustomName:"§0Визериус",Pos:[0:-1345.5d,1:4.502959997215271d,2:550.5d],Fire:-1s,CanPickUpLoot:0b,HurtTime:0s,AttackTime:0s,CustomNameVisible:0b,}'))
                                os.sleep(3)
                                say(nick, "@§6Огонь, горящий в камине§ : Ясным пламенем гори")
                                os.sleep(2)
                                say(nick, "@§6Огонь, горящий в камине§ : Выжгу злобу в тебе изнутри!")
                                os.sleep(3)
                                say(nick, "@§4Подарки в мешке§ : Бом-бом!")
                                os.sleep(2)
                                say(nick, "@§4Подарки в мешке§ : Петардой, хлопушкой тебя мы взорвем!")
                                os.sleep(3)
                                say(nick, "@§eЧасы, бьющие полночь§ : Дин-дон, дин-дон! ")
                                os.sleep(2)
                                say(nick, "@§eЧасы, бьющие полночь§ : Уничтожим вновь заслон!")
                                dbg.getWorld().setBlocks(-1170, 159, -1164, -1174, 163, -1160, 0, 0)
                                dbg.getWorld().setBlocks(-1166, 160, -1161, -1166, 163, -1160, 0, 0)
                                --dbg.getWorld().setBlock(269,103,-268,2323,0)
                                --dbg.getWorld().setTileNBT(269,103,-268,{type=10,value={x={type=3,value=269},y={type=3,value=103},lastInput={type=1,value=0},z={type=3,value=-268},streamurl={type=8,value="https://ruv.hotmo.org/get/music/20190407/Heroes_of_Might_and_Magic_3_-_Battle_Theme_63357367.mp3"},volume={type=5,value=0.90000007152557},input={type=1,value=0},speakersCount={type=3,value=0},lastState={type=1,value=1},id={type=8,value="Radio"}}})
                                --dbg.runCommand("playsound portal.travel "..nick.." 269 99 -269 1.0")
                                --dbg.getPlayer(nick).setPosition(269,106,-274)
                                exfl4 = 1
                                excyc = 1
                            end
                        end
                        end, function(e)

                        end) --tryCatch1End
                    end
                    excyc1 = 0
                    exwin = 0
                    print("beg")

                    while (excyc1 == 0) and (glcount <= 3600) do
                        try(function()
                        os.sleep(0)
                        --print('cyc')
                        if (dbg.getPlayer(nick).getWorld() ~= nil) then
                            dimid = dbg.getPlayer(nick).getWorld().getDimensionId()
                        else
                            dimid = 20
                        end
                        --print(dimid)
                        if (dimid ~= 20) then
                            print("dimid", dimid)
                            excyc1 = 1
                        end
                        bf =
                            wi.clearItem(
                            nick,
                            "minecraft:coal",
                            0,
                            1,
                            '{display:{Lore:[0:"§0Холодное и неприятное",],Name:"§0Сердце Визериуса",},}'
                        )
                        if (bf) then
                            excyc1 = 1
                            say(nick, "@§0Визериус§ : Ты убил меня. И что?")
                            os.sleep(3)
                            say(nick, "@§0Визериус§ : Не случилось ничего.")
                            os.sleep(3)
                            say(nick, "@§0Визериус§ : Вмиг я буду как живой!")
                            os.sleep(3)
                            say(nick, "@§0Визериус§ : Вновь сражайся ты со мной!")
                            os.sleep(3)
                            say(nick, "@§aРеликвии Санты§ : Сердце ты его добыл,")
                            os.sleep(3)
                            say(nick, "@§aРеликвии Санты§ : Усмирим мы злости пыл!")
                            os.sleep(3)
                            say(nick, "@§6Огонь, горящий в камине§ : Сердцу дар я свой даю")
                            os.sleep(3)
                            say(nick, "@§6Огонь, горящий в камине§ : Теплоту добра вселю!")
                            os.sleep(3)
                            say(nick, "@§2Елка, украшенная игрушками§ : В праздник не колет детишек игла")
                            os.sleep(3)
                            say(nick, "@§2Елка, украшенная игрушками§ : Сердцу дам храбрость творить много добра!")
                            os.sleep(3)
                            say(nick, "@§4Подарки в мешке§ : Ребятам праздник мы даем!")
                            os.sleep(3)
                            say(nick, "@§4Подарки в мешке§ : В сердце щедрость мы кладем!")
                            os.sleep(3)
                            say(nick, "@§eЧасы, бьющие полночь§ : Звоном своим прогоняем ненастье")
                            os.sleep(3)
                            say(nick, "@§eЧасы, бьющие полночь§ : Пусть сердце наполнится ритмом и счастьем")
                            os.sleep(3)
                            say(nick, "@§aРеликвии Санты§ : Визериуса мы зовем!")
                            os.sleep(3)
                            say(nick, "@§aРеликвии Санты§ : Сердце новое даем!")
                            os.sleep(3)
                            say(nick, "@§8Визериус§ : Ты меня очаровал")
                            os.sleep(3)
                            say(nick, "@§7Визериус§ : Рождество мне показал!")
                            os.sleep(3)
                            say(nick, "@§ Визериус§ : Злым быть больше не хочу!")
                            os.sleep(3)
                            say(nick, "@§bСеверус, дух метели§ : К Санте я уже лечу")
                            os.sleep(3)
                            say(nick, "@§bСеверус, дух метели§ : Буду Санте помогать")
                            os.sleep(3)
                            say(nick, "@§bСеверус, дух метели§ : И подарки создавать!")
                            os.sleep(3)
                            say(nick, "@§bСеверус, дух метели§ : Снегом все припорошу")
                            os.sleep(3)
                            say(nick, "@§bСеверус, дух метели§ : Праздник деткам улучшу!")
                            os.sleep(3)
                            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Ты мне помог!")
                            os.sleep(3)
                            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Тебя я хвалю!")
                            os.sleep(3)
                            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Мешочек тебе я сейчас подарю!")
                            os.sleep(3)
                            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Радости много тебе он принесет,")
                            os.sleep(3)
                            tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : А тебя сейчас магия домой унесет!")
                            dbg.getWorld().setBlock(-1180, 176, -1153, 1692, 0)
                            if (hard == 1) then
                                os.execute("nbt4")
                            else
                                if (hard == 2) then
                                    os.execute("nbt5")
                                else
                                    os.execute("nbt6")
                                end
                            end
                            dbg.getWorld().setBlock(-1180, 176, -1153, 0, 0)
                            dbg.getPlayer(nick).setPosition(-1178.5, 175, -1152.5)
                            if (dpl[nick] == nil) then
                                dpl[nick] = {}
                                dpl[nick][1] = 0
                                dpl[nick][2] = 0
                                dpl[nick][3] = 0
                            end
                            dpl[nick][hard] = 1
                            file1:close()
                            os.execute("rm /home/plist")
                            file1 = io.open("/home/plist", "w")
                            file1:write(serialization.serialize(dpl))
                            file1:close()
                            exwin = 1
                        --end
                        end
                        end, function(e)

                        end) --tryCatch2End
                    end
                    modem.broadcast(111, "stop")
                    if (exwin == 1) then
                        os.sleep(40)
                        print("win")
                        os.sleep(1)
                        tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Лети домой,")
                        tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Ты мой герой!")
                        os.sleep(1)
                        sgl("§5Поздравим " .. nick .. ", спасшего Рождество!")
                        dbg.getPlayer(nick).setPosition(-1416.4, 71, -1422.6)
                        barname = "nobody"
                    else
                        print("failure")
                        dbg.getWorld().setBlock(269, 103, -268, 0, 0)
                        barname = "nobody"
                        sgl("§4Визериус жестоко расправился с " .. nick)
                    end
                    --os.sleep(5)
                    --modem.broadcast(111,'all')
                    dbg.getWorld().setTileNBT(-1169,155,-1153,{type=10,value={SideCache={type=7,value="\2\0\1\1\2\0"},eventhelper_fakeUUID={type=8,value="e8084322-534e-11e9-a3f4-002590edbd0e"},Energy={type=3,value=24000},TickSlot={type=1,value=0},RS={type=10,value={Power={type=1,value=0},Mode={type=1,value=0}}},Owner={type=8,value="[None]"},eventhelper_fakeName={type=8,value="Goodbird"},Access={type=1,value=0},OwnerUUID={type=8,value="1ef1a6f0-87bc-4e78-0a0b-c6824eb787ea"},Inventory={type=9,value={{type=10,value={tag={type=10,value={Upgrades={type=10,value={RFCapacity={type=11,value={0,0,12,0,n=4}}}},Energy={type=3,value=510000000},ConfigProfiles={type=9,value={{type=10,value={WeaponAttackAOE={type=3,value=114}}},{type=10,value={}},{type=10,value={}},{type=10,value={}},{type=10,value={}},n=5}},ench={type=9,value={{type=10,value={lvl={type=2,value=10},id={type=2,value=21}}},{type=10,value={id={type=2,value=16},lvl={type=2,value=20000}}},n=2}}}},Count={type=1,value=1},id={type=2,value=5542},Slot={type=3,value=0},Damage={type=2,value=0}}},{type=10,value={tag={type=10,value={Energy={type=3,value=249975780}}},Count={type=1,value=1},id={type=2,value=5582},Slot={type=3,value=9},Damage={type=2,value=1}}},n=2}},Angle={type=1,value=1},id={type=8,value="thermalexpansion.Activator"},Sneaking={type=1,value=0},x={type=3,value=-1169},y={type=3,value=155},Augments={type=9,value={n=0}},z={type=3,value=-1153},Active={type=1,value=1},Facing={type=1,value=1},Version={type=8,value="1.7.10R4.1.5"},LeftClick={type=1,value=1}}})
os.sleep(3)
                    dbg.getWorld().setTileNBT(-1169,155,-1153,{value={Facing={value=1,type=1},TickSlot={value=0,type=1},id={value="thermalexpansion.Activator",type=8},Access={value=0,type=1},OwnerUUID={value="1ef1a6f0-87bc-4e78-0a0b-c6824eb787ea",type=8},eventhelper_fakeUUID={value="e8084322-534e-11e9-a3f4-002590edbd0e",type=8},Version={value="1.7.10R4.1.5",type=8},Active={value=1,type=1},Sneaking={value=0,type=1},eventhelper_fakeName={value="Goodbird",type=8},LeftClick={value=1,type=1},Augments={value={n=0},type=9},Owner={value="[None]",type=8},Angle={value=1,type=1},Inventory={value={{value={id={value=5582,type=2},Damage={value=1,type=2},tag={value={Energy={value=249971340,type=3}},type=10},Slot={value=9,type=3},Count={value=1,type=1}},type=10},n=1},type=9},RS={value={Mode={value=0,type=1},Power={value=0,type=1}},type=10},Energy={value=24000,type=3},y={value=155,type=3},x={value=-1169,type=3},SideCache={value="\2\0\1\1\1\1",type=7},z={value=-1153,type=3}},type=10})
                    --os.sleep(20)
                    --dbg.getWorld().setBlock(269,104,-269,1707,2)
                    --dbg.getWorld().setBlock(269,105,-269,0,0)
                    --dbg.getWorld().setBlock(269,104,-271,1707,2)
                    clearitems(161)
                    clearitems(168)
                    clearitems(177)
                    os.execute("reboot")
                --print(t)
                end
            else
                tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Ты же мне уж помогал,")
                tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Эту вещь мне предлагал!")
                tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : Злобу ты уж одолел")
                tell1(nick, "@С§cа§ н§cт§ а §cК§ л§cа§ у§cс§ : И наделал добрых дел!")
            end
        end
    end
end
end, function(e)

end) --tryCatch2End
--end
os.execute("reboot")
--test
