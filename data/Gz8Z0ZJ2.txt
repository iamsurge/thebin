// Consecutive bits

#include <stdio.h>

unsigned bits(unsigned n)
{
    unsigned nr=0,ok=2;
    for(unsigned m=~(~0u>>1);m;m>>=1)
	if(n&m)
	{
	     if(ok!=1)
	    {
		nr++;
		ok=1;
	    }
	}
	else
	{
	    if(ok!=0)
	    {
		nr++;
		ok=0;
	    }
	}
    return nr;
}

int main()
{
    printf("The number has %u consecutive bits",bits(4u));
    return 0;
}