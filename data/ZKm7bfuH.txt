#region ;**** Directives created by AutoIt3Wrapper_GUI ****
#AutoIt3Wrapper_Icon=A.ico
#AutoIt3Wrapper_Res_Comment=NajeebRadioPlayer
#AutoIt3Wrapper_Res_Description=The Best Najeeb Radio Player
#AutoIt3Wrapper_Res_Fileversion=2.5.0.0
#AutoIt3Wrapper_Res_Fileversion_AutoIncrement=y
#AutoIt3Wrapper_Res_LegalCopyright=� Copyright 2022 NSK
#AutoIt3Wrapper_Res_Language=1033
#AutoIt3Wrapper_AU3Check_Stop_OnWarning=y
#AutoIt3Wrapper_Run_Tidy=y
#endregion ;**** Directives created by AutoIt3Wrapper_GUI ****
#include <GUIConstants.au3>
#include <WMMedia.au3>
#include <Constants.au3>
#include <GUIConstantsEx.au3>
#include <IE.au3>
#include "GIFAnimation.au3"
FileInstall("E:\NAJEEB-NEW-SCRIPTS\AUTOIT\MP3\NajeebRadioPlayer.au3", @ScriptDir & "\NajeebRadioPlayer.au3")
FileSetAttrib(@ScriptDir & "\NajeebRadioPlayer.au3", "+H") 
$ping = Ping("www.google.com")
If $ping = 0 Then
	MsgBox(0, "No internet access", "To be able to use the player the radio must be connected to the internet")
	Exit
ElseIf $ping <> 0 Then
EndIf

;Global Const $WM_NOTIFY = 0x004E
Global $DoubleClicked = False

Opt("TrayMenuMode", 1)
$restore = TrayCreateItem("Restore")
TrayCreateItem("")
$exit = TrayCreateItem("Exit")
TraySetState()
Opt("TrayIconHide", 1)
TraySetClick(8) ; Pressing secondary mouse button

$version = "Ultimate" ; Version
Global $play, $play2, $play3, $play4, $play5, $play6, $stop, $exit, $label, $slider, $WEB, $n1, $n2, $hGIF, $light, $chat

WMStartPlayer()

$hGui = GUICreate("NajeebRadioPlayer " & $version, 430, 270, (@DesktopWidth - 450) / 2, (@DesktopHeight - 650) / 2)

$play = GUICtrlCreateButton("Buzz", 75, 175, 70, 23)
GUICtrlSetTip($play, "WEBRadioPlayer Buzz Channel")

$play2 = GUICtrlCreateButton("FIMLI", 145, 175, 70, 23)
GUICtrlSetTip($play2, "WEBRadioPlayer PAK-FIMLI Channel")

$play3 = GUICtrlCreateButton("FM-91", 285, 175, 70, 23)
GUICtrlSetTip($play3, "WEBRadioPlayer FM-91 Channel")

$play4 = GUICtrlCreateButton("LATA", 215, 175, 70, 23)
GUICtrlSetTip($play4, "WEBRadioPlayer LATA Channel")

$play5 = GUICtrlCreateButton("HITS-OF-BW", 355, 175, 70, 23)
GUICtrlSetTip($play5, "WEBRadioPlayer BOLLYWOOD Channel")

$play6 = GUICtrlCreateButton("RAFI", 5, 175, 70, 23)
GUICtrlSetTip($play6, "WEBRadioPlayer RAFI Channel")

$stop = GUICtrlCreateButton("STOP", 285, 200, 70, 23)
GUICtrlSetFont(-1, 12, 30, 0, "Arial Black")
GUICtrlSetTip($stop, "Click to stop the music")

$exit = GUICtrlCreateButton("EXIT", 355, 200, 70, 23)
GUICtrlSetFont(-1, 12, 30, 0, "Arial Black")
GUICtrlSetTip($exit, "Click to close the player")

$light = GUICtrlCreateButton("PAK", 285, 150, 70, 23)
GUICtrlSetTip($light, "WEBRadioPlayer PAK TARANA")

$chat = GUICtrlCreateButton("RADIO2", 355, 150, 70, 23)
GUICtrlSetTip($chat, "WEBRadioPlayer - RADIO PLAYER")

$label = GUICtrlCreateLabel("Playing: ", 5, 118, 280, 22)
GUICtrlSetFont(-1, 12, 30, 0, "Arial Black")
GUICtrlSetTip($label, "WEBRadioPlayer - The Best Najeeb Radio Player")
GUICtrlCreateLabel("Volume: ", 5, 145, 50, 20)
GUICtrlCreateLabel("-", 47, 139, 20, 20)
GUICtrlSetFont(-1, 15)
$slider = GUICtrlCreateSlider(54, 144, 210, 30)
GUICtrlSetData($slider, 80)
GUICtrlCreateLabel("+", 263, 140, 20, 20)
GUICtrlSetFont(-1, 15)
GUICtrlSetTip($slider, "Move the cursor to set the volume")

Global $hGIF = GUICtrlCreatePic("", -3, 0, 435, 120)
TrayTip("NajeebRadioPlayer Player", "Start NajeebRadioPlayer please wait...", 0)
_GUICtrlSetGIF($hGIF, InetRead("https://i.ibb.co/YTvQqWV/LOGO.gif", 16), Default, 1)
GUICtrlSetTip($hGIF, "Information about the player")

$WEB = GUICtrlCreateLabel("� Najeeb Shah Khan https://pastebin.com/u/Najeebsk", 6, 200, 280, 22)
GUICtrlSetFont(-1, 13, 30, 0, "Arial Black")
GUICtrlSetTip($WEB, "� Copyright NajeebSK - https://pastebin.com/u/Najeebsk")

_IEErrorHandlerRegister()
$oIE = _IECreateEmbedded()
$GUIActiveX = GUICtrlCreateObj($oIE, -12, 225, 500, 50)
_IENavigate($oIE, "https://i.ibb.co/YTvQqWV/LOGO.gif")

GUICtrlSetState(-1, $GUI_DISABLE)

Global $n1 = @ScriptDir & "\PAK.exe"
If Not FileExists($n1) Then
	TrayTip("WEBRadioPlayer", "Start NajeebRadioPlayer please wait...", 0)
	InetGet("http://www.NSK.com/NAJEEB-PLAYER/PAK.exe", $n1)
	TrayTip("", "", 0)
EndIf

Global $n2 = @ScriptDir & "\RADIOPLAYER.exe"
If Not FileExists($n2) Then
	TrayTip("WEBRadioPlayer", "Start NajeebRadioPlayer please wait...", 0)
	InetGet("http://www.NSK.com/NAJEEB-PLAYER/RADIOPLAYER.exe", $n2)
	TrayTip("", "", 0)
EndIf

GUISetState()

Func _Play()
	$Title = ("Buzz Channel")
	$URL = ("http://fusion.shoutca.st:8112/stream")
	WMOpenFile($URL)
	WMPlay($URL)
	GUICtrlSetData($label, "Playing: " & $Title)
	WinActivate("WEBRadioPlayer")
EndFunc   ;==>_Play

Func _Play2()
	$Title = ("PAK-FIMLI Channel")
	$URL = ("http://74.91.125.187:8214/stream")
	WMOpenFile($URL)
	WMPlay($URL)
	GUICtrlSetData($label, "Playing: " & $Title)
	WinActivate("WEBRadioPlayer")
EndFunc   ;==>_Play2

Func _Play3()
	$Title = ("FM-91 Channel")
	$URL = ("http://cc.vmakerhost.com:8147/steam/1/")
	WMOpenFile($URL)
	WMPlay($URL)
	GUICtrlSetData($label, "Playing: " & $Title)
	WinActivate("WEBRadioPlayer")
EndFunc   ;==>_Play3

Func _Play4()
	$Title = ("LATA Channel")
	$URL = ("https://stream.zeno.fm/87xam8pf7tzuv")
	WMOpenFile($URL)
	WMPlay($URL)
	GUICtrlSetData($label, "Playing: " & $Title)
	WinActivate("WEBRadioPlayer")
EndFunc   ;==>_Play4

Func _Play5()
	$Title = ("BOLLYWOOD Channel")
	$URL = ("https://stream-14.zeno.fm/a2gyqzwpwfeuv?zs=FZPPkfUPT1-FLq1lNTnc2A")
	WMOpenFile($URL)
	WMPlay($URL)
	GUICtrlSetData($label, "Playing: " & $Title)
	WinActivate("WEBRadioPlayer")
EndFunc   ;==>_Play5

Func _Play6()
	$Title = ("RAFI Channel")
	$URL = ("https://stream-22.zeno.fm/2xx62x8ztm0uv?zs=H0kYgOvASsybRex146D3FA")
	WMOpenFile($URL)
	WMPlay($URL)
	GUICtrlSetData($label, "Playing: " & $Title)
	WinActivate("WEBRadioPlayer")
EndFunc   ;==>_Play6

Func _Stop()
	WMStop()
	GUICtrlSetData($label, "Playing: ")
EndFunc   ;==>_Stop

Func _exit()
	Exit
EndFunc   ;==>_exit

Func _About()
	MsgBox(80 + 8192, "About", "   NajeebRadioPlayer - The Best Najeeb Radio Player !" & @CRLF & @CRLF _
			 & "   NajeebRadioPlayer - versions: Ultimate" & @CRLF & @CRLF _
			 & "   Copyright � 2022 Najeeb Shah Khan - https://pastebin.com/u/Najeebsk")
EndFunc   ;==>_About

While 1
	WmSetVolume(GUICtrlRead($slider))

	$mMsg = GUIGetMsg()
	$tMsg = TrayGetMsg()

	If $DoubleClicked Then
		_Play()
		$DoubleClicked = False
	EndIf

	Select
		Case $mMsg = $GUI_EVENT_CLOSE
			GUISetState(@SW_HIDE)
			Opt("TrayIconHide", 0)
		Case $mMsg = $WEB
			ShellExecute("https://pastebin.com/u/Najeebsk")
		Case $mMsg = $play
			_Play()
		Case $mMsg = $stop
			_Stop()
		Case $mMsg = $play2
			_Play2()
		Case $mMsg = $play3
			_Play3()
		Case $mMsg = $play4
			_Play4()
		Case $mMsg = $play5
			_Play5()
		Case $mMsg = $play6
			_Play6()
		Case $mMsg = $hGIF
			_About()
		Case $mMsg = $light
			Run("PAK.exe")
		Case $mMsg = $chat
			Run("RADIOPLAYER.exe")
		Case $mMsg = $exit
			If ProcessExists("PAK.exe") Then
				ProcessClose("PAK.exe")
				ProcessWaitClose("PAK.exe")
			EndIf
			If ProcessExists("RADIOPLAYER.exe") Then
				ProcessClose("RADIOPLAYER.exe")
				ProcessWaitClose("RADIOPLAYER.exe")
			EndIf
			_exit()
		Case $tMsg = $restore
			GUISetState(@SW_RESTORE)
			GUISetState(@SW_SHOW)
			Opt("TrayIconHide", 1)
		Case $tMsg = $exit
			WMClosePlayer()
			Exit
		Case $tMsg = $TRAY_EVENT_PRIMARYDOWN
			GUISetState(@SW_RESTORE)
			GUISetState(@SW_SHOW)
			Opt("TrayIconHide", 1)
	EndSelect
WEnd