if (s % freq == 0) { // т.е. каждую freq по счету итерацию
    if (x_platelet > x_crit) { // стационарное качение
        if (x_prev > 0 ) { // это не первый кадр
            if (abs(x - xprev) < x_resol) {// тромбоцит не катится 
                frames_stop += 1; // увеличиваем число кадров, когда тромбоцит не движется
            } else { // тромбоцит катится 
                if (frames_stop > 0) { // до этого тромбоцит стоял - надо запомнить время оставки
					time_stops.push_back(frames_stop * time_resol);  // запомнили это время остановки
					frames_stop = 0; // "сбрасываем" кол--во кадров, ведь тромбоцит теперь катится
				}
			}
		}
		x_rev = x; // сохранили координату
	}
}

//А потом вне цикла по времени нужно посчитать среднее по time_stops