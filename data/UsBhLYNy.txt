<!DOCTYPE html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>Title</title>
  <style>
    *{box-sizing:border-box}
    html{display:table;width:100%;height:100%}
	body{padding:2rem;background:#fff;color:#333;display:table-cell;vertical-align:middle;height:100%;
		text-align:center;width:100%;font:1.5rem/1.4 'Open Sans',Helvetica,Arial,sans-serif;}
    h1{margin-bottom:0}
    h2{margin-top:0;color:#777;font-weight:normal}
    .entry-content{text-align:left;color:#000;margin:3rem auto;width:66%}
    blockquote{font-size:130%;margin-left:-3rem;margin-right:-4rem}
    @media (max-width:600px){.entry-content{width:90%}}
    @media (max-width:400px){body{font-size:1rem}}

header + p:before{content:"\201C";font:10rem Georgia serif;float:left;margin-left:-6rem;margin-top:-2rem;color:#bbb;}
@media (max-width:599px){header + p:before{font:4.75rem Georgia serif;float:left;margin-left:-2.6rem;margin-top:-1rem}}


	</style>
	
	
	
<script>
dataLayer = window.dataLayer || [];
dataLayer.push({
  'ecommerce': {
    'currencyCode': 'CAD',
    'impressions': [
     {
       'name': 'Triblend Android T-Shirt',       // Name or ID is required.
	   'currency' : 'CAD',
       'id': '12345',
       'price': '15.25',
       'brand': 'Google',
       'category': 'Widgets',
       'variant': 'Gray',
       'list': 'Search Results',
       'position': 1
     },
     {
       'name': 'Donut Friday Scented T-Shirt',
	   'currency' : 'CAD',
       'id': '67890',
       'price': '33.75',
       'brand': 'Google',
       'category': 'Spidgets',
       'variant': 'Black',
       'list': 'Search Results',
       'position': 2
     }]
  }
});
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-XXX');
</script>

</head>














<body>

<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-XXX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

  <article class="entry-content" itemprop="text">

   <header>
	<h1>Site name</h1>
	<h2>Tag line</h2>
  </header>
<dl>
	<dt>Triblend Android T-Shirt</dt>
	<dd>
		<ul>
			<li>Price: $15.55</li>
			<li>Category: Widgets</li>
			<li>ID: 12345</li>
		</ul>
		<button class="add_to_cart" data-item_id="12345">Add to cart</button>
	</dd>
	
	<dt>Donut Friday Scented T-Shirt</dt>
	<dd>
		<ul>
			<li>Price: $33.75</li>
			<li>Category: Spidgets</li>
			<li>ID: 67890</li>
		</ul>
		<button class="add_to_cart" data-item_id="67890">Add to cart</button>
	</dd>
</dl>
  
</article> 

<script>
	var addTCs = document.querySelectorAll('.add_to_cart');
	var thisItemEcomm = {};

	function getMatchingEcommerceObject(x){
		var list = dataLayer[0].ecommerce.impressions;
		for (var i=0; i<list.length; i++){
			if(list[i].id == x){
				thisItemEcomm = list[i];
			}
		}	
		return thisItemEcomm;
	}
	
	
	addTCs.forEach(
		function(el){
			el.addEventListener(
				"mousedown",
				function(){
					dataLayer.push({
						'event' : 'add_to_cart',
						'ecommerce' : getMatchingEcommerceObject(this.dataset.item_id)
					});
				});
	});	
</script>
  </body>

</html>