local RunService:RunService = game:GetService("RunService")
local Players:Players = game:GetService("Players")
local Player:Player = Players.LocalPlayer
local Mouse:Mouse = Player:GetMouse()

local Tool:Tool = script.Parent
local RemoteEvent:RemoteEvent = script.Parent.RemoteEvent
local Holdable,Holding = true,false -- set holdable to true if you want the player to be able to hold fire like a automatic weapon

function Send() -- send mouse position to server
	RemoteEvent:FireServer({Position = Mouse.Hit.Position})
end

Tool.Activated:Connect(function()
	Holding = true
	if Holdable then
		local Run
		Run = RunService.Heartbeat:Connect(function()
			if not Holding then
				Run:Disconnect()
			end
			
			Send()
		end)
	else
		Send()
	end
end)

Tool.Deactivated:Connect(function()
	Holding = false
end)

Tool.Unequipped:Connect(function()
	Holding = false
end)