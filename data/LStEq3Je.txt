//inspired by https://stackoverflow.com/questions/74729575/flatten-2d-list-with-indices

void main() async {
  final list = [
    ["a", "b", "c"],
    ["d", "e"],
    ["f", "g", "h", "i"]
  ];

  final newList = list.flattenWithIndex();
  print(newList);
  //prints [(0, 0, a), (0, 1, b), (0, 2, c), (1, 0, d), (1, 1, e), (2, 0, f), (2, 1, g), (2, 2, h), (2, 3, i)]

}

class GridValue<T> {
  int row;
  int column;
  T value;

  GridValue(this.row, this.column, this.value);

  @override
  String toString() => '($row, $column, $value)';
}

extension ListExtension<T> on List<List<T>> {
  List<GridValue<T>> flattenWithIndex() => [
        for (int row = 0; row < length; row++)
          for (int column = 0; column < this[row].length; column++)
            GridValue(row, column, this[row][column])
      ];
}
