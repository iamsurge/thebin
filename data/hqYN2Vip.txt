海阔视界规则分享，当前分享的是：二级页面详情￥page_detail￥MyParseS@@eyJkYXRhIjoie1wiYXNzb2NpYXRlZE1vZGVsc01hcEZvckpvaW5UYWJsZVwiOnt9LFwiYXNzb2NpYXRlZE1vZGVsc01hcFdpdGhGS1wiOnt9LFwiYXNzb2NpYXRlZE1vZGVsc01hcFdpdGhvdXRGS1wiOnt9LFwiZmllbGRzVG9TZXRUb0RlZmF1bHRcIjpbXSxcImlkXCI6MCxcImxhc3RfY2hhcHRlcl9ydWxlXCI6XCJcIixcImxpc3RUb0NsZWFyQXNzb2NpYXRlZEZLXCI6W10sXCJsaXN0VG9DbGVhclNlbGZGS1wiOltdLFwicGFnZUxpc3RcIjpbe1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIlBhcnNlX0RuLmh0bWxcIixcInBhdGhcIjpcIlBhcnNlX0RuLmh0bWxcIixcInJ1bGVcIjpcIjwhRE9DVFlQRSBodG1sPlxcbjxodG1sPlxcbjxoZWFkPlxcbiAgICA8bWV0YSBjaGFyc2V0PVxcXCJ1dGYtOFxcXCI+XFxuICAgIDxtZXRhIG5hbWU9XFxcInZpZXdwb3J0XFxcIiBjb250ZW50PVxcXCJ3aWR0aD1kZXZpY2Utd2lkdGgsaW5pdGlhbC1zY2FsZT0xLG1pbmltdW0tc2NhbGU9MSxtYXhpbXVtLXNjYWxlPTEsdXNlci1zY2FsYWJsZT1ub1xcXCIgLz5cXG4gICAgPCEtLVxcbiAgICA8c2NyaXB0IHNyYz1cXFwiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS92dWVAMi41LjE2L2Rpc3QvdnVlLm1pbi5qc1xcXCI+PC9zY3JpcHQ+XFxuICAgIDxzY3JpcHQgc3JjPVxcXCJodHRwczovL2NvZGUuanF1ZXJ5LmNvbS9qcXVlcnktMi4xLjQubWluLmpzXFxcIj48L3NjcmlwdD5cXG4gICAgXFxuICAgIDxzY3JpcHQgc3JjPVxcXCJodHRwOi8vYXBwcy5iZGltZy5jb20vbGlicy9qcXVlcnkvMi4xLjQvanF1ZXJ5Lm1pbi5qc1xcXCI+PC9zY3JpcHQ+XFxuICAgIDxzY3JpcHQgc3JjPVxcXCJodHRwOi8vYXBwcy5iZGltZy5jb20vbGlicy92dWUvMS4wLjE0L3Z1ZS5qc1xcXCI+PC9zY3JpcHQ+XFxuICAgIC0tPlxcbiAgICA8dGl0bGU+UGFyc2VfRG48L3RpdGxlPlxcbiAgICA8c3R5bGUgdHlwZT10ZXh0L2Nzcz5cXG4gICAgICAgIGh0bWwsIGJvZHkge1xcbiAgICAgICAgICAgIGhlaWdodDogYXV0bztcXG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgICAgICAgfVxcbiAgICAgICAgYm9keSB7XFxuICAgICAgICAgICAgbWFyZ2luOiAwIDVweCAwIDVweDtcXG4gICAgICAgICAgICBwYWRkaW5nOiAwIDBweCAwIDBweDtcXG4gICAgICAgICAgICAvL2JhY2tncm91bmQ6ICNGOUYwREE7XFxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDA7XFxuICAgICAgICAgICAgZm9udC1mYW1pbHk6IFxcXCJNaWNyb3NvZnQgWWFIZWlcXFwiLFxcXCLlrovkvZNcXFwiLFxcXCJTZWdvZSBVSVxcXCIsIFxcXCJMdWNpZGEgR3JhbmRlXFxcIiwgSGVsdmV0aWNhLCBBcmlhbCxzYW5zLXNlcmlmLCBGcmVlU2FucywgQXJpbW87XFxuICAgICAgICB9XFxuICAgICAgICAjZGl2MntcXG4gICAgICAgICAgIG1hcmdpbi10b3A6MzVweDtcXG4gICAgICAgIH1cXG4gICAgICAgIC8q6L6T5YWl5qGG54i25YWD57SgKi9cXG4gICAgICAgIGRpdi5ib3gge1xcbiAgICAgICAgICAgIGhlaWdodDogNTNweDtcXG4gICAgICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcXG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICAgICB9XFxuICAgICAgICAvKui+k+WFpeahhuWwuuWvuCovXFxuICAgICAgICBmb3JtIHtcXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICAgICAgICAgd2lkdGg6IDkyJTtcXG4gICAgICAgIH1cXG4gICAgICAgIGlucHV0LCBsYWJlbCwgLmxpZWIgYnV0dG9uIHtcXG4gICAgICAgICAgICBib3JkZXI6IG5vbmU7XFxuICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcXG4gICAgICAgIH1cXG4gICAgICAgIC8q5a2X5L2T5L2N572uKi9cXG4gICAgICAgIGlucHV0IHtcXG4gICAgICAgICAgICB3aWR0aDogNzclO1xcbiAgICAgICAgICAgIGhlaWdodDogMzJweDtcXG4gICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDY2cHg7XFxuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMzBweDtcXG4gICAgICAgIH1cXG4gICAgICAgIGxhYmVsIHtcXG4gICAgICAgICAgICB0ZXh0LWFsaWduOmNlbnRlcjtcXG4gICAgICAgICAgICBsaW5lLWhlaWdodDogNDNweDtcXG4gICAgICAgICAgICBoZWlnaHQ6IDQwcHg7XFxuICAgICAgICAgICAgd2lkdGg6IDYwcHg7XFxuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgIH1cXG4gICAgICAgIC8q5bCP5qGGKi9cXG4gICAgICAgIC5iYXIgbGFiZWwge1xcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNEMDZCNkM7XFxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTU1IDU1NXB4IDU1NXB4IDU1NTtcXG4gICAgICAgICAgICB3aWR0aDogNjBweDtcXG4gICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XFxuICAgICAgICAgICAgY29sb3I6ICNGOUYwREE7XFxuICAgICAgICAgICAgdG9wOiAwO1xcbiAgICAgICAgICAgIGxlZnQ6IDNweDtcXG4gICAgICAgIH1cXG4gICAgICAgIC8q6L6T5YWl5qGG5qC35byPKi9cXG4gICAgICAgIC5iYXIgaW5wdXQge1xcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNGOUYwREE7XFxuICAgICAgICAgICAgYm9yZGVyOiAzcHggc29saWQgI0QwNkI2QztcXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICAgICAgICB9XFxuICAgICAgICAvKuWIl+ihqCovXFxuICAgICAgICAubGllYiBidXR0b24ge1xcbiAgICAgICAgICAgIHRleHQtYWxpZ246Y2VudGVyO1xcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OjQwcHg7XFxuICAgICAgICAgICAgaGVpZ2h0OiA0MHB4O1xcbiAgICAgICAgICAgIHdpZHRoOiAyN3B4O1xcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICB9XFxuICAgICAgICAvKuWIl+ihqCovXFxuICAgICAgICAubGllYiBidXR0b257XFxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNEMDZCNkM7XFxuICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xcbiAgICAgICAgICAgIGNvbG9yOiAjRjlGMERBO1xcbiAgICAgICAgICAgIHRvcDogMDtcXG4gICAgICAgICAgICByaWdodDogMHB4O1xcbiAgICAgICAgfVxcbiAgICAgICAgLyrlpLTlg48qL1xcbiAgICAgICAgLnJvdW5kX2ljb257XFxuICAgICAgICAgICAgd2lkdGg6IDQwcHg7XFxuICAgICAgICAgICAgaGVpZ2h0OiA0MHB4O1xcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5qeC11bCwgLmNqLXVsIHtcXG4gICAgICAgICAgICB6LWluZGV4OiA5OTk7XFxuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICAgICAgICAgIHdpZHRoOiA3NyU7XFxuICAgICAgICAgICAvLyBsZWZ0OiAxMCU7XFxuICAgICAgICB9XFxuICAgICAgICAuangtdWwsIC5jai11bCB7XFxuICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcXG4gICAgICAgIH1cXG4gICAgICAgIC5qeC11bCB7XFxuICAgICAgICAgICAgdG9wOiAzJTtcXG4gICAgICAgIH1cXG4gICAgICAgIC5jai11bCB7XFxuICAgICAgICAgICAgdG9wOiAzMCU7XFxuICAgICAgICB9XFxuICAgICAgICBsaSB7XFxuICAgICAgICAgICAgaGVpZ2h0OiAzNXB4O1xcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMWJmZGE7XFxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC44KTtcXG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XFxuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDM1cHg7XFxuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcXG4gICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XFxuICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICAgICAgICB9XFxuICAgICAgICBsaSB7XFxuICAgICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcXG4gICAgICAgIH1cXG4gICAgICAgIGxpOmhvdmVyIHtcXG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgxMzksIDEzMSwgMTIwLCAwLjkpO1xcbiAgICAgICAgfVxcbiAgICAgICAgbGlbY2hlY2s9XFxcInRydWVcXFwiXSB7XFxuICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgxMzksIDAsIDAsIDAuOSk7XFxuICAgICAgICB9XFxuXFxuICAgIDwvc3R5bGU+XFxuPC9oZWFkPlxcblxcbjxib2R5PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmdW5nXFxcIj5cXG4gICAgICAgIDxhIHN0eWxlPVxcXCJmbG9hdDpsZWZ0O1xcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiAgc3R5bGU9XFxcImJvcmRlcjogbm9uZTtib3JkZXItcmFkaXVzOjEwcHg7YmFja2dyb3VuZDogI2M1NDY0YTt3aWR0aDogODBweDsgZm9udC1zaXplOiAxOHB4O2NvbG9yOiAjRjlGMERBO1xcXCIgb25jbGljaz1cXFwiY2FuY2VsKCk7XFxcIj7lhbMg6ZetPC9idXR0b24+XFxuICAgICAgICA8L2E+XFxuICAgICAgICA8YSBzdHlsZT1cXFwiZmxvYXQ6cmlnaHRcXFwiPlxcbiAgICAgICAgICAgIDxidXR0b24gc3R5bGU9XFxcImJvcmRlcjogbm9uZTtib3JkZXItcmFkaXVzOjEwcHg7YmFja2dyb3VuZDogIzA2ODAwNjt3aWR0aDogODBweDsgZm9udC1zaXplOiAxOHB4O2NvbG9yOiAjRjlGMERBO1xcXCJvbmNsaWNrPVxcXCJjbGlja21lKCfphY0g572uIOW3siDkv50g5a2YIO+8gScsIDEwMDAsICflvIAnKTtcXFwiPuS/nSDlrZg8L2J1dHRvbj4gXFxuICAgICAgICA8L2E+XFxuICAgIDwvZGl2PlxcbiAgICA8YnI+XFxuICAgIDxkaXYgaWQ9XFxcImRpdjJcXFwiPjwvZGl2PlxcbiAgICA8ZGl2PlxcbiAgICAgICAgPGEgc3R5bGU9XFxcImZsb2F0OmxlZnQ7bWFyZ2luLXRvcDo1cHg7XFxcIiBvbmNsaWNrPVxcXCJvcGVuRG5QYWdlKClcXFwiPlxcbiAgICAgICAgICAgIDxpbWcgc3JjPVxcXCJodHRwczovL3MzLmF4MXguY29tLzIwMjEvMDIvMjIveTd3YjlPLmpwZ1xcXCIgY2xhc3M9XFxcInJvdW5kX2ljb25cXFwiICBhbHQ9XFxcIlxcXCI+XFxuICAgICAgICA8L2E+XFxuICAgICAgICA8c3BhbiBzdHlsZT1cXFwibGluZS1oZWlnaHQ6NjBweDtmb250LXNpemU6MThweDtjb2xvcjogZ3JleTtcXFwiPiZuYnNwOyZuYnNwO+aWrSZuYnNwO+W/tTwvc3Bhbj5cXG4gICAgICAgIDxhIHN0eWxlPVxcXCJmbG9hdDpyaWdodDttYXJnaW4tdG9wOjVweDtcXFwiPlxcbiAgICAgICAgICAgIDxidXR0b24gIHN0eWxlPVxcXCJib3JkZXI6IG5vbmU7Ym9yZGVyLXJhZGl1czoxMHB4O2JhY2tncm91bmQ6ICMwNUJGQzU7d2lkdGg6IDE4NXB4O2hlaWdodDo0MHB4OyBmb250LXNpemU6IDE4cHg7Y29sb3I6ICNGOUYwREE7XFxcIiBvbmNsaWNrPVxcXCJjbGlja21lKCfphY0g572uIOW3siDkv50g5a2YIO+8gScsIDEwMDAsICflhbMnKTtcXFwiPuS/neWtmOiuvue9ruW5tuWFs+mXreeVjOmdojwvYnV0dG9uPlxcbiAgICAgICAgPC9hPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiemotZGl2XFxcIj5cXG4gICAgICAgIDx1bCBjbGFzcz1cXFwiangtdWxcXFwiIHN0eWxlPVxcXCJoZWlnaHQ6NDQ0cHg7b3ZlcmZsb3cteTphdXRvO1xcXCI+XFxuICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJteUNob2ljZVxcXCIgc3R5bGU9XFxcInotaW5kZXg6OTk5OTtwb3NpdGlvbjogZml4ZWQ7d2lkdGg6NzYuNSU7Y29sb3I6cmVkO1xcXCI+PC9saT5cXG4gICAgICAgICAgICA8bGkgY2xhc3M9XFxcInVzZWxlc3NcXFwiPjwvbGk+XFxuICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJ4bExpc3RcXFwiIHYtZm9yPVxcXCJpdGVtIGluIGp4RGF0YVxcXCI+e3tpdGVtfX08L2xpPlxcbiAgICAgICAgPC91bD5cXG4gICAgICAgIDx1bCBjbGFzcz1cXFwiY2otdWxcXFwiPlxcbiAgICAgICAgICAgIDxsaSBzdHlsZT1cXFwiYmFja2dyb3VuZDpncmV5O1xcXCI+6K+36YCJ5oup5o+S5Lu2PC9saT5cXG4gICAgICAgICAgICA8bGkgdi1mb3I9XFxcIml0ZW0gaW4gY2pEYXRhXFxcIj57e2l0ZW19fTwvbGk+XFxuICAgICAgICA8L3VsPlxcbiAgICA8L2Rpdj5cXG48L2JvZHk+XFxuPHNjcmlwdD5cXG4gICAgZXZhbChmeV9icmlkZ2VfYXBwLmZldGNoKFxcXCJoaWtlcjovL2ZpbGVzL2NhY2hlL2pxdWVyeUAyLjEuNC5qc1xcXCIpKTtcXG4gICAgZXZhbChmeV9icmlkZ2VfYXBwLmZldGNoKFxcXCJoaWtlcjovL2ZpbGVzL2NhY2hlL3Z1ZUAyLjUuMTYuanNcXFwiKSk7XFxuICAgIGV2YWwoZnlfYnJpZGdlX2FwcC5nZXRJbnRlcm5hbEpzKCkpO1xcbiAgICBcXG4gICAgdmFyIHNldHRpbmdzID0ge1xcbiAgICAgICAgcXk6ICd5dW4xNzE3JyxcXG4gICAgICAgIHlrOiAneXVuMTcxNycsXFxuICAgICAgICB0eDogJ3l1bjE3MTcnLFxcbiAgICAgICAgbWc6ICd5dW4xNzE3JyxcXG4gICAgICAgIGJsOiAneXVuMTcxNycsXFxuICAgICAgICBvdGg6ICd5dW4xNzE3JyxcXG4gICAgICAgIHFqdTogJ+m7mOiupCcsXFxuICAgICAgICBjajogJ2hpa2VyOi8vZmlsZXMvY2FjaGUvUGFyc2VfRG4uanMnXFxuICAgIH07XFxuICAgIFxcbiAgICB2YXIgb2xkUm91dGUgPSBcXFwiaGlrZXI6Ly9maWxlcy9jYWNoZS9NeVBhcnNlU2V0Lmpzb25cXFwiO1xcbiAgICB2YXIgbXlTZXQgPSBmeV9icmlkZ2VfYXBwLmZldGNoKG9sZFJvdXRlKTtcXG4gICAgXFxuICAgIHZhciBuZXdSb3V0ZSA9IFxcXCJoaWtlcjovL2ZpbGVzL3J1bGVzL0R1YW5OaWFuL015UGFyc2UuanNvblxcXCI7XFxuICAgIHZhciBuZXdDb25maWcgPSBmeV9icmlkZ2VfYXBwLmZldGNoKG5ld1JvdXRlKTtcXG4gICAgdmFyIG15U2VsZWN0ID0gW107XFxuICAgIHRyeXtcXG4gICAgICAgIGV2YWwoXFxcIm5ld0NvbmZpZyA9XFxcIiArIG5ld0NvbmZpZyArIFxcXCI7XFxcIik7XFxuICAgICAgICBzZXR0aW5ncyA9IG5ld0NvbmZpZy5zZXR0aW5ncy5xanUgPT0gdW5kZWZpbmVkID8gc2V0dGluZ3MgOiBuZXdDb25maWcuc2V0dGluZ3M7XFxuICAgICAgICB2YXIgeWNUaXRsZSA9IFsnZGVmYXVsdFBhcnNlJywgJ21hb3NzJywgJ0NpdHlJUCcsICdjYWNoZU0zdTgnLCAncGNVQScsICdwYXJzZUxjJywgJ2dwYXJzZScsICducGFyc2UnXTtcXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBuZXdDb25maWcudGl0bGUubGVuZ3RoOyBpKyspe1xcbiAgICAgICAgICAgIHZhciBUaXRsZXMgPSBuZXdDb25maWcudGl0bGVbaV07XFxuICAgICAgICAgICAgaWYoeWNUaXRsZS5pbmNsdWRlcyhUaXRsZXMpID09IGZhbHNlKXtcXG4gICAgICAgICAgICAgICAgbXlTZWxlY3QucHVzaChUaXRsZXMpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgfWNhdGNoKGUpe31cXG4gICAgdmFyIHNmUmVmcmVzaCA9IHNldHRpbmdzLmNqO1xcbiAgICBmdW5jdGlvbiBEaWQoaWQpe1xcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcXG4gICAgfVxcbiAgICBcXG4gICAgaWYobXlTZXQgPT0gJycpe1xcbiAgICAgICAgRGlkKFxcXCJkaXYyXFxcIikuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlckJlZ2luJywnXFxcXFxcbjxoND7mj5DnpLrvvJo8YnI+4pGg5rOo5oSP5o+S5Lu26YCJ6aG577yM5rKh5pyJ5omL5Yqo5a+85YWl5o+S5Lu255qE6K+d5LiN55So5Yqo5a6D44CC5aaC6K6+572u5LiN5b2T5Lya5a+86Ie06KeE5YiZ5peg5rOV5L2/55So77yMPGJyPuino+WGs+WKnuazle+8muWwj+eoi+W6j+mmlumhteeCueWHu+aBouWkjem7mOiupOaPkuS7tu+8mzxicj7ikaHlhajlsYDorr7nva7lpoLmnpzpgInmi6nkuobpnZ7pu5jorqTpgqPkuYjlhajpg6jnmoTop6PmnpDkvJrkvb/nlKjov5nkuIDorr7nva7vvIzkuI3mg7Pov5nmoLfnmoTor53or7floavlhaXpu5jorqTvvJs8YnI+4pGi57u/6Imy5L+d5a2Y5oyJ6ZKu5LuF5LuF5L+d5a2Y6YWN572u5LiN5Lya5YWz6Zet6K6+572u6aG16Z2i77yM6YWN572u5ZCO5oOz5L+d5a2Y5bm25YWz6Zet6K6+572u6aG16Z2i55qE6K+d6K+354K56JOd6Imy5oyJ6ZKu77ybPGJyPuKRo+mYheivu+WujOaPkOekuueCueWFs+mXreWKoOi9veWujOaVtOiuvue9rumhtemdou+8jOWmguWHuumXrumimOaXoOazleiHquihjOino+WGs+eCueWbvueJh+i/m+WFpeiuuuWdm+WQkeaIkeWPjemmiOOAgjxicj48L2g0PicpO1xcbiAgICB9XFxuICAgIFxcbiAgICB2YXIgYm94RGF0YSA9IFtcXG4gICAgICAgIHtcXG4gICAgICAgICAgICB0aXRsZTogXFxcIuWlhyDlpYdcXFwiLFxcbiAgICAgICAgICAgIGlkOiBcXFwicXlcXFwiLFxcbiAgICAgICAgICAgIHZhbHVlOiBzZXR0aW5ncy5xeSxcXG4gICAgICAgIH0sIHtcXG4gICAgICAgICAgICB0aXRsZTogXFxcIumFtyDphbdcXFwiLFxcbiAgICAgICAgICAgIGlkOiBcXFwieWtcXFwiLFxcbiAgICAgICAgICAgIHZhbHVlOiBzZXR0aW5ncy55ayxcXG4gICAgICAgIH0sIHtcXG4gICAgICAgICAgICB0aXRsZTogXFxcIuiFviDohb5cXFwiLFxcbiAgICAgICAgICAgIGlkOiBcXFwidHhcXFwiLFxcbiAgICAgICAgICAgIHZhbHVlOiBzZXR0aW5ncy50eCxcXG4gICAgICAgIH0sIHtcXG4gICAgICAgICAgICB0aXRsZTogXFxcIuaenCDmnpxcXFwiLFxcbiAgICAgICAgICAgIGlkOiBcXFwibWdcXFwiLFxcbiAgICAgICAgICAgIHZhbHVlOiBzZXR0aW5ncy5tZyxcXG4gICAgICAgIH0sIHtcXG4gICAgICAgICAgICB0aXRsZTogXFxcIuWTqSDlk6lcXFwiLFxcbiAgICAgICAgICAgIGlkOiBcXFwiYmxcXFwiLFxcbiAgICAgICAgICAgIHZhbHVlOiBzZXR0aW5ncy5ibCxcXG4gICAgICAgIH0sIHtcXG4gICAgICAgICAgICB0aXRsZTogXFxcIuWFtiDku5ZcXFwiLFxcbiAgICAgICAgICAgIGlkOiBcXFwib3RoXFxcIixcXG4gICAgICAgICAgICB2YWx1ZTogc2V0dGluZ3Mub3RoLFxcbiAgICAgICAgfSwge1xcbiAgICAgICAgICAgIHRpdGxlOiBcXFwi5YWoIOWxgFxcXCIsXFxuICAgICAgICAgICAgaWQ6IFxcXCJxanVcXFwiLFxcbiAgICAgICAgICAgIHZhbHVlOiBzZXR0aW5ncy5xanUsXFxuICAgICAgICB9LCB7XFxuICAgICAgICAgICAgdGl0bGU6IFxcXCLmj5Ig5Lu2XFxcIixcXG4gICAgICAgICAgICBpZDogXFxcImNqXFxcIixcXG4gICAgICAgICAgICB2YWx1ZTogc2V0dGluZ3MuY2osXFxuICAgICAgICB9XFxuICAgIF07XFxuXFxuICAgIHZhciBpbnB1dEJveCA9IFxcXCJcXFwiO1xcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgYm94RGF0YS5sZW5ndGg7IGkrKyl7XFxuICAgICAgICBsZXQgYiA9IGJveERhdGFbaV07XFxuICAgICAgICBpbnB1dEJveCArPSAnPGRpdiBjbGFzcz1cXFwiYm94IGJhclxcXCI+XFxcXFxcbiAgICAgICAgICAgIDxmb3JtPlxcXFxcXG4gICAgICAgICAgICAgICAgPGxhYmVsIHR5cGU9XFxcInN1Ym1pdFxcXCI+JyArIGIudGl0bGUgKyAnPC9sYWJlbD5cXFxcXFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBwbGFjZWhvbGRlcj1cXFwi6L6T5YWl6Kej5p6Q5ZCN5oiW6ICFVVJMLi4uLi4uXFxcIiB2YWx1ZT1cXFwiJyArIGIudmFsdWUgKyAnXFxcIiBpZD1cXFwiJyArIGIuaWQgKyAnXFxcIj5cXFxcXFxuICAgICAgICAgICAgPC9mb3JtPlxcXFxcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJsaWViXFxcIj5cXFxcXFxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XFxcIicgKyBiLmlkICsgJ1NlbGVjdFxcXCI+4piwPC9idXR0b24+XFxcXFxcbiAgICAgICAgICAgIDwvZGl2PlxcXFxcXG4gICAgICAgIDwvZGl2Pic7XFxuICAgIH1cXG4gICAgRGlkKFxcXCJkaXYyXFxcIikuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsIGlucHV0Qm94KTtcXG4gICAgRGlkKFxcXCJjalxcXCIpLnBsYWNlaG9sZGVyID0gXFxcIui+k+WFpeaPkuS7tuWcsOWdgC4uLi4uLlxcXCI7XFxuICAgIERpZChcXFwicWp1XFxcIikucGxhY2Vob2xkZXIgPSBcXFwi5q2k6aG55bu66K6u55WZ56m65oiW6ICF5aGr6buY6K6k5Lik5Liq5a2XXFxcIjtcXG4gICAgXFxuICAgIG5ldyBWdWUoe1xcbiAgICAgICAgZWw6IFxcXCIuemotZGl2XFxcIixcXG4gICAgICAgIGRhdGE6IHtcXG4gICAgICAgICAgICBqeERhdGE6IG15U2VsZWN0LFxcbiAgICAgICAgICAgIGNqRGF0YTogW1xcXCJoaWtlcjovL2ZpbGVzL2NhY2hlL1BhcnNlX0RuLmpzXFxcIiwgXFxcImhpa2VyOi8vZmlsZXMvcnVsZXMvZHpIb3VzZS9qcy9zcmNhdXRvLmpzXFxcIiwgXFxcImhpa2VyOi8vZmlsZXMvcnVsZXMvanMvUGFyc2UtVjJfRG4uanNcXFwiXVxcbiAgICAgICAgfVxcbiAgICB9KTtcXG5cXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XFxuICAgICAgICB2YXIgbGVuID0gJCgnLmp4LXVsJykuY2hpbGRyZW4oJ2xpJykubGVuZ3RoO1xcbiAgICAgICAgdmFyIGxlbjIgPSAkKCcuY2otdWwnKS5jaGlsZHJlbignbGknKS5sZW5ndGg7XFxuICAgICAgICAkKCcubGllYiBidXR0b24nKS5jbGljayhmdW5jdGlvbihlKSB7XFxuICAgICAgICAgICAgaWYoJCgnLmxpZWIgYnV0dG9uJykudGV4dCgpLmluY2x1ZGVzKCfilIEnKSl7XFxuICAgICAgICAgICAgICAgICQoJy5saWViIGJ1dHRvbicpLmNzcygnYmFja2dyb3VuZCcsICcnKTtcXG4gICAgICAgICAgICAgICAgJCgnLmxpZWIgYnV0dG9uJykudGV4dCgn4piwJyk7XFxuICAgICAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgICAgICQodGhpcykudGV4dCgn4pSBJyk7XFxuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kJywgJ3JlZCcpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAkKCdsaScpLmF0dHIoJ2NoZWNrJywgJ2ZhbHNlJyk7XFxuICAgICAgICAgICAgdmFyIGlucHV0aWQgPSBcXFwiI1xcXCIgKyB0aGlzLmlkLnNwbGl0KFxcXCJTZWxlY3RcXFwiKVswXTtcXG4gICAgICAgICAgICB2YXIgYXJyID0gJChpbnB1dGlkKS52YWwoKS5zcGxpdCgnLCcpO1xcbiAgICAgICAgICAgIGFyciA9IGFyclswXSA9PSAnJyA/IFtdIDogYXJyO1xcbiAgICAgICAgICAgICQoJy5teUNob2ljZScpLnRleHQoYXJyKTtcXG4gICAgICAgICAgICBpZiAoaW5wdXRpZCAhPT0gJyNjaicgJiYgJCgnLmNqLXVsJykuY3NzKCdkaXNwbGF5Jyk9PSdub25lJykge1xcbiAgICAgICAgICAgICAgICAkKCcuangtdWwnKS5zbGlkZVRvZ2dsZSgzMDApO1xcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbjsgaSsrKSB7XFxuICAgICAgICAgICAgICAgICAgICB2YXIganhMaXN0ID0gJCgnLmp4LXVsIGxpOm5vdCgubXlDaG9pY2UpJykuZXEoaSk7XFxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyLmluY2x1ZGVzKGp4TGlzdC50ZXh0KCkpKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAganhMaXN0LmF0dHIoJ2NoZWNrJywgJ3RydWUnKTtcXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgIGp4TGlzdC51bmJpbmQoJ2NsaWNrJykuY2xpY2soZnVuY3Rpb24oZSkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cignY2hlY2snKSAhPT0gXFxcInRydWVcXFwiKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignY2hlY2snLCAndHJ1ZScpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnIudW5zaGlmdCgkKHRoaXMpLnRleHQoKSk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoaW5wdXRpZCkudmFsKGFycik7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5teUNob2ljZScpLnRleHQoYXJyKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2NoZWNrJywgJ2ZhbHNlJyk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgYXJyLmxlbmd0aDsgYSsrKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyW2FdID09ICQodGhpcykudGV4dCgpKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnNwbGljZShhLCAxKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGlucHV0aWQpLnZhbChhcnIpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5teUNob2ljZScpLnRleHQoYXJyKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9IGVsc2UgaWYoJCgnLmp4LXVsJykuY3NzKCdkaXNwbGF5Jyk9PSdub25lJyl7XFxuICAgICAgICAgICAgICAgICQoJy5jai11bCcpLnNsaWRlVG9nZ2xlKDIwMCk7XFxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuMjsgaSsrKSB7XFxuICAgICAgICAgICAgICAgICAgICB2YXIgY2pMaXN0ID0gJCgnLmNqLXVsIGxpJykuZXEoaSk7XFxuICAgICAgICAgICAgICAgICAgICBpZiAoJChpbnB1dGlkKS52YWwoKSA9PSBjakxpc3QudGV4dCgpKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgY2pMaXN0LmF0dHIoJ2NoZWNrJywgJ3RydWUnKTtcXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgIGNqTGlzdC51bmJpbmQoJ2NsaWNrJykuY2xpY2soZnVuY3Rpb24oKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IDApIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChpbnB1dGlkKS52YWwoJCh0aGlzKS50ZXh0KCkpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2NoZWNrJywgJ3RydWUnKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5zaWJsaW5ncygpLmF0dHIoJ2NoZWNrJywgJ2ZhbHNlJyk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0pO1xcbiAgICAgICAgJChkb2N1bWVudCkubm90KCQoJy54bExpc3QnKSkuY2xpY2soZnVuY3Rpb24oZSkge1xcbiAgICAgICAgICAgICQoJy5qeC11bCcpLnNsaWRlVXAoKTtcXG4gICAgICAgICAgICAkKCcuY2otdWwnKS5zbGlkZVVwKCk7XFxuICAgICAgICAgICAgJCgnLmxpZWIgYnV0dG9uJykudGV4dCgn4piwJyk7XFxuICAgICAgICAgICAgJCgnLmxpZWIgYnV0dG9uJykuY3NzKCdiYWNrZ3JvdW5kJywgJycpO1xcbiAgICAgICAgfSk7XFxuICAgICAgICAkKGZ1bmN0aW9uKCl7XFxuICAgICAgICAgICAgJCgnbGFiZWwnKS5tb3VzZXVwKGZ1bmN0aW9uKCl7XFxuICAgICAgICAgICAgICAgIGxldCBpbnB1dGlkID0gJyMnICsgJCh0aGlzKS5uZXh0KCkuYXR0cignaWQnKTtcXG4gICAgICAgICAgICAgICAgb25lT3JEYmwoaW5wdXRpZCk7XFxuICAgICAgICAgICAgfSk7XFxuICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcXG4gICAgICAgICAgICB2YXIgdGltZXI7XFxuICAgICAgICAgICAgZnVuY3Rpb24gb25lT3JEYmwoaW5wdXRpZCl7XFxuICAgICAgICAgICAgICAgIGNvdW50Kys7XFxuICAgICAgICAgICAgICAgIHRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtcXG4gICAgICAgICAgICAgICAgICAgIGlmKGNvdW50ID09IDEpe1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhcnIgPSAkKGlucHV0aWQpLnZhbCgpLnNwbGl0KCcsJyk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnNwbGljZSgwLCAxKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGlucHV0aWQpLnZhbChhcnIpO1xcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgICAgICAgICAgICAgJChpbnB1dGlkKS52YWwoJycpO1xcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lcik7XFxuICAgICAgICAgICAgICAgICAgICBjb3VudCA9IDA7XFxuICAgICAgICAgICAgICAgIH0sMjYwKVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0pXFxuICAgIH0pO1xcbiAgICBcXG4gICAgZnVuY3Rpb24gVG9hc3QobXNnLGR1cmF0aW9uKXsgIFxcbiAgICAgICAgZHVyYXRpb249aXNOYU4oZHVyYXRpb24pPzIwMDA6ZHVyYXRpb247ICBcXG4gICAgICAgIHZhciBtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7ICBcXG4gICAgICAgIG0uaW5uZXJIVE1MID0gbXNnOyAgXFxuICAgICAgICBtLnN0eWxlLmNzc1RleHQ9XFxcIndpZHRoOjQ1JTsgbWluLXdpZHRoOjE1MHB4OyBiYWNrZ3JvdW5kOiMzMTE7IG9wYWNpdHk6MC42OyBoZWlnaHQ6YXV0bzttaW4taGVpZ2h0OiA0NXB4OyBjb2xvcjojZmZmOyBsaW5lLWhlaWdodDo0NXB4OyB0ZXh0LWFsaWduOmNlbnRlcjsgYm9yZGVyLXJhZGl1czoxMHB4OyBwb3NpdGlvbjpmaXhlZDsgdG9wOjYwJTsgbGVmdDoyNiU7IHotaW5kZXg6OTk5OTk5O1xcXCI7ICBcXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobSk7ICBcXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ICBcXG4gICAgICAgICAgICB2YXIgZCA9IDAuNTsgIFxcbiAgICAgICAgICAgIG0uc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9ICctd2Via2l0LXRyYW5zZm9ybSAnICsgZCArICdzIGVhc2UtaW4sIG9wYWNpdHkgJyArIGQgKyAncyBlYXNlLWluJzsgIFxcbiAgICAgICAgICAgIG0uc3R5bGUub3BhY2l0eSA9ICcwJzsgIFxcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobSkgfSwgZCAqIDEwMDApOyAgXFxuICAgICAgICB9LCBkdXJhdGlvbik7ICBcXG4gICAgfSAgXFxuXFxuICAgIGZ1bmN0aW9uIG9wZW5EblBhZ2UoKXtcXG4gICAgICAgIGZiYS5vcGVuKEpTT04uc3RyaW5naWZ5KHtcXG4gICAgICAgICAgICBydWxlOiBcXFwiPV5fXj1cXFwiLFxcbiAgICAgICAgICAgIHRpdGxlOiBcXFwi566h55CG6Kej5p6QXFxcIixcXG4gICAgICAgICAgICB1cmw6IFxcXCJoaWtlcjovL2VtcHR5I25vSGlzdG9yeSNcXFwiLFxcbiAgICAgICAgICAgIGZpbmRSdWxlOiBcXFwianM6dGhpcy5kPVtdO2V2YWwoZmV0Y2goJ2hpa2VyOi8vZmlsZXMvY2FjaGUvZmlsZUxpbmtz4bSw4oG/LnR4dCcpKTtyZXF1aXJlKGZMaW5rcy5qeEl0VXJsKTtqeEl0ZW0uanhMaXN0KCk7c2V0UmVzdWx0KGQpXFxcIlxcbiAgICAgICAgfSkpO1xcbiAgICB9XFxuICAgIGZ1bmN0aW9uIGNhbmNlbCgpe1xcbiAgICAgICAgaWYobXlTZXQ9PScnKXtcXG4gICAgICAgICAgICBmeV9icmlkZ2VfYXBwLndyaXRlRmlsZShvbGRSb3V0ZSwgSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MsIG51bGwsIDQpKTtcXG4gICAgICAgICAgICBmeV9icmlkZ2VfYXBwLnJlZnJlc2hQYWdlKHRydWUpO1xcbiAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgZnlfYnJpZGdlX2FwcC5iYWNrKGZhbHNlKTtcXG4gICAgICAgIH1cXG4gICAgfVxcbiAgICBmdW5jdGlvbiBjbGlja21lKG1zZyxkdXJhdGlvbix0aXRsZSl7XFxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgYm94RGF0YS5sZW5ndGg7IGkrKyl7XFxuICAgICAgICAgICAgbGV0IGlkID0gYm94RGF0YVtpXS5pZDtcXG4gICAgICAgICAgICBzZXR0aW5nc1tpZF0gPSBEaWQoaWQpLnZhbHVlO1xcbiAgICAgICAgfVxcbiAgICAgICAgaWYoc2V0dGluZ3MucWp1ID09ICcnKXtcXG4gICAgICAgICAgICBzZXR0aW5ncy5xanUgPSAn6buY6K6kJztcXG4gICAgICAgIH1cXG4gICAgICAgIHRyeXtcXG4gICAgICAgICAgICBldmFsKCd2YXIgYmNDb25maWc9JyArIGZ5X2JyaWRnZV9hcHAuZmV0Y2gobmV3Um91dGUpKTtcXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGJjQ29uZmlnLnNldHRpbmdzLCBzZXR0aW5ncyk7XFxuICAgICAgICAgICAgZnlfYnJpZGdlX2FwcC53cml0ZUZpbGUobmV3Um91dGUsICQkJC5zdHJpbmdpZnkoYmNDb25maWcpKTtcXG4gICAgICAgIH1jYXRjaChlKXt9XFxuICAgICAgICBmeV9icmlkZ2VfYXBwLndyaXRlRmlsZShvbGRSb3V0ZSwgJCQkLnN0cmluZ2lmeShzZXR0aW5ncykpO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgVG9hc3QobXNnLGR1cmF0aW9uKTtcXG4gICAgICAgIGlmKHRpdGxlPT1cXFwi5YWzXFxcIil7XFxuICAgICAgICAgICAgaWYoc2ZSZWZyZXNoICE9IERpZChcXFwiY2pcXFwiKS52YWx1ZSl7XFxuICAgICAgICAgICAgICAgIGZ5X2JyaWRnZV9hcHAuYmFjaygpO1xcbiAgICAgICAgICAgIH1lbHNle1xcbiAgICAgICAgICAgICAgICBmeV9icmlkZ2VfYXBwLmJhY2soZmFsc2UpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1lbHNle1xcbiAgICAgICAgICAgIGZ5X2JyaWRnZV9hcHAucmVmcmVzaFBhZ2UodHJ1ZSk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG48L3NjcmlwdD4gICBcXG48L2h0bWw+XCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCJQYXJzZV9Ebi5qc1wiLFwicGF0aFwiOlwiUGFyc2VfRG4uanNcIixcInJ1bGVcIjpcIi8vPT09PT09PT09PT095YWN5ZeF6LCD55SoPT09PT09PT09PT09XFxuLy/vvI3vvI3vvI09Xl9ePVxcbi8vQOaWreW/tVxcblxcbnZhciBwYXJzZVJvdXRlID0gJ2hpa2VyOi8vZmlsZXMvcnVsZXMvRHVhbk5pYW4vTXlQYXJzZS5qc29uJztcXG52YXIgTXlQYXJzZVMgPSB7fTtcXG52YXIgbXlTZXQgPSB7fTtcXG5pZiAoZmlsZUV4aXN0KHBhcnNlUm91dGUpKSB7XFxuICAgIGV2YWwoJ3ZhciBwYXJzZUZpbGUgPScgKyBmZXRjaChwYXJzZVJvdXRlKSk7XFxuICAgIE15UGFyc2VTID0gcGFyc2VGaWxlLmNvZGVzO1xcbiAgICBteVNldCA9IHBhcnNlRmlsZS5zZXR0aW5ncztcXG59XFxudmFyIHBhcnNlVGl0bGUgPSBbXFxuICAgIFxcXCLwn6WaXFxcIixcXG4gICAgXFxcInl1bjE3MTdcXFwiLFxcbiAgICBcXFwiUGFuR3VcXFwiLFxcbiAgICBcXFwiRnVYaW5nXFxcIixcXG4gICAgXFxcImh0dHBzOi8vanh4LnNteXM4LmNuL2luZGV4LnBocD91cmw9XFxcIixcXG4gICAgXFxcImh0dHBzOi8vb2tqeC5jYy8/dXJsPVxcXCIsXFxuICAgIFxcXCJodHRwczovL2p4Lm0zdTgudHYvamlleGkvP3VybD1cXFwiLFxcbiAgICBcXFwiaHR0cHM6Ly9zYi41Z3Nlby5uZXQvP3VybD1cXFwiXFxuXTtcXG5cXG4vL++8je+8je+8jT1eX149XFxuXFxuLy/mjqXlj6Porr7nva4uXFxuXFxudmFyIHNldFVybCA9IFxcXCJoaWtlcjovL2VtcHR5I25vUmVjb3JkSGlzdG9yeSNAcnVsZT1qczp0aGlzLmQ9W107cmVxdWlyZSgnaHR0cHM6Ly9naXRlYS5jb20vQUk5NTcvSGlrZXIvcmF3L20vdi9Sb3V0ZS5qcycpO1JvdXRlLnNldFBhcnNlKCk7c2V0UmVzdWx0KGQpO1xcXCI7XFxudmFyIHNldF9zd2l0Y2ggPSBzZXRVcmw7XFxudmFyIGxhenkgPSBgcmVxdWlyZSgnaHR0cHM6Ly9naXRlYS5jb20vQUk5NTcvSGlrZXIvcmF3L20vdi9Sb3V0ZS5qcycpO2F5dG1QYXJzZShpbnB1dClgO1xcblxcbi8vdmFyIHBhcndpeCA9IGB2YXIgeXVybD0naHR0cHM6Ly9kYWlsaS5tYXlpeGlvbmdkaS5jbi8/dXJsPSc7UmVmZXJlcic6ICdodHRwczovL3d3dy5tYXlpeGlvbmdkaS5jbi95cz9pZD0nOydodHRwczovL2RhaWxpLm1heWl4aW9uZ2RpLmNuL2FwaS5waHAnLCAnUmVmZXJlcic6J2h0dHBzOi8vZGFpbGkubWF5aXhpb25nZGkuY24nO1xcbi8vIOWFqOawkWh0dHBzOi8vcGN2aWRlb2FsaXl1bi50aWFuc2hhbmdyZW5qaWFuLm1ndHYuY29tLjg4d3VtYS5jb20vP3VybD1cXG5cXG4vL++8je+8je+8jeWkhyDnlKjvvI3vvI3vvI1cXG4vKlxcbiAqIOW9seinhuW3peWcuu+8miBodHRwczovL3lzZ2MuY2MvXFxuICog5rGf5rmWOiA1NTXnlLXlvbEgaHR0cHM6Ly93d3cuNTU1ZHkyLmNvbS9waG9uZS5odG1sIO+9nCAxN+eciyBodHRwOi8vMTdrYW55eS5jbi8gaHR0cDovL2poamlleGkuMzB2ci5jbi8/dXJsPSDvvZwgaHR0cDovL2FwaS5tYWl6aW1hbGwuY29tL2luZGV4LnBocD91cmw9XFxuICog5rGf5rmWOiBodHRwOi8vd3d3LnRpYW5zaHV5dW4ubmV0L2luZGV4LnBocC92b2QvcGxheS9pZC80NDgzNzcvc2lkLzEvbmlkLzEuaHRtbFxcbiAqIOaxn+a5ljI6IGh0dHA6Ly85OGh5ay5jbi9pbmRleC5waHAvdm9kL3BsYXkvaWQvNzI4NDEvc2lkLzEvbmlkLzEuaHRtbFxcbiAqIOS6uuS6uui/tzogaHR0cHM6Ly92aXAuc3Vzb3UudHYvcGxheWVyLz91cmw9IO+9nCBodHRwczovL3d3dy5tb21kbS5jYy9cXG4gKiBcXG4gKiB3dWlnZW46IGh0dHBzOi8vd3d3LjVpZ2VuLmNvbS9kbXBsYXllci9wbGF5ZXIvP3VybD1cXG4gKiDlubLppa0o5Lq65Lq66L+3KTogaHR0cHM6Ly9qeC56dWkuY20vP3VybD1cXG4gKiBodHRwczovLzIuNjZtb3ZpZS50b3AvcGxheWVyLz91cmw9XFxuICogXFxuICovXFxuXFxuXFxudmFyIHRvb2xzID0ge1xcbiAgICBNRDU6IGZ1bmN0aW9uKGRhdGEpIHtcXG4gICAgICAgIGV2YWwoZ2V0Q3J5cHRvSlMoKSk7XFxuICAgICAgICByZXR1cm4gQ3J5cHRvSlMuTUQ1KGRhdGEpLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5IZXgpO1xcbiAgICB9LFxcbiAgICBBRVM6IGZ1bmN0aW9uKHRleHQsIGtleSwgaXYsIGlzRW5jcnlwdCkge1xcbiAgICAgICAgZXZhbChnZXRDcnlwdG9KUygpKTtcXG4gICAgICAgIHZhciBrZXkgPSBDcnlwdG9KUy5lbmMuVXRmOC5wYXJzZShrZXkpO1xcbiAgICAgICAgdmFyIGl2ID0gQ3J5cHRvSlMuZW5jLlV0ZjgucGFyc2UoaXYpO1xcbiAgICAgICAgaWYgKGlzRW5jcnlwdCkge1xcbiAgICAgICAgICAgIHJldHVybiBDcnlwdG9KUy5BRVMuZW5jcnlwdCh0ZXh0LCBrZXksIHtcXG4gICAgICAgICAgICAgICAgaXY6IGl2LFxcbiAgICAgICAgICAgICAgICBtb2RlOiBDcnlwdG9KUy5tb2RlLkNCQyxcXG4gICAgICAgICAgICAgICAgcGFkZGluZzogQ3J5cHRvSlMucGFkLlBrY3M3XFxuICAgICAgICAgICAgfSkudG9TdHJpbmcoKTtcXG4gICAgICAgIH07XFxuICAgICAgICByZXR1cm4gQ3J5cHRvSlMuQUVTLmRlY3J5cHQodGV4dCwga2V5LCB7XFxuICAgICAgICAgICAgaXY6IGl2LFxcbiAgICAgICAgICAgIHBhZGRpbmc6IENyeXB0b0pTLnBhZC5Qa2NzN1xcbiAgICAgICAgfSkudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLlV0ZjgpO1xcbiAgICB9LFxcbiAgICAvL2FzY2lpXFxuICAgIG5leHRDaGFyYWN0ZXI6IGZ1bmN0aW9uKGFzY2lpVmFsdWUsIGspIHtcXG4gICAgICAgIHZhciBzID0gYXNjaWlWYWx1ZTtcXG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHMgKyBrKTtcXG4gICAgfSxcXG4gICAgLy/lh6/mkpJcXG4gICAgY2Flc2FyQ2lwaGVyOiBmdW5jdGlvbihzdHJpbmdWYWx1ZSwgaykge1xcbiAgICAgICAgdmFyIG5ld1N0cmluZyA9IFxcXCJcXFwiO1xcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmdWYWx1ZS5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICAgIG5ld1N0cmluZyArPSB0aGlzLm5leHRDaGFyYWN0ZXIoc3RyaW5nVmFsdWVbaV0uY2hhckNvZGVBdCgpLCBrKTtcXG4gICAgICAgIH1cXG4gICAgICAgIHJldHVybiBuZXdTdHJpbmc7XFxuICAgIH0sXFxuICAgIGhhbmRsZVVybDogZnVuY3Rpb24odXJsLCB2aXBVcmwsIG5hbWUpIHtcXG4gICAgICAgIGlmKHVybCA9PSBcXFwiXFxcIiB8fCB1cmwgPT0gdmlwVXJsKSB7XFxuICAgICAgICAgICAgbG9nKG5hbWUgKyBcXFwi6Kej5p6Q5aSx6LSlXFxcIik7XFxuICAgICAgICAgICAgcmV0dXJuIHZpcFVybDtcXG4gICAgICAgIH1cXG4gICAgICAgIGlmICh1cmxbMF0gPT0gJy8nKSB7XFxuICAgICAgICAgICAgdXJsID0gJ2h0dHBzOicgKyB1cmw7XFxuICAgICAgICB9XFxuICAgICAgICBpZiAodXJsLmluZGV4T2YoJz1odHRwJykgIT0gLTEpIHtcXG4gICAgICAgICAgICB1cmwgPSB1cmwuaW5kZXhPZignJnVybD0nKSA+IC0xID8gdXJsIDogJ2h0dHAnICsgZGVjb2RlVVJJQ29tcG9uZW50KHVybC5zcGxpdCgnPWh0dHAnKVsxXSk7XFxuICAgICAgICB9XFxuICAgICAgICBpZiAodmlwVXJsLmluZGV4T2YoJ21ndHYuY29tJykgIT0gLTEgJiYgdXJsLmluZGV4T2YoJ1VzZXItQWdlbnQnKSA9PSAtMSkge1xcbiAgICAgICAgICAgIHVybCA9IHVybCArICc7e1VzZXItQWdlbnRAYXBwfSc7XFxuICAgICAgICB9IGVsc2UgaWYgKHVybC5pbmRleE9mKCcuZmx2JykgIT0gLTEpIHtcXG4gICAgICAgICAgICB1cmwgPSB1cmwgKyAnO3tVc2VyLUFnZW50QGFwcCYmUmVmZXJlckAnICsgdmlwVXJsICsgJ30nO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIHVybCArICcjaXNWaWRlbz10cnVlIyc7XFxuICAgIH1cXG59O1xcblxcbnZhciBQYXJzZVMgPSB7fTtcXG52YXIgb3JpZ2luYWxQYXJzZVMgPSB7XFxuICAgIENpdHlJUDogJ2h0dHA6Ly9wdi5zb2h1LmNvbS9jaXR5anNvbicsXFxuICAgIHBjVUE6ICdVc2VyLUFnZW50QE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjBcXFxc77ybXFxcXO+8myBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ5LjAuMjYyMy44NyBTYWZhcmkvNTM3LjM2JyxcXG4gICAgZGVmYXVsdFBhcnNlOiBmdW5jdGlvbih1cmwpIHtcXG4gICAgICAgIHNob3dMb2FkaW5nKFxcXCLmraPlnKjosIPnlKjnvZHpobXop6PmnpAuLi5cXFwiKTtcXG4gICAgICAgIHJldHVybiAkKHVybCkud2ViTGF6eSgoKSA9PiB7XFxuICAgICAgICAgICAgdmFyIFVybHMgPSBfZ2V0VXJscygpO1xcbiAgICAgICAgICAgIHZhciBSZWcxID0gL1xcXFwubXA0fFxcXFwubTN1OFxcXFw/fC5tM3U4JHxcXFxcLmZsdnxcXFxcLmF2aXxcXFxcLnJtdmIvO1xcbiAgICAgICAgICAgIHZhciBSZWcyID0gL3BsYXltM3U4fC5jc3MkfC5qcyR8LmljbyR8Y256elxcXFwuLztcXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFVybHMubGVuZ3RoOyBpKyspIHtcXG4gICAgICAgICAgICAgICAgbGV0IGlzVXJsID0gVXJsc1tpXTtcXG4gICAgICAgICAgICAgICAgaWYgKFJlZzEudGVzdChpc1VybCkgJiYgIVJlZzIudGVzdChpc1VybCkpIHtcXG4gICAgICAgICAgICAgICAgICAgIGZiYS5oaWRlTG9hZGluZygpO1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzVXJsICsgXFxcIiNpc1ZpZGVvPXRydWUjXFxcIjtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0pO1xcbiAgICB9LFxcbiAgICBtYW9zczogZnVuY3Rpb24oanh1cmwsIHJlZiwga2V5KSB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIHZhciBnZXRWaWRlb0luZm8gPSBmdW5jdGlvbih0ZXh0KSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiB0b29scy5BRVModGV4dCwga2V5LCBpdik7XFxuICAgICAgICAgICAgfTtcXG4gICAgICAgICAgICBrZXkgPSBrZXkgPT0gdW5kZWZpbmVkID8gJ2R2eVlSUWxuUFJDTWRRU2UnIDoga2V5O1xcbiAgICAgICAgICAgIGlmIChyZWYpIHtcXG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSByZXF1ZXN0KGp4dXJsLCB7XFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1JlZmVyZXInOiByZWZcXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfSk7XFxuICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSByZXF1ZXN0KGp4dXJsKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgaWYgKGh0bWwuaW5kZXhPZignJmJ0d2FmPScpICE9IC0xKSB7XFxuICAgICAgICAgICAgICAgIGh0bWwgPSByZXF1ZXN0KGp4dXJsICsgJyZidHdhZicgKyBodG1sLm1hdGNoKC8mYnR3YWYoLio/KVxcXCIvKVsxXSwge1xcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICdSZWZlcmVyJzogcmVmXFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIHZhciBpdiA9IGh0bWwuc3BsaXQoJ190b2tlbiA9IFxcXCInKVsxXS5zcGxpdCgnXFxcIicpWzBdO1xcbiAgICAgICAgICAgIGV2YWwoaHRtbC5tYXRjaCgvdmFyIGNvbmZpZyA9IHtbXFxcXHNcXFxcU10qP30vKVswXSArICcnKTtcXG4gICAgICAgICAgICBpZiAoY29uZmlnLnVybC5zbGljZSgwLCA0KSAhPSAnaHR0cCcpIHtcXG4gICAgICAgICAgICAgICAgY29uZmlnLnVybCA9IGRlY29kZVVSSUNvbXBvbmVudCh0b29scy5BRVMoY29uZmlnLnVybCwga2V5LCBpdikpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICByZXR1cm4gY29uZmlnLnVybDtcXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcXG4gICAgICAgICAgICByZXR1cm4gJyc7XFxuICAgICAgICB9XFxuICAgIH0sXFxuICAgIExMUTogZnVuY3Rpb24oanh1cmwpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgdmFyIGFwaSA9IGp4dXJsLnNwbGl0KCc/dXJsPScpWzBdICsgXFxcImFwaS5waHBcXFwiO1xcbiAgICAgICAgICAgIHZhciBiNjRpZCA9IGJhc2U2NEVuY29kZShqeHVybC5zcGxpdCgndXJsPScpWzFdKTtcXG4gICAgICAgICAgICB2YXIgcGFyc2VpZCA9IHRvb2xzLmNhZXNhckNpcGhlcihiNjRpZCwgLTEpO1xcbiAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShyZXF1ZXN0KGFwaSwge1xcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XFxuICAgICAgICAgICAgICAgICAgICAnUmVmZXJlcic6IGp4dXJsXFxuICAgICAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxcbiAgICAgICAgICAgICAgICBib2R5OiAndXJsPScgKyBwYXJzZWlkXFxuICAgICAgICAgICAgfSkpO1xcbiAgICAgICAgICAgIHVybCA9IChqc29uLmNvZGUgPT0gMjAwID8gYmFzZTY0RGVjb2RlKHRvb2xzLmNhZXNhckNpcGhlcihqc29uLnVybCwgLTEpKSA6ICcnKTtcXG4gICAgICAgICAgICByZXR1cm4gdXJsO1xcbiAgICAgICAgfSBjYXRjaCAoZSkge1xcbiAgICAgICAgICAgIHJldHVybiAnJztcXG4gICAgICAgIH1cXG4gICAgfSxcXG4gICAgUGFuR3U6IGZ1bmN0aW9uKHZpcFVybCwgZGF0YSkge1xcbiAgICAgICAgLyp2YXIgcmVmID0gJ2h0dHBzOi8vd3d3LnBhbmd1amlleGkuY29tLyc7XFxuICAgICAgICB2YXIgcGFyc2UgPSAnaHR0cHM6Ly9wYW5ndWFwaS5udHJ5amQubmV0L2ppZXhpLz91cmw9JyArIHZpcFVybDtcXG4gICAgICAgIHZhciBhcGkgPSAnaHR0cHM6Ly9wYW5ndWFwaS5udHJ5amQubmV0L2ppZXhpL2FwaS5waHAnO1xcbiAgICAgICAgKi9cXG4gICAgICAgIC8vdmFyIHJlZiA9ICdodHRwczovL3hteXN0di5jb20vJztcXG4gICAgICAgIC8vdmFyIHBhcnNlID0gJ2h0dHBzOi8vd3d3Ljk5a3B3LmNvbS9wYW5ndS9pbmRleC5waHA/dXJsPScgKyB0YWlsVXJsO1xcbiAgICAgICAgLy92YXIgYXBpID0gJ2h0dHBzOi8vd3d3Ljk5a3B3LmNvbS9wYW5ndS9hcGkucGhwJztcXG4gICAgICAgIHZhciBwYXJzZSA9IFxcXCJodHRwczovL3d3dy5wYW5ndWppZXhpLmNvbS9wYW5ndS8/dXJsPVxcXCIgKyB2aXBVcmw7XFxuICAgICAgICB2YXIgYXBpID0gXFxcImh0dHBzOi8vcGFuZ3VhcGkubnRyeWpkLm5ldC9wYW5ndTIwMjEvYXBpLnBocFxcXCI7XFxuICAgICAgICBpZiAoZGF0YSkge1xcbiAgICAgICAgICAgIHJlZiA9IGRhdGFbMF07XFxuICAgICAgICAgICAgcGFyc2UgPSBkYXRhWzFdO1xcbiAgICAgICAgICAgIGFwaSA9IGRhdGFbMl07XFxuICAgICAgICB9XFxuICAgICAgICB2YXIgVGltZSA9IChNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkgKiAxKS50b1N0cmluZygpO1xcbiAgICAgICAgdmFyIGpzb24gPSByZXF1ZXN0KGFwaSwge1xcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcXG4gICAgICAgICAgICAgICAgXFxcIlJlZmVyZXJcXFwiOiBwYXJzZVxcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgYm9keTogXFxcInVybD1cXFwiICsgdmlwVXJsICsgXFxcIiZyZWZlcmVyPVxcXCIgKyBiYXNlNjRFbmNvZGUocGFyc2UpICsgXFxcIiZyZWY9MSZ0aW1lPVxcXCIgKyBUaW1lICsgXFxcIiZ0eXBlPSZvdGhlcj1cXFwiICsgYmFzZTY0RW5jb2RlKHZpcFVybCkgKyBcXFwiJmlvcz0wXFxcIixcXG4gICAgICAgICAgICBtZXRob2Q6IFxcXCJQT1NUXFxcIlxcbiAgICAgICAgfSk7XFxuICAgICAgICB2YXIgdXJsID0ganNvblswXSA9PSBcXFwie1xcXCIgPyBKU09OLnBhcnNlKGpzb24pLnVybCA6IFxcXCJcXFwiO1xcbiAgICAgICAgcmV0dXJuIHVybDtcXG4gICAgfSxcXG4gICAgeXVuMTcxNzogZnVuY3Rpb24odmlwVXJsKSB7XFxuICAgICAgICB2YXIgaXN5ayA9IHZpcFVybC5pbmRleE9mKCd5b3VrdScpO1xcbiAgICAgICAgdmFyIHJlZiA9IFxcXCJodHRwczovL3d3dy4xNzE3eXVuLmNvbS9qeC90eS5waHA/dXJsPVxcXCIgKyB2aXBVcmw7XFxuICAgICAgICB2YXIgcGFyc2UgPSBcXFwiaHR0cHM6Ly8xNzE3eXVuLmNvbS56aDE4OC5uZXQvMDgyOC8/dXJsPVxcXCIgKyB2aXBVcmw7XFxuICAgICAgICB2YXIgYXBpID0gXFxcImh0dHBzOi8vMTcxN3l1bi5jb20uemgxODgubmV0LzEwMDQvLi5pbmRleC4ucGhwXFxcIjtcXG4gICAgICAgIHJldHVybiBpc3lrID09IC0xID8gdGhpcy5QYW5HdSh2aXBVcmwsIFtyZWYsIHBhcnNlLCBhcGldKSA6IHRoaXMuUGFuR3UodmlwVXJsLCBbcmVmICsgJyx2aXA6JywgcGFyc2UgKyAnLHZpcDonLCBhcGldKTtcXG4gICAgfSxcXG4gICAgRnVYaW5nOiBmdW5jdGlvbih2aXBVcmwpIHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgLy9pZih2aXBVcmwuaW5kZXhPZigndi55b3VrdScpIT0tMSl7XFxuICAgICAgICAgICAgLy8gICAgdmlwVXJsID0gKEpTT04ucGFyc2UocmVxdWVzdCh2aXBVcmwsIHtyZWRpcmVjdDpmYWxzZSwgd2l0aEhlYWRlcnM6dHJ1ZX0pKS5oZWFkZXJzLmxvY2F0aW9uICsgJycpLnJlcGxhY2UoL1xcXFw/LiovLCcnKTtcXG4gICAgICAgICAgICAvL31cXG4gICAgICAgICAgICB2YXIgcmVmID0gJ2h0dHBzOi8vangueHVldHVpZ3VhbmcuY24vamlleGkvP3VybD0nICsgdmlwVXJsO1xcbiAgICAgICAgICAgIHZhciBwYXJzZSA9IHJlZjtcXG4gICAgICAgICAgICB2YXIgYXBpID0gJ2h0dHBzOi8vangueHVldHVpZ3VhbmcuY24vamlleGkvYXBpdV9meC5waHAnO1xcbiAgICAgICAgICAgIHJldHVybiB0aGlzLlBhbkd1KHZpcFVybCwgW3JlZiwgcGFyc2UsIGFwaV0pO1xcbiAgICAgICAgfSBjYXRjaCAoZSkge1xcbiAgICAgICAgICAgIHJldHVybiAnJztcXG4gICAgICAgIH1cXG4gICAgfSxcXG4gICAgXFxcIvCfpZpcXFwiOiBmdW5jdGlvbih2aXBVcmwpIHtcXG4gICAgICAgIGxldCDkvZzogIVf6KeG55WM55+l5ZCN5aSn5L2sO1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICB2YXIgcGxheSA9IEpTT04ucGFyc2UoZmV0Y2goXFxcImh0dHA6Ly93d3cuenJ1aXJ5LmNvbS95dW4vYXBpLnBocFxcXCIsIHtcXG4gICAgICAgICAgICAgICAgYm9keTogXFxcInVybD1cXFwiICsgaW5wdXQsXFxuICAgICAgICAgICAgICAgIG1ldGhvZDogXFxcIlBPU1RcXFwiXFxuICAgICAgICAgICAgfSkpLnVybDtcXG4gICAgICAgICAgICBpZiAocGxheS5zdGFydHNXaXRoKFxcXCIvXFxcIikpIHtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJodHRwczpcXFwiICsgcGxheTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gcGxheTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9IGNhdGNoIChlKSB7XFxuICAgICAgICAgICAgcmV0dXJuIFxcXCJcXFwiO1xcbiAgICAgICAgfVxcbiAgICB9XFxufTtcXG5cXG52YXIgZnJvbXMgPSBbJ2R1b2R1b3p5JywgJ3J4JywgJ3JlbnJlbm1pJywgJ2x0bmInLCAneGZ5dW4nXTtcXG5mb3IobGV0IGkgaW4gZnJvbXMpIHtcXG4gICAgbGV0IG5hbWUgPSBmcm9tc1tpXSArIFxcXCIo6YCa55So5Ye95pWwKVxcXCI7XFxuICAgIFBhcnNlU1tuYW1lXSA9IGZ1bmN0aW9uKFVybCwgcmVmZXJlcil7XFxuICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0UGFyc2UocmVmZXJlcik7XFxuICAgIH07XFxufVxcbk9iamVjdC5hc3NpZ24oUGFyc2VTLCBvcmlnaW5hbFBhcnNlUywgTXlQYXJzZVMpO1xcbi8v6KaG55uW6aG65bqP77yM56ys5LiJ5Liq6KaG55uW56ys5LqM5Liq54S25ZCO6KaG55uW56ys5LiA5LiqXFxuXFxuXFxuZnVuY3Rpb24gYXl0bVBhcnNlKHZpcFVybCwgcGFyc2VOYW1lKSB7XFxuICAgIHRoaXMucmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtMCwgcGFyYW0xLCBwYXJhbTIpIHtcXG4gICAgICAgIHBhcmFtMSA9IHBhcmFtMSA9PSB1bmRlZmluZWQgPyB7fSA6IHBhcmFtMTtcXG4gICAgICAgIGlmKGlzTmFOKHBhcmFtMS50aW1lb3V0KSkge1xcbiAgICAgICAgICAgIHBhcmFtMS50aW1lb3V0ID0gMzAwMDtcXG4gICAgICAgIH1cXG4gICAgICAgIHBhcmFtMiA9IE1ZX1JVTEU7XFxuICAgICAgICB2YXIgcmV0U3RyID0gbWV0aG9kX3JlcXVlc3QuaW52b2tlKGphdmFDb250ZXh0LCBwYXJhbTAsIHBhcmFtMSwgcGFyYW0yKTtcXG4gICAgICAgIHJldHVybiByZXRTdHIgPT0gbnVsbCA/IHJldFN0ciA6IHJldFN0ciArIFxcXCJcXFwiO1xcbiAgICB9O1xcbiAgICB0aGlzLmZldGNoID0gZnVuY3Rpb24ocGFyYW0wLCBwYXJhbTEsIHBhcmFtMikge1xcbiAgICAgICAgcGFyYW0xID0gcGFyYW0xID09IHVuZGVmaW5lZCA/IHt9IDogcGFyYW0xO1xcbiAgICAgICAgcGFyYW0xLmhlYWRlcnMgPSBwYXJhbTEuaGVhZGVycyA9PSB1bmRlZmluZWQgPyB7fSA6IHBhcmFtMS5oZWFkZXJzO1xcbiAgICAgICAgcGFyYW0xLmhlYWRlcnNbJ1VzZXItQWdlbnQnXSA9IFBDX1VBO1xcbiAgICAgICAgaWYoaXNOYU4ocGFyYW0xLnRpbWVvdXQpKSB7XFxuICAgICAgICAgICAgcGFyYW0xLnRpbWVvdXQgPSAzMDAwO1xcbiAgICAgICAgfVxcbiAgICAgICAgcGFyYW0yID0gTVlfUlVMRTtcXG4gICAgICAgIHZhciByZXRTdHIgPSBtZXRob2RfZmV0Y2guaW52b2tlKGphdmFDb250ZXh0LCBwYXJhbTAsIHBhcmFtMSwgcGFyYW0yKTtcXG4gICAgICAgIHJldHVybiByZXRTdHIgPT0gbnVsbCA/IHJldFN0ciA6IHJldFN0ciArIFxcXCJcXFwiO1xcbiAgICB9O1xcbiAgICB2YXIgaG9zdCA9IHZpcFVybC5tYXRjaCgvXFxcXC4oLio/KVxcXFwvLyk7XFxuICAgIGhvc3QgPSBob3N0ID09IG51bGwgPyBudWxsIDogaG9zdFsxXTtcXG4gICAgdmFyIG5vVXJsID0gXFxcInRvYXN0Oi8v5o6l5pS25Yiw55qE6ZO+5o6l5Li6OiBcXFwiO1xcbiAgICBzd2l0Y2ggKG15U2V0LnFqdSkge1xcbiAgICAgICAgY2FzZSBcXFwi6buY6K6kXFxcIjpcXG4gICAgICAgICAgICBzd2l0Y2ggKGhvc3QpIHtcXG4gICAgICAgICAgICAgICAgY2FzZSBcXFwicXEuY29tXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IG15U2V0LnR4O1xcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgIGNhc2UgXFxcImlxaXlpLmNvbVxcXCI6XFxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBteVNldC5xeTtcXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICBjYXNlIFxcXCJ5b3VrdS5jb21cXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gbXlTZXQueWs7XFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgY2FzZSBcXFwibWd0di5jb21cXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gbXlTZXQubWc7XFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgY2FzZSBcXFwiYmlsaWJpbGkuY29tXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IG15U2V0LmJsO1xcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XFxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBob3N0ID09IG51bGwgPyBub1VybCA6IG15U2V0Lm90aDtcXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBicmVhaztcXG4gICAgICAgIGRlZmF1bHQ6XFxuICAgICAgICAgICAgc3RyID0gaG9zdCA9PSBudWxsID8gbm9VcmwgOiBteVNldC5xanU7XFxuICAgICAgICAgICAgYnJlYWs7XFxuICAgIH1cXG4gICAgaWYgKHBhcnNlTmFtZSkge1xcbiAgICAgICAgc3RyID0gcGFyc2VOYW1lO1xcbiAgICB9XFxuICAgIGxldCBteUNob2ljZSA9IHN0ci5zcGxpdCgnLCcpO1xcbiAgICBsZXQgbGVuID0gbXlDaG9pY2UubGVuZ3RoO1xcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XFxuICAgICAgICBsZXQgbmFtZSA9IG15Q2hvaWNlW2ldO1xcbiAgICAgICAgaWYgKHR5cGVvZiBQYXJzZVNbbmFtZV0gPT0gJ2Z1bmN0aW9uJykge1xcbiAgICAgICAgICAgIGxldCB1cmwgPSBQYXJzZVNbbmFtZV0odmlwVXJsKTtcXG4gICAgICAgICAgICBsZXQgUmVnID0gbmV3IFJlZ0V4cChcXFwibTN1OHxtcDR8XFxcIiArIHZpcFVybCArIFxcXCJ8aHR0cFxcXCIpO1xcbiAgICAgICAgICAgIGlmIChpICE9IGxlbiAtIDEgJiYgIVJlZy50ZXN0KHVybCkpIHtcXG4gICAgICAgICAgICAgICAgbG9nKG5hbWUgKyAn6Kej5p6Q5aSx6LSlJyk7XFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICByZXR1cm4gdG9vbHMuaGFuZGxlVXJsKHVybCwgdmlwVXJsLCBuYW1lKTtcXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIFBhcnNlU1tuYW1lXSA9PSAnc3RyaW5nJykge1xcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVMuZGVmYXVsdFBhcnNlKFBhcnNlU1tuYW1lXSArIHZpcFVybCwgdG9vbHMuaGFuZGxlVXJsLCBuYW1lKTtcXG4gICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgcmV0dXJuIG5hbWUuc3Vic3RyKDAsIDQpID09IFxcXCJodHRwXFxcIiB8fCBob3N0ID09IG51bGwgPyBuYW1lICsgdmlwVXJsIDogXFxcInRvYXN0Oi8vXFxcIiArIG5hbWUgKyBcXFwiIOS4jeaYr+ebtOmTvuS5n+S4jeaYr+WFjeWXhVxcXCI7XFxuICAgICAgICB9XFxuICAgIH1cXG59O1xcblxcbnZhciBwbGF5UGFyc2UgPSB7XFxuICAgIHBsYXllclM6IGZ1bmN0aW9uKGp1cmwpIHtcXG4gICAgICAgIHZhciBodG1sID0gcmVxdWVzdChqdXJsKSxcXG4gICAgICAgICAgICBVcmwgPSAnJyxcXG4gICAgICAgICAgICBmcm9tID0gJyc7XFxuICAgICAgICB2YXIgY29kZTEgPSBodG1sLm1hdGNoKC92YXIgcGxheWVyX1tcXFxcc1xcXFxTXSo/fS8pO1xcbiAgICAgICAgdmFyIGRwVXJsID0gcGRmaChodG1sLCBcXFwiaWZyYW1lJiZkYXRhLXBsYXlcXFwiKTtcXG4gICAgICAgIGlmIChjb2RlMSAhPSBudWxsKSB7XFxuICAgICAgICAgICAgZXZhbChjb2RlMVswXS5yZXBsYWNlKC9wbGF5ZXJfLio/ey8sICdwZGF0YT17JykpO1xcbiAgICAgICAgICAgIFVybCA9IHBkYXRhLnVybDtcXG4gICAgICAgICAgICBmcm9tID0gcGRhdGEuZnJvbTtcXG4gICAgICAgIH0gZWxzZSBpZiAoZHBVcmwgIT0gJycpIHtcXG4gICAgICAgICAgICBVcmwgPSBkcFVybC5zdGFydHNXaXRoKFxcXCJodHRwXFxcIikgPyBkZHBVcmwgOiBkcFVybC5zbGljZSgzKTtcXG4gICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgY29kZTIgPSBodG1sLm1hdGNoKC92YXIgbm93W1xcXFxzXFxcXFNdKj92YXIgcG5bXFxcXHNcXFxcU10qPzsvKTtcXG4gICAgICAgICAgICBpZiAoY29kZTIgIT0gbnVsbCkge1xcbiAgICAgICAgICAgICAgICBldmFsKGNvZGUyWzBdKTtcXG4gICAgICAgICAgICAgICAgVXJsID0gbm93O1xcbiAgICAgICAgICAgICAgICBmcm9tID0gcG47XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKFVybC5zdWJzdHIoMCwgOCkubWF0Y2goL0pULi5KVC4uLykgfHwgVXJsLnN0YXJ0c1dpdGgoXFxcImFIUjBcXFwiKSkge1xcbiAgICAgICAgICAgIFVybCA9IGJhc2U2NERlY29kZShVcmwpO1xcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKFVybC5zdWJzdHIoMCwgOCkubWF0Y2goLyUuLiUuLi8pKSB7XFxuICAgICAgICAgICAgVXJsID0gdW5lc2NhcGUoVXJsKTtcXG4gICAgICAgIH1cXG4gICAgICAgIGlmIChmcm9tcy5pbmNsdWRlcyhmcm9tKSkge1xcbiAgICAgICAgICAgIHZhciBuYW1lID0gZnJvbSArICco6YCa55So5Ye95pWwKSc7XFxuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU1tuYW1lXShVcmwsIGp1cmwpO1xcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKC9odG1sfGJpbGliaWxpLy50ZXN0KFVybCkpIHtcXG4gICAgICAgICAgICByZXR1cm4gYXl0bVBhcnNlKFVybCk7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgIHJldHVybiBVcmwuc3RhcnRzV2l0aCgnaHR0cCcpID8gVXJsICsgJyNpc1ZpZGVvPXRydWUjJyA6IFBhcnNlUy5kZWZhdWx0UGFyc2UoanVybCk7XFxuICAgICAgICB9XFxuICAgIH0sXFxuICAgIHBsYXllcl94eDogZnVuY3Rpb24oanVybCkge1xcbiAgICAgICAgcmV0dXJuICQoanVybCkubGF6eVJ1bGUoKCkgPT4ge1xcbiAgICAgICAgICAgIGV2YWwoZmV0Y2goSlNPTi5wYXJzZShmZXRjaCgnaGlrZXI6Ly9maWxlcy9jYWNoZS9NeVBhcnNlU2V0Lmpzb24nKSkuY2opKTtcXG4gICAgICAgICAgICByZXR1cm4gcGxheVBhcnNlLnBsYXllclMoaW5wdXQpO1xcbiAgICAgICAgfSkgXFxuICAgIH1cXG59O1xcblxcbmZ1bmN0aW9uIHNldFBhcnNlKCkge1xcbiAgICB0aGlzLmQgPSBbXTtcXG4gICAgcmVxdWlyZSgnaHR0cHM6Ly9naXRlYS5jb20vQUk5NTcvSGlrZXIvcmF3L20vdi9Sb3V0ZS5qcycpO1xcbiAgICBSb3V0ZS5zZXRQYXJzZSgpO1xcbiAgICBzZXRSZXN1bHQoZCk7XFxufVwifV0sXCJwYXJhbXNcIjpcIntcXFwibGluZVZpc2libGVcXFwiOmZhbHNlLFxcXCJuZXdXaW5kb3dcXFwiOnRydWUsXFxcIndpbmRvd0lkXFxcIjpcXFwiTXlQYXJzZVNcXFwifVwiLFwic2F2ZWRcIjpmYWxzZSxcInRpdGxlXCI6XCLwnZGA8J2RpvCdkLnwnZGW8J2RkvCdkZnwnZGR4bSw4oG/XCIsXCJ2ZXJzaW9uXCI6MCxcInVybFwiOlwiaGlrZXI6Ly9lbXB0eTtnZXQ7VVRGLTg7e1VzZXItQWdlbnRATW96aWxsYS81LjAgKExpbnV477yb77ybIEFuZHJvaWQgMTHvvJvvvJsgTWkgMTAgUHJvKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODguMC40MzI0LjE1MiBNb2JpbGUgU2FmYXJpLzUzNy4zNn1cIixcImNvbF90eXBlXCI6XCJ0ZXh0X2NlbnRlcl8xXCIsXCJmaW5kX3J1bGVcIjpcImpzOihcXG4oc2V0UGFyc2UpID0+IHtcXG4gICAgdGhpcy5kID0gW107XFxuICAgIHNldFBhcnNlKCk7XFxuICAgIHNldFJlc3VsdChkKTtcXG59XFxuKShcXG5mdW5jdGlvbiAoKSB7XFxuICAgIGV2YWwoZmV0Y2goXFxcImhpa2VyOi8vZmlsZXMvY2FjaGUvZmlsZUxpbmtzXFxcXHUxZDMwXFxcXHUyMDdmLnR4dFxcXCIpKTtcXG4gICAgaWYgKCFnZXRWYXIoXFxcImp4SXRlbVZcXFwiKSkge1xcbiAgICAgICAgcmVxdWlyZShmTGlua3MuanhJdFVybCk7XFxuICAgIH1cXG4gICAgZC5wdXNoKHtkZXNjOiBcXFwiYXV0b1xcXCIsIHVybDogZkxpbmtzLng1Um91dGUgKyBcXFwiUGFyc2VfRG4uaHRtbFxcXCIsIGNvbF90eXBlOiBcXFwieDVfd2Vidmlld19zaW5nbGVcXFwifSk7XFxuICAgIHZhciBqeEl0TmV3ViA9IGdldFZhcihcXFwianhJdE5ld1ZcXFwiLCBcXFwiXFxcIiksIGp4SXRlbVYgPSBnZXRWYXIoXFxcImp4SXRlbVZcXFwiLCBcXFwiXFxcIik7XFxuICAgIHZhciB2ZXJzaW9uVGlwcyA9IGp4SXROZXdWID09IFxcXCJcXFwiID8gXFxcIlxcXFx1MjAxOFxcXFx1MjAxOFxcXCIgOiBcXFwiXFxcXHUyMDE4XFxcXHUyMDE4XFxcIiArIGp4SXROZXdWICsgXFxcIlxcXFxuXFxcIjtcXG4gICAgdmFyIHBpY3MgPSBbXFxcImh0dHBzOi8vdHZhMS5zaW5haW1nLmNuL2xhcmdlLzliZDliMTY3Z3kxZndyaTU2d2pocWoyMWhjMHUwYXJyLmpwZ1xcXCIsIFxcXCJodHRwczovL2Nkbi5zZW92eC5jb20vaW1nL3Nlb3Z4LTIwLTEwJTIwKDkyKS5qcGdcXFwiLCBcXFwiaHR0cHM6Ly9jZG4uc2VvdnguY29tL2ltZy9tb20yMDE4JTIwKDIwNykuanBnXFxcIiwgXFxcImh0dHBzOi8vdHZhNC5zaW5haW1nLmNuL2xhcmdlLzliZDliMTY3Z3kxZndyaDV4b2x0ZGoyMWhjMHUwdGF4LmpwZ1xcXCIsIFxcXCJodHRwczovL3R2YTEuc2luYWltZy5jbi9sYXJnZS8wMDVCWXFwZ2d5MWZ3cmV5dTRubDZqMzFoYzB1MGFoci5qcGdcXFwiLCBcXFwiaHR0cHM6Ly9zMy5ibXAub3ZoL2ltZ3MvMjAyMS8xMC9kN2U2MGI5OTA3NDIwOTNkLmpwZWdcXFwiLCBcXFwiaHR0cHM6Ly9zMy5ibXAub3ZoL2ltZ3MvMjAyMS8xMC85MWFkNmQ2NTM4YmY4Njg5LmpwZ1xcXCIsIFxcXCJodHRwczovL3R2YTEuc2luYWltZy5jbi9sYXJnZS8wMDVCWXFwZ2d5MWZ3cmVzbDVwbWxqMzFoYzB4Y3drYS5qcGdcXFwiLCBcXFwiaHR0cHM6Ly90dmEzLnNpbmFpbWcuY24vbGFyZ2UvMDA1QllxcGdneTFmd3JnamRrNzRvajMxaGMwdTBkcW4uanBnXFxcIiwgXFxcImh0dHBzOi8vY2RuLnNlb3Z4LmNvbS9pbWcvbW9tMjAxOCUyMCg4MDMpLmpwZ1xcXCJdO1xcbiAgICBkLnB1c2goe2ltZzogcGljc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCldLCB0aXRsZTogdmVyc2lvblRpcHMgKyBcXFwiXFxcXHUyMDE5XFxcXHUyMDE5PHNtYWxsPjxzcGFuIHN0eWxlPVxcXFxcXFwiY29sb3I6IzZFQjg5N1xcXFxcXFwiPlxcXFx1MzAwMFxcXFx1MzAwMFxcXFx1NzBiOVxcXFx1NTFmYlxcXFx1NmI2NFxcXFx1NTkwNFxcXFx1NjdlNVxcXFx1NzcwYlxcXFx1NjRjZFxcXFx1NGY1Y1xcXFx1NjMwN1xcXFx1NWYxNTxicj5cXFxcdTcwYjlcXFxcdTUxZmJcXFxcdTRlMGFcXFxcdTY1YjlcXFxcdTU5MzRcXFxcdTUwY2ZcXFxcdThmZGJcXFxcdTUxNjVcXFxcdTdmMTZcXFxcdThmOTFcXFwiLCBkZXNjOiBcXFwiXFxcXHU1ZjUzXFxcXHU1MjRkXFxcXHU3MjQ4XFxcXHU2NzJjOiBcXFwiICsganhJdGVtViwgdXJsOiBmTGlua3MuY3p6eSwgY29sX3R5cGU6IFxcXCJtb3ZpZV8xXFxcIn0pO1xcbn1cXG4pXCIsXCJncm91cFwiOlwi4pGk5bel5YW3XCIsXCJ1YVwiOlwibW9iaWxlXCIsXCJwcmVSdWxlXCI6XCIvL+WmguaenOWHuueOsOiOt+WPluS4jeWIsOi/nOeoi+i1hOa6kOeahOaDheWGte+8jOaKiuKAnC8va1TigJ3nmoTigJwvL+KAneWOu+aOieeEtuWQjumHjeWQr0FQUFxcblxcbnZhciBrVCA9IFxcXCJodHRwczovL2FnaXQuYWkvQUk5NTcvSGlrZXIvcmF3L2JyYW5jaC9tL3YvXFxcIixcXG4gICAga1QyID0gJ2h0dHBzOi8vY29kZS5hbGl5dW4uY29tL0FJOTU3L0hpa2VyL3Jhdy9tYXN0ZXIvdi8nLFxcbiAgICBrVDMgPSAnaHR0cHM6Ly9naXRlZS5jb20vRHVhbi1OaWFuL0RuL3Jhdy9tYXN0ZXIvaGlrZXJ2aWV3Lyc7XFxuLy9rVCA9IGtUMjtcXG52YXIgZkxpbmtzID0ge1xcbiAgICBrVDoga1QsXFxuICAgIGtUMjoga1QyLFxcbiAgICBrVDM6IGtUMyxcXG4gICAgY2pGcm9tOiAnaGlrZXI6Ly9wYWdlL1BhcnNlX0RuLmpzJyxcXG4gICAgeDVGcm9tOiAnaGlrZXI6Ly9wYWdlL1BhcnNlX0RuLmh0bWwnLFxcbiAgICBfYmpVcmw6IGtUICsgJ2p4SXRlbV9iai5qcycsXFxuICAgIGp4SXRVcmw6IGtUICsgJ2p4SXRlbS5qcycsXFxuICAgIHJvdXRlVXJsOiAnaHR0cHM6Ly9hZ2l0LmFpL0FJOTU3L0hpa2VyL3Jhdy9icmFuY2gvbS92L1JvdXRlLmpzJyxcXG4gICAgY2pjYWNoZTogJ2hpa2VyOi8vZmlsZXMvY2FjaGUvUGFyc2VfRG4uanMnLFxcbiAgICB4NWNhY2hlOiAnaGlrZXI6Ly9maWxlcy9jYWNoZS9QYXJzZV9Ebi5odG1sJyxcXG4gICAgcGxnbDogJ2hpa2VyOi8vZmlsZXMvY2FjaGUvcGxnbFBhcnNlLmh0bWwnLFxcbiAgICBMYW5KaWU6ICdoaWtlcjovL2ZpbGVzL2NhY2hlL3g1UGFyc2VMYW5KaWUudHh0JyxcXG4gICAgY29uZmlnOiAnaGlrZXI6Ly9maWxlcy9jYWNoZS9NeVBhcnNlU2V0Lmpzb24nLFxcbiAgICBwYXJzZXM6ICdoaWtlcjovL2ZpbGVzL3J1bGVzL0R1YW5OaWFuL015UGFyc2UuanNvbicsXFxuICAgIGN6enk6ICdodHRwczovL2RvY3MucXEuY29tL2RvYy9EVlhOR1ZHZExSRUZQWTNaeicsXFxuICAgIGd4cno6ICdodHRwczovL3d3dy55dXF1ZS5jb20vZHVhbm5pYW4tY29xdGIvZWx5OGNhL2dhZjdvcCcsXFxuICAgIHZ1ZTogJ2hpa2VyOi8vZmlsZXMvY2FjaGUvdnVlQDIuNS4xNi5qcycsXFxuICAgIGpxdWVyeTogJ2hpa2VyOi8vZmlsZXMvY2FjaGUvanF1ZXJ5QDIuMS40LmpzJyxcXG4gICAgeDVSb3V0ZTogJ2ZpbGU6Ly8vc3RvcmFnZS9lbXVsYXRlZC8wL0FuZHJvaWQvZGF0YS9jb20uZXhhbXBsZS5oaWtlcnZpZXcvZmlsZXMvRG9jdW1lbnRzL2NhY2hlLydcXG59O1xcbmxldCBmUm91dGUgPSAnaGlrZXI6Ly9maWxlcy9jYWNoZS9maWxlTGlua3PhtLDigb8udHh0JztcXG5pZiAoIWdldFZhcignanhJdGVtVicpIHx8IGdldFZhcignanhJdE5ld1YnLCAnMCcpICE9PSAnMCcpIHtcXG4gICAgdmFyIHJvdXRlVXJsID0ga1QgKyBcXFwiUm91dGUuanNcXFwiO1xcbiAgICB2YXIgcm91dGVGaWxlID0gZmV0Y2hDYWNoZShyb3V0ZVVybCwgMTIpO1xcbiAgICB3cml0ZUZpbGUocm91dGVGaWxlLCBcXFwiaGlrZXI6Ly9maWxlcy9saWJzL1xcXCIgKyBtZDUoZkxpbmtzLnJvdXRlVXJsKSArIFxcXCIuanNcXFwiKTtcXG4gICAgd3JpdGVGaWxlKGZSb3V0ZSwgJ3ZhciBmTGlua3M9JyArICQuc3RyaW5naWZ5KGZMaW5rcykpO1xcbn1cXG5cIixcInBhZ2VzXCI6XCJbe1xcXCJjb2xfdHlwZVxcXCI6XFxcIm1vdmllXzNcXFwiLFxcXCJuYW1lXFxcIjpcXFwiUGFyc2VfRG4uaHRtbFxcXCIsXFxcInBhdGhcXFwiOlxcXCJQYXJzZV9Ebi5odG1sXFxcIixcXFwicnVsZVxcXCI6XFxcIjwhRE9DVFlQRSBodG1sPlxcXFxuPGh0bWw+XFxcXG48aGVhZD5cXFxcbiAgICA8bWV0YSBjaGFyc2V0PVxcXFxcXFwidXRmLThcXFxcXFxcIj5cXFxcbiAgICA8bWV0YSBuYW1lPVxcXFxcXFwidmlld3BvcnRcXFxcXFxcIiBjb250ZW50PVxcXFxcXFwid2lkdGg9ZGV2aWNlLXdpZHRoLGluaXRpYWwtc2NhbGU9MSxtaW5pbXVtLXNjYWxlPTEsbWF4aW11bS1zY2FsZT0xLHVzZXItc2NhbGFibGU9bm9cXFxcXFxcIiAvPlxcXFxuICAgIDwhLS1cXFxcbiAgICA8c2NyaXB0IHNyYz1cXFxcXFxcImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vdnVlQDIuNS4xNi9kaXN0L3Z1ZS5taW4uanNcXFxcXFxcIj48L3NjcmlwdD5cXFxcbiAgICA8c2NyaXB0IHNyYz1cXFxcXFxcImh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0yLjEuNC5taW4uanNcXFxcXFxcIj48L3NjcmlwdD5cXFxcbiAgICBcXFxcbiAgICA8c2NyaXB0IHNyYz1cXFxcXFxcImh0dHA6Ly9hcHBzLmJkaW1nLmNvbS9saWJzL2pxdWVyeS8yLjEuNC9qcXVlcnkubWluLmpzXFxcXFxcXCI+PC9zY3JpcHQ+XFxcXG4gICAgPHNjcmlwdCBzcmM9XFxcXFxcXCJodHRwOi8vYXBwcy5iZGltZy5jb20vbGlicy92dWUvMS4wLjE0L3Z1ZS5qc1xcXFxcXFwiPjwvc2NyaXB0PlxcXFxuICAgIC0tPlxcXFxuICAgIDx0aXRsZT5QYXJzZV9EbjwvdGl0bGU+XFxcXG4gICAgPHN0eWxlIHR5cGU9dGV4dC9jc3M+XFxcXG4gICAgICAgIGh0bWwsIGJvZHkge1xcXFxuICAgICAgICAgICAgaGVpZ2h0OiBhdXRvO1xcXFxuICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBib2R5IHtcXFxcbiAgICAgICAgICAgIG1hcmdpbjogMCA1cHggMCA1cHg7XFxcXG4gICAgICAgICAgICBwYWRkaW5nOiAwIDBweCAwIDBweDtcXFxcbiAgICAgICAgICAgIC8vYmFja2dyb3VuZDogI0Y5RjBEQTtcXFxcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiAwO1xcXFxuICAgICAgICAgICAgZm9udC1mYW1pbHk6IFxcXFxcXFwiTWljcm9zb2Z0IFlhSGVpXFxcXFxcXCIsXFxcXFxcXCLlrovkvZNcXFxcXFxcIixcXFxcXFxcIlNlZ29lIFVJXFxcXFxcXCIsIFxcXFxcXFwiTHVjaWRhIEdyYW5kZVxcXFxcXFwiLCBIZWx2ZXRpY2EsIEFyaWFsLHNhbnMtc2VyaWYsIEZyZWVTYW5zLCBBcmltbztcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICAjZGl2MntcXFxcbiAgICAgICAgICAgbWFyZ2luLXRvcDozNXB4O1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIC8q6L6T5YWl5qGG54i25YWD57SgKi9cXFxcbiAgICAgICAgZGl2LmJveCB7XFxcXG4gICAgICAgICAgICBoZWlnaHQ6IDUzcHg7XFxcXG4gICAgICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcXFxcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICAvKui+k+WFpeahhuWwuuWvuCovXFxcXG4gICAgICAgIGZvcm0ge1xcXFxuICAgICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XFxcXG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxcXG4gICAgICAgICAgICB3aWR0aDogOTIlO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIGlucHV0LCBsYWJlbCwgLmxpZWIgYnV0dG9uIHtcXFxcbiAgICAgICAgICAgIGJvcmRlcjogbm9uZTtcXFxcbiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgLyrlrZfkvZPkvY3nva4qL1xcXFxuICAgICAgICBpbnB1dCB7XFxcXG4gICAgICAgICAgICB3aWR0aDogNzclO1xcXFxuICAgICAgICAgICAgaGVpZ2h0OiAzMnB4O1xcXFxuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiA2NnB4O1xcXFxuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMzBweDtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBsYWJlbCB7XFxcXG4gICAgICAgICAgICB0ZXh0LWFsaWduOmNlbnRlcjtcXFxcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA0M3B4O1xcXFxuICAgICAgICAgICAgaGVpZ2h0OiA0MHB4O1xcXFxuICAgICAgICAgICAgd2lkdGg6IDYwcHg7XFxcXG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxcXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgLyrlsI/moYYqL1xcXFxuICAgICAgICAuYmFyIGxhYmVsIHtcXFxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNEMDZCNkM7XFxcXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1NTUgNTU1cHggNTU1cHggNTU1O1xcXFxuICAgICAgICAgICAgd2lkdGg6IDYwcHg7XFxcXG4gICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XFxcXG4gICAgICAgICAgICBjb2xvcjogI0Y5RjBEQTtcXFxcbiAgICAgICAgICAgIHRvcDogMDtcXFxcbiAgICAgICAgICAgIGxlZnQ6IDNweDtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICAvKui+k+WFpeahhuagt+W8jyovXFxcXG4gICAgICAgIC5iYXIgaW5wdXQge1xcXFxuICAgICAgICAgICAgYmFja2dyb3VuZDogI0Y5RjBEQTtcXFxcbiAgICAgICAgICAgIGJvcmRlcjogM3B4IHNvbGlkICNEMDZCNkM7XFxcXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgLyrliJfooagqL1xcXFxuICAgICAgICAubGllYiBidXR0b24ge1xcXFxuICAgICAgICAgICAgdGV4dC1hbGlnbjpjZW50ZXI7XFxcXG4gICAgICAgICAgICBsaW5lLWhlaWdodDo0MHB4O1xcXFxuICAgICAgICAgICAgaGVpZ2h0OiA0MHB4O1xcXFxuICAgICAgICAgICAgd2lkdGg6IDI3cHg7XFxcXG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxcXG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgLyrliJfooagqL1xcXFxuICAgICAgICAubGllYiBidXR0b257XFxcXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxcXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjRDA2QjZDO1xcXFxuICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xcXFxuICAgICAgICAgICAgY29sb3I6ICNGOUYwREE7XFxcXG4gICAgICAgICAgICB0b3A6IDA7XFxcXG4gICAgICAgICAgICByaWdodDogMHB4O1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIC8q5aS05YOPKi9cXFxcbiAgICAgICAgLnJvdW5kX2ljb257XFxcXG4gICAgICAgICAgICB3aWR0aDogNDBweDtcXFxcbiAgICAgICAgICAgIGhlaWdodDogNDBweDtcXFxcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XFxcXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XFxcXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcXFxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxcXG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xcXFxuICAgICAgICB9XFxcXG5cXFxcbiAgICAgICAgLmp4LXVsLCAuY2otdWwge1xcXFxuICAgICAgICAgICAgei1pbmRleDogOTk5O1xcXFxuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xcXFxuICAgICAgICAgICAgd2lkdGg6IDc3JTtcXFxcbiAgICAgICAgICAgLy8gbGVmdDogMTAlO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIC5qeC11bCwgLmNqLXVsIHtcXFxcbiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgLmp4LXVsIHtcXFxcbiAgICAgICAgICAgIHRvcDogMyU7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgLmNqLXVsIHtcXFxcbiAgICAgICAgICAgIHRvcDogMzAlO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIGxpIHtcXFxcbiAgICAgICAgICAgIGhlaWdodDogMzVweDtcXFxcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMWJmZGE7XFxcXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XFxcXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuOCk7XFxcXG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XFxcXG4gICAgICAgICAgICBsaW5lLWhlaWdodDogMzVweDtcXFxcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXFxcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcXFxcbiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxcXG4gICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xcXFxuICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgbGkge1xcXFxuICAgICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBsaTpob3ZlciB7XFxcXG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxcXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDEzOSwgMTMxLCAxMjAsIDAuOSk7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgbGlbY2hlY2s9XFxcXFxcXCJ0cnVlXFxcXFxcXCJdIHtcXFxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTM5LCAwLCAwLCAwLjkpO1xcXFxuICAgICAgICB9XFxcXG5cXFxcbiAgICA8L3N0eWxlPlxcXFxuPC9oZWFkPlxcXFxuXFxcXG48Ym9keT5cXFxcbiAgICA8ZGl2IGNsYXNzPVxcXFxcXFwiZnVuZ1xcXFxcXFwiPlxcXFxuICAgICAgICA8YSBzdHlsZT1cXFxcXFxcImZsb2F0OmxlZnQ7XFxcXFxcXCI+XFxcXG4gICAgICAgICAgICA8YnV0dG9uICBzdHlsZT1cXFxcXFxcImJvcmRlcjogbm9uZTtib3JkZXItcmFkaXVzOjEwcHg7YmFja2dyb3VuZDogI2M1NDY0YTt3aWR0aDogODBweDsgZm9udC1zaXplOiAxOHB4O2NvbG9yOiAjRjlGMERBO1xcXFxcXFwiIG9uY2xpY2s9XFxcXFxcXCJjYW5jZWwoKTtcXFxcXFxcIj7lhbMg6ZetPC9idXR0b24+XFxcXG4gICAgICAgIDwvYT5cXFxcbiAgICAgICAgPGEgc3R5bGU9XFxcXFxcXCJmbG9hdDpyaWdodFxcXFxcXFwiPlxcXFxuICAgICAgICAgICAgPGJ1dHRvbiBzdHlsZT1cXFxcXFxcImJvcmRlcjogbm9uZTtib3JkZXItcmFkaXVzOjEwcHg7YmFja2dyb3VuZDogIzA2ODAwNjt3aWR0aDogODBweDsgZm9udC1zaXplOiAxOHB4O2NvbG9yOiAjRjlGMERBO1xcXFxcXFwib25jbGljaz1cXFxcXFxcImNsaWNrbWUoJ+mFjSDnva4g5beyIOS/nSDlrZgg77yBJywgMTAwMCwgJ+W8gCcpO1xcXFxcXFwiPuS/nSDlrZg8L2J1dHRvbj4gXFxcXG4gICAgICAgIDwvYT5cXFxcbiAgICA8L2Rpdj5cXFxcbiAgICA8YnI+XFxcXG4gICAgPGRpdiBpZD1cXFxcXFxcImRpdjJcXFxcXFxcIj48L2Rpdj5cXFxcbiAgICA8ZGl2PlxcXFxuICAgICAgICA8YSBzdHlsZT1cXFxcXFxcImZsb2F0OmxlZnQ7bWFyZ2luLXRvcDo1cHg7XFxcXFxcXCIgb25jbGljaz1cXFxcXFxcIm9wZW5EblBhZ2UoKVxcXFxcXFwiPlxcXFxuICAgICAgICAgICAgPGltZyBzcmM9XFxcXFxcXCJodHRwczovL3MzLmF4MXguY29tLzIwMjEvMDIvMjIveTd3YjlPLmpwZ1xcXFxcXFwiIGNsYXNzPVxcXFxcXFwicm91bmRfaWNvblxcXFxcXFwiICBhbHQ9XFxcXFxcXCJcXFxcXFxcIj5cXFxcbiAgICAgICAgPC9hPlxcXFxuICAgICAgICA8c3BhbiBzdHlsZT1cXFxcXFxcImxpbmUtaGVpZ2h0OjYwcHg7Zm9udC1zaXplOjE4cHg7Y29sb3I6IGdyZXk7XFxcXFxcXCI+Jm5ic3A7Jm5ic3A75patJm5ic3A75b+1PC9zcGFuPlxcXFxuICAgICAgICA8YSBzdHlsZT1cXFxcXFxcImZsb2F0OnJpZ2h0O21hcmdpbi10b3A6NXB4O1xcXFxcXFwiPlxcXFxuICAgICAgICAgICAgPGJ1dHRvbiAgc3R5bGU9XFxcXFxcXCJib3JkZXI6IG5vbmU7Ym9yZGVyLXJhZGl1czoxMHB4O2JhY2tncm91bmQ6ICMwNUJGQzU7d2lkdGg6IDE4NXB4O2hlaWdodDo0MHB4OyBmb250LXNpemU6IDE4cHg7Y29sb3I6ICNGOUYwREE7XFxcXFxcXCIgb25jbGljaz1cXFxcXFxcImNsaWNrbWUoJ+mFjSDnva4g5beyIOS/nSDlrZgg77yBJywgMTAwMCwgJ+WFsycpO1xcXFxcXFwiPuS/neWtmOiuvue9ruW5tuWFs+mXreeVjOmdojwvYnV0dG9uPlxcXFxuICAgICAgICA8L2E+XFxcXG4gICAgPC9kaXY+XFxcXG4gICAgPGRpdiBjbGFzcz1cXFxcXFxcInpqLWRpdlxcXFxcXFwiPlxcXFxuICAgICAgICA8dWwgY2xhc3M9XFxcXFxcXCJqeC11bFxcXFxcXFwiIHN0eWxlPVxcXFxcXFwiaGVpZ2h0OjQ0NHB4O292ZXJmbG93LXk6YXV0bztcXFxcXFxcIj5cXFxcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cXFxcXFxcIm15Q2hvaWNlXFxcXFxcXCIgc3R5bGU9XFxcXFxcXCJ6LWluZGV4Ojk5OTk7cG9zaXRpb246IGZpeGVkO3dpZHRoOjc2LjUlO2NvbG9yOnJlZDtcXFxcXFxcIj48L2xpPlxcXFxuICAgICAgICAgICAgPGxpIGNsYXNzPVxcXFxcXFwidXNlbGVzc1xcXFxcXFwiPjwvbGk+XFxcXG4gICAgICAgICAgICA8bGkgY2xhc3M9XFxcXFxcXCJ4bExpc3RcXFxcXFxcIiB2LWZvcj1cXFxcXFxcIml0ZW0gaW4ganhEYXRhXFxcXFxcXCI+e3tpdGVtfX08L2xpPlxcXFxuICAgICAgICA8L3VsPlxcXFxuICAgICAgICA8dWwgY2xhc3M9XFxcXFxcXCJjai11bFxcXFxcXFwiPlxcXFxuICAgICAgICAgICAgPGxpIHN0eWxlPVxcXFxcXFwiYmFja2dyb3VuZDpncmV5O1xcXFxcXFwiPuivt+mAieaLqeaPkuS7tjwvbGk+XFxcXG4gICAgICAgICAgICA8bGkgdi1mb3I9XFxcXFxcXCJpdGVtIGluIGNqRGF0YVxcXFxcXFwiPnt7aXRlbX19PC9saT5cXFxcbiAgICAgICAgPC91bD5cXFxcbiAgICA8L2Rpdj5cXFxcbjwvYm9keT5cXFxcbjxzY3JpcHQ+XFxcXG4gICAgZXZhbChmeV9icmlkZ2VfYXBwLmZldGNoKFxcXFxcXFwiaGlrZXI6Ly9maWxlcy9jYWNoZS9qcXVlcnlAMi4xLjQuanNcXFxcXFxcIikpO1xcXFxuICAgIGV2YWwoZnlfYnJpZGdlX2FwcC5mZXRjaChcXFxcXFxcImhpa2VyOi8vZmlsZXMvY2FjaGUvdnVlQDIuNS4xNi5qc1xcXFxcXFwiKSk7XFxcXG4gICAgZXZhbChmeV9icmlkZ2VfYXBwLmdldEludGVybmFsSnMoKSk7XFxcXG4gICAgXFxcXG4gICAgdmFyIHNldHRpbmdzID0ge1xcXFxuICAgICAgICBxeTogJ3l1bjE3MTcnLFxcXFxuICAgICAgICB5azogJ3l1bjE3MTcnLFxcXFxuICAgICAgICB0eDogJ3l1bjE3MTcnLFxcXFxuICAgICAgICBtZzogJ3l1bjE3MTcnLFxcXFxuICAgICAgICBibDogJ3l1bjE3MTcnLFxcXFxuICAgICAgICBvdGg6ICd5dW4xNzE3JyxcXFxcbiAgICAgICAgcWp1OiAn6buY6K6kJyxcXFxcbiAgICAgICAgY2o6ICdoaWtlcjovL2ZpbGVzL2NhY2hlL1BhcnNlX0RuLmpzJ1xcXFxuICAgIH07XFxcXG4gICAgXFxcXG4gICAgdmFyIG9sZFJvdXRlID0gXFxcXFxcXCJoaWtlcjovL2ZpbGVzL2NhY2hlL015UGFyc2VTZXQuanNvblxcXFxcXFwiO1xcXFxuICAgIHZhciBteVNldCA9IGZ5X2JyaWRnZV9hcHAuZmV0Y2gob2xkUm91dGUpO1xcXFxuICAgIFxcXFxuICAgIHZhciBuZXdSb3V0ZSA9IFxcXFxcXFwiaGlrZXI6Ly9maWxlcy9ydWxlcy9EdWFuTmlhbi9NeVBhcnNlLmpzb25cXFxcXFxcIjtcXFxcbiAgICB2YXIgbmV3Q29uZmlnID0gZnlfYnJpZGdlX2FwcC5mZXRjaChuZXdSb3V0ZSk7XFxcXG4gICAgdmFyIG15U2VsZWN0ID0gW107XFxcXG4gICAgdHJ5e1xcXFxuICAgICAgICBldmFsKFxcXFxcXFwibmV3Q29uZmlnID1cXFxcXFxcIiArIG5ld0NvbmZpZyArIFxcXFxcXFwiO1xcXFxcXFwiKTtcXFxcbiAgICAgICAgc2V0dGluZ3MgPSBuZXdDb25maWcuc2V0dGluZ3MucWp1ID09IHVuZGVmaW5lZCA/IHNldHRpbmdzIDogbmV3Q29uZmlnLnNldHRpbmdzO1xcXFxuICAgICAgICB2YXIgeWNUaXRsZSA9IFsnZGVmYXVsdFBhcnNlJywgJ21hb3NzJywgJ0NpdHlJUCcsICdjYWNoZU0zdTgnLCAncGNVQScsICdwYXJzZUxjJywgJ2dwYXJzZScsICducGFyc2UnXTtcXFxcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IG5ld0NvbmZpZy50aXRsZS5sZW5ndGg7IGkrKyl7XFxcXG4gICAgICAgICAgICB2YXIgVGl0bGVzID0gbmV3Q29uZmlnLnRpdGxlW2ldO1xcXFxuICAgICAgICAgICAgaWYoeWNUaXRsZS5pbmNsdWRlcyhUaXRsZXMpID09IGZhbHNlKXtcXFxcbiAgICAgICAgICAgICAgICBteVNlbGVjdC5wdXNoKFRpdGxlcyk7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIH1cXFxcbiAgICB9Y2F0Y2goZSl7fVxcXFxuICAgIHZhciBzZlJlZnJlc2ggPSBzZXR0aW5ncy5jajtcXFxcbiAgICBmdW5jdGlvbiBEaWQoaWQpe1xcXFxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xcXFxuICAgIH1cXFxcbiAgICBcXFxcbiAgICBpZihteVNldCA9PSAnJyl7XFxcXG4gICAgICAgIERpZChcXFxcXFxcImRpdjJcXFxcXFxcIikuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlckJlZ2luJywnXFxcXFxcXFxcXFxcbjxoND7mj5DnpLrvvJo8YnI+4pGg5rOo5oSP5o+S5Lu26YCJ6aG577yM5rKh5pyJ5omL5Yqo5a+85YWl5o+S5Lu255qE6K+d5LiN55So5Yqo5a6D44CC5aaC6K6+572u5LiN5b2T5Lya5a+86Ie06KeE5YiZ5peg5rOV5L2/55So77yMPGJyPuino+WGs+WKnuazle+8muWwj+eoi+W6j+mmlumhteeCueWHu+aBouWkjem7mOiupOaPkuS7tu+8mzxicj7ikaHlhajlsYDorr7nva7lpoLmnpzpgInmi6nkuobpnZ7pu5jorqTpgqPkuYjlhajpg6jnmoTop6PmnpDkvJrkvb/nlKjov5nkuIDorr7nva7vvIzkuI3mg7Pov5nmoLfnmoTor53or7floavlhaXpu5jorqTvvJs8YnI+4pGi57u/6Imy5L+d5a2Y5oyJ6ZKu5LuF5LuF5L+d5a2Y6YWN572u5LiN5Lya5YWz6Zet6K6+572u6aG16Z2i77yM6YWN572u5ZCO5oOz5L+d5a2Y5bm25YWz6Zet6K6+572u6aG16Z2i55qE6K+d6K+354K56JOd6Imy5oyJ6ZKu77ybPGJyPuKRo+mYheivu+WujOaPkOekuueCueWFs+mXreWKoOi9veWujOaVtOiuvue9rumhtemdou+8jOWmguWHuumXrumimOaXoOazleiHquihjOino+WGs+eCueWbvueJh+i/m+WFpeiuuuWdm+WQkeaIkeWPjemmiOOAgjxicj48L2g0PicpO1xcXFxuICAgIH1cXFxcbiAgICBcXFxcbiAgICB2YXIgYm94RGF0YSA9IFtcXFxcbiAgICAgICAge1xcXFxuICAgICAgICAgICAgdGl0bGU6IFxcXFxcXFwi5aWHIOWlh1xcXFxcXFwiLFxcXFxuICAgICAgICAgICAgaWQ6IFxcXFxcXFwicXlcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIHZhbHVlOiBzZXR0aW5ncy5xeSxcXFxcbiAgICAgICAgfSwge1xcXFxuICAgICAgICAgICAgdGl0bGU6IFxcXFxcXFwi6YW3IOmFt1xcXFxcXFwiLFxcXFxuICAgICAgICAgICAgaWQ6IFxcXFxcXFwieWtcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIHZhbHVlOiBzZXR0aW5ncy55ayxcXFxcbiAgICAgICAgfSwge1xcXFxuICAgICAgICAgICAgdGl0bGU6IFxcXFxcXFwi6IW+IOiFvlxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgaWQ6IFxcXFxcXFwidHhcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIHZhbHVlOiBzZXR0aW5ncy50eCxcXFxcbiAgICAgICAgfSwge1xcXFxuICAgICAgICAgICAgdGl0bGU6IFxcXFxcXFwi5p6cIOaenFxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgaWQ6IFxcXFxcXFwibWdcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIHZhbHVlOiBzZXR0aW5ncy5tZyxcXFxcbiAgICAgICAgfSwge1xcXFxuICAgICAgICAgICAgdGl0bGU6IFxcXFxcXFwi5ZOpIOWTqVxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgaWQ6IFxcXFxcXFwiYmxcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIHZhbHVlOiBzZXR0aW5ncy5ibCxcXFxcbiAgICAgICAgfSwge1xcXFxuICAgICAgICAgICAgdGl0bGU6IFxcXFxcXFwi5YW2IOS7llxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgaWQ6IFxcXFxcXFwib3RoXFxcXFxcXCIsXFxcXG4gICAgICAgICAgICB2YWx1ZTogc2V0dGluZ3Mub3RoLFxcXFxuICAgICAgICB9LCB7XFxcXG4gICAgICAgICAgICB0aXRsZTogXFxcXFxcXCLlhagg5bGAXFxcXFxcXCIsXFxcXG4gICAgICAgICAgICBpZDogXFxcXFxcXCJxanVcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIHZhbHVlOiBzZXR0aW5ncy5xanUsXFxcXG4gICAgICAgIH0sIHtcXFxcbiAgICAgICAgICAgIHRpdGxlOiBcXFxcXFxcIuaPkiDku7ZcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIGlkOiBcXFxcXFxcImNqXFxcXFxcXCIsXFxcXG4gICAgICAgICAgICB2YWx1ZTogc2V0dGluZ3MuY2osXFxcXG4gICAgICAgIH1cXFxcbiAgICBdO1xcXFxuXFxcXG4gICAgdmFyIGlucHV0Qm94ID0gXFxcXFxcXCJcXFxcXFxcIjtcXFxcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgYm94RGF0YS5sZW5ndGg7IGkrKyl7XFxcXG4gICAgICAgIGxldCBiID0gYm94RGF0YVtpXTtcXFxcbiAgICAgICAgaW5wdXRCb3ggKz0gJzxkaXYgY2xhc3M9XFxcXFxcXCJib3ggYmFyXFxcXFxcXCI+XFxcXFxcXFxcXFxcbiAgICAgICAgICAgIDxmb3JtPlxcXFxcXFxcXFxcXG4gICAgICAgICAgICAgICAgPGxhYmVsIHR5cGU9XFxcXFxcXCJzdWJtaXRcXFxcXFxcIj4nICsgYi50aXRsZSArICc8L2xhYmVsPlxcXFxcXFxcXFxcXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcXFxcXCJ0ZXh0XFxcXFxcXCIgcGxhY2Vob2xkZXI9XFxcXFxcXCLovpPlhaXop6PmnpDlkI3miJbogIVVUkwuLi4uLi5cXFxcXFxcIiB2YWx1ZT1cXFxcXFxcIicgKyBiLnZhbHVlICsgJ1xcXFxcXFwiIGlkPVxcXFxcXFwiJyArIGIuaWQgKyAnXFxcXFxcXCI+XFxcXFxcXFxcXFxcbiAgICAgICAgICAgIDwvZm9ybT5cXFxcXFxcXFxcXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFxcXFxcImxpZWJcXFxcXFxcIj5cXFxcXFxcXFxcXFxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XFxcXFxcXCInICsgYi5pZCArICdTZWxlY3RcXFxcXFxcIj7imLA8L2J1dHRvbj5cXFxcXFxcXFxcXFxuICAgICAgICAgICAgPC9kaXY+XFxcXFxcXFxcXFxcbiAgICAgICAgPC9kaXY+JztcXFxcbiAgICB9XFxcXG4gICAgRGlkKFxcXFxcXFwiZGl2MlxcXFxcXFwiKS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJywgaW5wdXRCb3gpO1xcXFxuICAgIERpZChcXFxcXFxcImNqXFxcXFxcXCIpLnBsYWNlaG9sZGVyID0gXFxcXFxcXCLovpPlhaXmj5Lku7blnLDlnYAuLi4uLi5cXFxcXFxcIjtcXFxcbiAgICBEaWQoXFxcXFxcXCJxanVcXFxcXFxcIikucGxhY2Vob2xkZXIgPSBcXFxcXFxcIuatpOmhueW7uuiurueVmeepuuaIluiAheWhq+m7mOiupOS4pOS4quWtl1xcXFxcXFwiO1xcXFxuICAgIFxcXFxuICAgIG5ldyBWdWUoe1xcXFxuICAgICAgICBlbDogXFxcXFxcXCIuemotZGl2XFxcXFxcXCIsXFxcXG4gICAgICAgIGRhdGE6IHtcXFxcbiAgICAgICAgICAgIGp4RGF0YTogbXlTZWxlY3QsXFxcXG4gICAgICAgICAgICBjakRhdGE6IFtcXFxcXFxcImhpa2VyOi8vZmlsZXMvY2FjaGUvUGFyc2VfRG4uanNcXFxcXFxcIiwgXFxcXFxcXCJoaWtlcjovL2ZpbGVzL3J1bGVzL2R6SG91c2UvanMvc3JjYXV0by5qc1xcXFxcXFwiLCBcXFxcXFxcImhpa2VyOi8vZmlsZXMvcnVsZXMvanMvUGFyc2UtVjJfRG4uanNcXFxcXFxcIl1cXFxcbiAgICAgICAgfVxcXFxuICAgIH0pO1xcXFxuXFxcXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XFxcXG4gICAgICAgIHZhciBsZW4gPSAkKCcuangtdWwnKS5jaGlsZHJlbignbGknKS5sZW5ndGg7XFxcXG4gICAgICAgIHZhciBsZW4yID0gJCgnLmNqLXVsJykuY2hpbGRyZW4oJ2xpJykubGVuZ3RoO1xcXFxuICAgICAgICAkKCcubGllYiBidXR0b24nKS5jbGljayhmdW5jdGlvbihlKSB7XFxcXG4gICAgICAgICAgICBpZigkKCcubGllYiBidXR0b24nKS50ZXh0KCkuaW5jbHVkZXMoJ+KUgScpKXtcXFxcbiAgICAgICAgICAgICAgICAkKCcubGllYiBidXR0b24nKS5jc3MoJ2JhY2tncm91bmQnLCAnJyk7XFxcXG4gICAgICAgICAgICAgICAgJCgnLmxpZWIgYnV0dG9uJykudGV4dCgn4piwJyk7XFxcXG4gICAgICAgICAgICB9ZWxzZXtcXFxcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnRleHQoJ+KUgScpO1xcXFxuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kJywgJ3JlZCcpO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgJCgnbGknKS5hdHRyKCdjaGVjaycsICdmYWxzZScpO1xcXFxuICAgICAgICAgICAgdmFyIGlucHV0aWQgPSBcXFxcXFxcIiNcXFxcXFxcIiArIHRoaXMuaWQuc3BsaXQoXFxcXFxcXCJTZWxlY3RcXFxcXFxcIilbMF07XFxcXG4gICAgICAgICAgICB2YXIgYXJyID0gJChpbnB1dGlkKS52YWwoKS5zcGxpdCgnLCcpO1xcXFxuICAgICAgICAgICAgYXJyID0gYXJyWzBdID09ICcnID8gW10gOiBhcnI7XFxcXG4gICAgICAgICAgICAkKCcubXlDaG9pY2UnKS50ZXh0KGFycik7XFxcXG4gICAgICAgICAgICBpZiAoaW5wdXRpZCAhPT0gJyNjaicgJiYgJCgnLmNqLXVsJykuY3NzKCdkaXNwbGF5Jyk9PSdub25lJykge1xcXFxuICAgICAgICAgICAgICAgICQoJy5qeC11bCcpLnNsaWRlVG9nZ2xlKDMwMCk7XFxcXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcXFxcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbjsgaSsrKSB7XFxcXG4gICAgICAgICAgICAgICAgICAgIHZhciBqeExpc3QgPSAkKCcuangtdWwgbGk6bm90KC5teUNob2ljZSknKS5lcShpKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyci5pbmNsdWRlcyhqeExpc3QudGV4dCgpKSkge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAganhMaXN0LmF0dHIoJ2NoZWNrJywgJ3RydWUnKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgICAgICBqeExpc3QudW5iaW5kKCdjbGljaycpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCdjaGVjaycpICE9PSBcXFxcXFxcInRydWVcXFxcXFxcIikge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignY2hlY2snLCAndHJ1ZScpO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyci51bnNoaWZ0KCQodGhpcykudGV4dCgpKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGlucHV0aWQpLnZhbChhcnIpO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5teUNob2ljZScpLnRleHQoYXJyKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdjaGVjaycsICdmYWxzZScpO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgYXJyLmxlbmd0aDsgYSsrKSB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnJbYV0gPT0gJCh0aGlzKS50ZXh0KCkpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyci5zcGxpY2UoYSwgMSk7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGlucHV0aWQpLnZhbChhcnIpO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm15Q2hvaWNlJykudGV4dChhcnIpO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgICAgICB9KVxcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIH0gZWxzZSBpZigkKCcuangtdWwnKS5jc3MoJ2Rpc3BsYXknKT09J25vbmUnKXtcXFxcbiAgICAgICAgICAgICAgICAkKCcuY2otdWwnKS5zbGlkZVRvZ2dsZSgyMDApO1xcXFxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XFxcXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW4yOyBpKyspIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNqTGlzdCA9ICQoJy5jai11bCBsaScpLmVxKGkpO1xcXFxuICAgICAgICAgICAgICAgICAgICBpZiAoJChpbnB1dGlkKS52YWwoKSA9PSBjakxpc3QudGV4dCgpKSB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBjakxpc3QuYXR0cignY2hlY2snLCAndHJ1ZScpO1xcXFxuICAgICAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgICAgIGNqTGlzdC51bmJpbmQoJ2NsaWNrJykuY2xpY2soZnVuY3Rpb24oKSB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gMCkge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoaW5wdXRpZCkudmFsKCQodGhpcykudGV4dCgpKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2NoZWNrJywgJ3RydWUnKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnNpYmxpbmdzKCkuYXR0cignY2hlY2snLCAnZmFsc2UnKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIH0pO1xcXFxuICAgICAgICAkKGRvY3VtZW50KS5ub3QoJCgnLnhsTGlzdCcpKS5jbGljayhmdW5jdGlvbihlKSB7XFxcXG4gICAgICAgICAgICAkKCcuangtdWwnKS5zbGlkZVVwKCk7XFxcXG4gICAgICAgICAgICAkKCcuY2otdWwnKS5zbGlkZVVwKCk7XFxcXG4gICAgICAgICAgICAkKCcubGllYiBidXR0b24nKS50ZXh0KCfimLAnKTtcXFxcbiAgICAgICAgICAgICQoJy5saWViIGJ1dHRvbicpLmNzcygnYmFja2dyb3VuZCcsICcnKTtcXFxcbiAgICAgICAgfSk7XFxcXG4gICAgICAgICQoZnVuY3Rpb24oKXtcXFxcbiAgICAgICAgICAgICQoJ2xhYmVsJykubW91c2V1cChmdW5jdGlvbigpe1xcXFxuICAgICAgICAgICAgICAgIGxldCBpbnB1dGlkID0gJyMnICsgJCh0aGlzKS5uZXh0KCkuYXR0cignaWQnKTtcXFxcbiAgICAgICAgICAgICAgICBvbmVPckRibChpbnB1dGlkKTtcXFxcbiAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcXFxcbiAgICAgICAgICAgIHZhciB0aW1lcjtcXFxcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uZU9yRGJsKGlucHV0aWQpe1xcXFxuICAgICAgICAgICAgICAgIGNvdW50Kys7XFxcXG4gICAgICAgICAgICAgICAgdGltZXIgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe1xcXFxuICAgICAgICAgICAgICAgICAgICBpZihjb3VudCA9PSAxKXtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhcnIgPSAkKGlucHV0aWQpLnZhbCgpLnNwbGl0KCcsJyk7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnIuc3BsaWNlKDAsIDEpO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgJChpbnB1dGlkKS52YWwoYXJyKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGlucHV0aWQpLnZhbCgnJyk7XFxcXG4gICAgICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lcik7XFxcXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ID0gMDtcXFxcbiAgICAgICAgICAgICAgICB9LDI2MClcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfSlcXFxcbiAgICB9KTtcXFxcbiAgICBcXFxcbiAgICBmdW5jdGlvbiBUb2FzdChtc2csZHVyYXRpb24peyAgXFxcXG4gICAgICAgIGR1cmF0aW9uPWlzTmFOKGR1cmF0aW9uKT8yMDAwOmR1cmF0aW9uOyAgXFxcXG4gICAgICAgIHZhciBtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7ICBcXFxcbiAgICAgICAgbS5pbm5lckhUTUwgPSBtc2c7ICBcXFxcbiAgICAgICAgbS5zdHlsZS5jc3NUZXh0PVxcXFxcXFwid2lkdGg6NDUlOyBtaW4td2lkdGg6MTUwcHg7IGJhY2tncm91bmQ6IzMxMTsgb3BhY2l0eTowLjY7IGhlaWdodDphdXRvO21pbi1oZWlnaHQ6IDQ1cHg7IGNvbG9yOiNmZmY7IGxpbmUtaGVpZ2h0OjQ1cHg7IHRleHQtYWxpZ246Y2VudGVyOyBib3JkZXItcmFkaXVzOjEwcHg7IHBvc2l0aW9uOmZpeGVkOyB0b3A6NjAlOyBsZWZ0OjI2JTsgei1pbmRleDo5OTk5OTk7XFxcXFxcXCI7ICBcXFxcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtKTsgIFxcXFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyAgXFxcXG4gICAgICAgICAgICB2YXIgZCA9IDAuNTsgIFxcXFxuICAgICAgICAgICAgbS5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gJy13ZWJraXQtdHJhbnNmb3JtICcgKyBkICsgJ3MgZWFzZS1pbiwgb3BhY2l0eSAnICsgZCArICdzIGVhc2UtaW4nOyAgXFxcXG4gICAgICAgICAgICBtLnN0eWxlLm9wYWNpdHkgPSAnMCc7ICBcXFxcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobSkgfSwgZCAqIDEwMDApOyAgXFxcXG4gICAgICAgIH0sIGR1cmF0aW9uKTsgIFxcXFxuICAgIH0gIFxcXFxuXFxcXG4gICAgZnVuY3Rpb24gb3BlbkRuUGFnZSgpe1xcXFxuICAgICAgICBmYmEub3BlbihKU09OLnN0cmluZ2lmeSh7XFxcXG4gICAgICAgICAgICBydWxlOiBcXFxcXFxcIj1eX149XFxcXFxcXCIsXFxcXG4gICAgICAgICAgICB0aXRsZTogXFxcXFxcXCLnrqHnkIbop6PmnpBcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIHVybDogXFxcXFxcXCJoaWtlcjovL2VtcHR5I25vSGlzdG9yeSNcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIGZpbmRSdWxlOiBcXFxcXFxcImpzOnRoaXMuZD1bXTtldmFsKGZldGNoKCdoaWtlcjovL2ZpbGVzL2NhY2hlL2ZpbGVMaW5rc+G0sOKBvy50eHQnKSk7cmVxdWlyZShmTGlua3MuanhJdFVybCk7anhJdGVtLmp4TGlzdCgpO3NldFJlc3VsdChkKVxcXFxcXFwiXFxcXG4gICAgICAgIH0pKTtcXFxcbiAgICB9XFxcXG4gICAgZnVuY3Rpb24gY2FuY2VsKCl7XFxcXG4gICAgICAgIGlmKG15U2V0PT0nJyl7XFxcXG4gICAgICAgICAgICBmeV9icmlkZ2VfYXBwLndyaXRlRmlsZShvbGRSb3V0ZSwgSlNPTi5zdHJpbmdpZnkoc2V0dGluZ3MsIG51bGwsIDQpKTtcXFxcbiAgICAgICAgICAgIGZ5X2JyaWRnZV9hcHAucmVmcmVzaFBhZ2UodHJ1ZSk7XFxcXG4gICAgICAgIH1lbHNle1xcXFxuICAgICAgICAgICAgZnlfYnJpZGdlX2FwcC5iYWNrKGZhbHNlKTtcXFxcbiAgICAgICAgfVxcXFxuICAgIH1cXFxcbiAgICBmdW5jdGlvbiBjbGlja21lKG1zZyxkdXJhdGlvbix0aXRsZSl7XFxcXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBib3hEYXRhLmxlbmd0aDsgaSsrKXtcXFxcbiAgICAgICAgICAgIGxldCBpZCA9IGJveERhdGFbaV0uaWQ7XFxcXG4gICAgICAgICAgICBzZXR0aW5nc1tpZF0gPSBEaWQoaWQpLnZhbHVlO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIGlmKHNldHRpbmdzLnFqdSA9PSAnJyl7XFxcXG4gICAgICAgICAgICBzZXR0aW5ncy5xanUgPSAn6buY6K6kJztcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICB0cnl7XFxcXG4gICAgICAgICAgICBldmFsKCd2YXIgYmNDb25maWc9JyArIGZ5X2JyaWRnZV9hcHAuZmV0Y2gobmV3Um91dGUpKTtcXFxcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYmNDb25maWcuc2V0dGluZ3MsIHNldHRpbmdzKTtcXFxcbiAgICAgICAgICAgIGZ5X2JyaWRnZV9hcHAud3JpdGVGaWxlKG5ld1JvdXRlLCAkJCQuc3RyaW5naWZ5KGJjQ29uZmlnKSk7XFxcXG4gICAgICAgIH1jYXRjaChlKXt9XFxcXG4gICAgICAgIGZ5X2JyaWRnZV9hcHAud3JpdGVGaWxlKG9sZFJvdXRlLCAkJCQuc3RyaW5naWZ5KHNldHRpbmdzKSk7XFxcXG4gICAgICAgICAgICBcXFxcbiAgICAgICAgVG9hc3QobXNnLGR1cmF0aW9uKTtcXFxcbiAgICAgICAgaWYodGl0bGU9PVxcXFxcXFwi5YWzXFxcXFxcXCIpe1xcXFxuICAgICAgICAgICAgaWYoc2ZSZWZyZXNoICE9IERpZChcXFxcXFxcImNqXFxcXFxcXCIpLnZhbHVlKXtcXFxcbiAgICAgICAgICAgICAgICBmeV9icmlkZ2VfYXBwLmJhY2soKTtcXFxcbiAgICAgICAgICAgIH1lbHNle1xcXFxuICAgICAgICAgICAgICAgIGZ5X2JyaWRnZV9hcHAuYmFjayhmYWxzZSk7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIH1lbHNle1xcXFxuICAgICAgICAgICAgZnlfYnJpZGdlX2FwcC5yZWZyZXNoUGFnZSh0cnVlKTtcXFxcbiAgICAgICAgfVxcXFxuICAgIH1cXFxcblxcXFxuPC9zY3JpcHQ+ICAgXFxcXG48L2h0bWw+XFxcIn0se1xcXCJjb2xfdHlwZVxcXCI6XFxcIm1vdmllXzNcXFwiLFxcXCJuYW1lXFxcIjpcXFwiUGFyc2VfRG4uanNcXFwiLFxcXCJwYXRoXFxcIjpcXFwiUGFyc2VfRG4uanNcXFwiLFxcXCJydWxlXFxcIjpcXFwiLy89PT09PT09PT09PT3lhY3ll4XosIPnlKg9PT09PT09PT09PT1cXFxcbi8v77yN77yN77yNPV5fXj1cXFxcbi8vQOaWreW/tVxcXFxuXFxcXG52YXIgcGFyc2VSb3V0ZSA9ICdoaWtlcjovL2ZpbGVzL3J1bGVzL0R1YW5OaWFuL015UGFyc2UuanNvbic7XFxcXG52YXIgTXlQYXJzZVMgPSB7fTtcXFxcbnZhciBteVNldCA9IHt9O1xcXFxuaWYgKGZpbGVFeGlzdChwYXJzZVJvdXRlKSkge1xcXFxuICAgIGV2YWwoJ3ZhciBwYXJzZUZpbGUgPScgKyBmZXRjaChwYXJzZVJvdXRlKSk7XFxcXG4gICAgTXlQYXJzZVMgPSBwYXJzZUZpbGUuY29kZXM7XFxcXG4gICAgbXlTZXQgPSBwYXJzZUZpbGUuc2V0dGluZ3M7XFxcXG59XFxcXG52YXIgcGFyc2VUaXRsZSA9IFtcXFxcbiAgICBcXFxcXFxcIvCfpZpcXFxcXFxcIixcXFxcbiAgICBcXFxcXFxcInl1bjE3MTdcXFxcXFxcIixcXFxcbiAgICBcXFxcXFxcIlBhbkd1XFxcXFxcXCIsXFxcXG4gICAgXFxcXFxcXCJGdVhpbmdcXFxcXFxcIixcXFxcbiAgICBcXFxcXFxcImh0dHBzOi8vanh4LnNteXM4LmNuL2luZGV4LnBocD91cmw9XFxcXFxcXCIsXFxcXG4gICAgXFxcXFxcXCJodHRwczovL29ranguY2MvP3VybD1cXFxcXFxcIixcXFxcbiAgICBcXFxcXFxcImh0dHBzOi8vangubTN1OC50di9qaWV4aS8/dXJsPVxcXFxcXFwiLFxcXFxuICAgIFxcXFxcXFwiaHR0cHM6Ly9zYi41Z3Nlby5uZXQvP3VybD1cXFxcXFxcIlxcXFxuXTtcXFxcblxcXFxuLy/vvI3vvI3vvI09Xl9ePVxcXFxuXFxcXG4vL+aOpeWPo+iuvue9ri5cXFxcblxcXFxudmFyIHNldFVybCA9IFxcXFxcXFwiaGlrZXI6Ly9lbXB0eSNub1JlY29yZEhpc3RvcnkjQHJ1bGU9anM6dGhpcy5kPVtdO3JlcXVpcmUoJ2h0dHBzOi8vZ2l0ZWEuY29tL0FJOTU3L0hpa2VyL3Jhdy9tL3YvUm91dGUuanMnKTtSb3V0ZS5zZXRQYXJzZSgpO3NldFJlc3VsdChkKTtcXFxcXFxcIjtcXFxcbnZhciBzZXRfc3dpdGNoID0gc2V0VXJsO1xcXFxudmFyIGxhenkgPSBgcmVxdWlyZSgnaHR0cHM6Ly9naXRlYS5jb20vQUk5NTcvSGlrZXIvcmF3L20vdi9Sb3V0ZS5qcycpO2F5dG1QYXJzZShpbnB1dClgO1xcXFxuXFxcXG4vL3ZhciBwYXJ3aXggPSBgdmFyIHl1cmw9J2h0dHBzOi8vZGFpbGkubWF5aXhpb25nZGkuY24vP3VybD0nO1JlZmVyZXInOiAnaHR0cHM6Ly93d3cubWF5aXhpb25nZGkuY24veXM/aWQ9JzsnaHR0cHM6Ly9kYWlsaS5tYXlpeGlvbmdkaS5jbi9hcGkucGhwJywgJ1JlZmVyZXInOidodHRwczovL2RhaWxpLm1heWl4aW9uZ2RpLmNuJztcXFxcbi8vIOWFqOawkWh0dHBzOi8vcGN2aWRlb2FsaXl1bi50aWFuc2hhbmdyZW5qaWFuLm1ndHYuY29tLjg4d3VtYS5jb20vP3VybD1cXFxcblxcXFxuLy/vvI3vvI3vvI3lpIcg55So77yN77yN77yNXFxcXG4vKlxcXFxuICog5b2x6KeG5bel5Zy677yaIGh0dHBzOi8veXNnYy5jYy9cXFxcbiAqIOaxn+a5ljogNTU155S15b2xIGh0dHBzOi8vd3d3LjU1NWR5Mi5jb20vcGhvbmUuaHRtbCDvvZwgMTfnnIsgaHR0cDovLzE3a2FueXkuY24vIGh0dHA6Ly9qaGppZXhpLjMwdnIuY24vP3VybD0g772cIGh0dHA6Ly9hcGkubWFpemltYWxsLmNvbS9pbmRleC5waHA/dXJsPVxcXFxuICog5rGf5rmWOiBodHRwOi8vd3d3LnRpYW5zaHV5dW4ubmV0L2luZGV4LnBocC92b2QvcGxheS9pZC80NDgzNzcvc2lkLzEvbmlkLzEuaHRtbFxcXFxuICog5rGf5rmWMjogaHR0cDovLzk4aHlrLmNuL2luZGV4LnBocC92b2QvcGxheS9pZC83Mjg0MS9zaWQvMS9uaWQvMS5odG1sXFxcXG4gKiDkurrkurrov7c6IGh0dHBzOi8vdmlwLnN1c291LnR2L3BsYXllci8/dXJsPSDvvZwgaHR0cHM6Ly93d3cubW9tZG0uY2MvXFxcXG4gKiBcXFxcbiAqIHd1aWdlbjogaHR0cHM6Ly93d3cuNWlnZW4uY29tL2RtcGxheWVyL3BsYXllci8/dXJsPVxcXFxuICog5bmy6aWtKOS6uuS6uui/tyk6IGh0dHBzOi8vanguenVpLmNtLz91cmw9XFxcXG4gKiBodHRwczovLzIuNjZtb3ZpZS50b3AvcGxheWVyLz91cmw9XFxcXG4gKiBcXFxcbiAqL1xcXFxuXFxcXG5cXFxcbnZhciB0b29scyA9IHtcXFxcbiAgICBNRDU6IGZ1bmN0aW9uKGRhdGEpIHtcXFxcbiAgICAgICAgZXZhbChnZXRDcnlwdG9KUygpKTtcXFxcbiAgICAgICAgcmV0dXJuIENyeXB0b0pTLk1ENShkYXRhKS50b1N0cmluZyhDcnlwdG9KUy5lbmMuSGV4KTtcXFxcbiAgICB9LFxcXFxuICAgIEFFUzogZnVuY3Rpb24odGV4dCwga2V5LCBpdiwgaXNFbmNyeXB0KSB7XFxcXG4gICAgICAgIGV2YWwoZ2V0Q3J5cHRvSlMoKSk7XFxcXG4gICAgICAgIHZhciBrZXkgPSBDcnlwdG9KUy5lbmMuVXRmOC5wYXJzZShrZXkpO1xcXFxuICAgICAgICB2YXIgaXYgPSBDcnlwdG9KUy5lbmMuVXRmOC5wYXJzZShpdik7XFxcXG4gICAgICAgIGlmIChpc0VuY3J5cHQpIHtcXFxcbiAgICAgICAgICAgIHJldHVybiBDcnlwdG9KUy5BRVMuZW5jcnlwdCh0ZXh0LCBrZXksIHtcXFxcbiAgICAgICAgICAgICAgICBpdjogaXYsXFxcXG4gICAgICAgICAgICAgICAgbW9kZTogQ3J5cHRvSlMubW9kZS5DQkMsXFxcXG4gICAgICAgICAgICAgICAgcGFkZGluZzogQ3J5cHRvSlMucGFkLlBrY3M3XFxcXG4gICAgICAgICAgICB9KS50b1N0cmluZygpO1xcXFxuICAgICAgICB9O1xcXFxuICAgICAgICByZXR1cm4gQ3J5cHRvSlMuQUVTLmRlY3J5cHQodGV4dCwga2V5LCB7XFxcXG4gICAgICAgICAgICBpdjogaXYsXFxcXG4gICAgICAgICAgICBwYWRkaW5nOiBDcnlwdG9KUy5wYWQuUGtjczdcXFxcbiAgICAgICAgfSkudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLlV0ZjgpO1xcXFxuICAgIH0sXFxcXG4gICAgLy9hc2NpaVxcXFxuICAgIG5leHRDaGFyYWN0ZXI6IGZ1bmN0aW9uKGFzY2lpVmFsdWUsIGspIHtcXFxcbiAgICAgICAgdmFyIHMgPSBhc2NpaVZhbHVlO1xcXFxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShzICsgayk7XFxcXG4gICAgfSxcXFxcbiAgICAvL+WHr+aSklxcXFxuICAgIGNhZXNhckNpcGhlcjogZnVuY3Rpb24oc3RyaW5nVmFsdWUsIGspIHtcXFxcbiAgICAgICAgdmFyIG5ld1N0cmluZyA9IFxcXFxcXFwiXFxcXFxcXCI7XFxcXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nVmFsdWUubGVuZ3RoOyBpKyspIHtcXFxcbiAgICAgICAgICAgIG5ld1N0cmluZyArPSB0aGlzLm5leHRDaGFyYWN0ZXIoc3RyaW5nVmFsdWVbaV0uY2hhckNvZGVBdCgpLCBrKTtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICByZXR1cm4gbmV3U3RyaW5nO1xcXFxuICAgIH0sXFxcXG4gICAgaGFuZGxlVXJsOiBmdW5jdGlvbih1cmwsIHZpcFVybCwgbmFtZSkge1xcXFxuICAgICAgICBpZih1cmwgPT0gXFxcXFxcXCJcXFxcXFxcIiB8fCB1cmwgPT0gdmlwVXJsKSB7XFxcXG4gICAgICAgICAgICBsb2cobmFtZSArIFxcXFxcXFwi6Kej5p6Q5aSx6LSlXFxcXFxcXCIpO1xcXFxuICAgICAgICAgICAgcmV0dXJuIHZpcFVybDtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBpZiAodXJsWzBdID09ICcvJykge1xcXFxuICAgICAgICAgICAgdXJsID0gJ2h0dHBzOicgKyB1cmw7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgaWYgKHVybC5pbmRleE9mKCc9aHR0cCcpICE9IC0xKSB7XFxcXG4gICAgICAgICAgICB1cmwgPSB1cmwuaW5kZXhPZignJnVybD0nKSA+IC0xID8gdXJsIDogJ2h0dHAnICsgZGVjb2RlVVJJQ29tcG9uZW50KHVybC5zcGxpdCgnPWh0dHAnKVsxXSk7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgaWYgKHZpcFVybC5pbmRleE9mKCdtZ3R2LmNvbScpICE9IC0xICYmIHVybC5pbmRleE9mKCdVc2VyLUFnZW50JykgPT0gLTEpIHtcXFxcbiAgICAgICAgICAgIHVybCA9IHVybCArICc7e1VzZXItQWdlbnRAYXBwfSc7XFxcXG4gICAgICAgIH0gZWxzZSBpZiAodXJsLmluZGV4T2YoJy5mbHYnKSAhPSAtMSkge1xcXFxuICAgICAgICAgICAgdXJsID0gdXJsICsgJzt7VXNlci1BZ2VudEBhcHAmJlJlZmVyZXJAJyArIHZpcFVybCArICd9JztcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICByZXR1cm4gdXJsICsgJyNpc1ZpZGVvPXRydWUjJztcXFxcbiAgICB9XFxcXG59O1xcXFxuXFxcXG52YXIgUGFyc2VTID0ge307XFxcXG52YXIgb3JpZ2luYWxQYXJzZVMgPSB7XFxcXG4gICAgQ2l0eUlQOiAnaHR0cDovL3B2LnNvaHUuY29tL2NpdHlqc29uJyxcXFxcbiAgICBwY1VBOiAnVXNlci1BZ2VudEBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wXFxcXFxcXFzvvJtcXFxcXFxcXO+8myBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzQ5LjAuMjYyMy44NyBTYWZhcmkvNTM3LjM2JyxcXFxcbiAgICBkZWZhdWx0UGFyc2U6IGZ1bmN0aW9uKHVybCkge1xcXFxuICAgICAgICBzaG93TG9hZGluZyhcXFxcXFxcIuato+WcqOiwg+eUqOe9kemhteino+aekC4uLlxcXFxcXFwiKTtcXFxcbiAgICAgICAgcmV0dXJuICQodXJsKS53ZWJMYXp5KCgpID0+IHtcXFxcbiAgICAgICAgICAgIHZhciBVcmxzID0gX2dldFVybHMoKTtcXFxcbiAgICAgICAgICAgIHZhciBSZWcxID0gL1xcXFxcXFxcLm1wNHxcXFxcXFxcXC5tM3U4XFxcXFxcXFw/fC5tM3U4JHxcXFxcXFxcXC5mbHZ8XFxcXFxcXFwuYXZpfFxcXFxcXFxcLnJtdmIvO1xcXFxuICAgICAgICAgICAgdmFyIFJlZzIgPSAvcGxheW0zdTh8LmNzcyR8LmpzJHwuaWNvJHxjbnp6XFxcXFxcXFwuLztcXFxcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgVXJscy5sZW5ndGg7IGkrKykge1xcXFxuICAgICAgICAgICAgICAgIGxldCBpc1VybCA9IFVybHNbaV07XFxcXG4gICAgICAgICAgICAgICAgaWYgKFJlZzEudGVzdChpc1VybCkgJiYgIVJlZzIudGVzdChpc1VybCkpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgZmJhLmhpZGVMb2FkaW5nKCk7XFxcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1VybCArIFxcXFxcXFwiI2lzVmlkZW89dHJ1ZSNcXFxcXFxcIjtcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIH0pO1xcXFxuICAgIH0sXFxcXG4gICAgbWFvc3M6IGZ1bmN0aW9uKGp4dXJsLCByZWYsIGtleSkge1xcXFxuICAgICAgICB0cnkge1xcXFxuICAgICAgICAgICAgdmFyIGdldFZpZGVvSW5mbyA9IGZ1bmN0aW9uKHRleHQpIHtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHMuQUVTKHRleHQsIGtleSwgaXYpO1xcXFxuICAgICAgICAgICAgfTtcXFxcbiAgICAgICAgICAgIGtleSA9IGtleSA9PSB1bmRlZmluZWQgPyAnZHZ5WVJRbG5QUkNNZFFTZScgOiBrZXk7XFxcXG4gICAgICAgICAgICBpZiAocmVmKSB7XFxcXG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSByZXF1ZXN0KGp4dXJsLCB7XFxcXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICdSZWZlcmVyJzogcmVmXFxcXG4gICAgICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICB9KTtcXFxcbiAgICAgICAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSByZXF1ZXN0KGp4dXJsKTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIGlmIChodG1sLmluZGV4T2YoJyZidHdhZj0nKSAhPSAtMSkge1xcXFxuICAgICAgICAgICAgICAgIGh0bWwgPSByZXF1ZXN0KGp4dXJsICsgJyZidHdhZicgKyBodG1sLm1hdGNoKC8mYnR3YWYoLio/KVxcXFxcXFwiLylbMV0sIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1JlZmVyZXInOiByZWZcXFxcbiAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIH0pXFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICB2YXIgaXYgPSBodG1sLnNwbGl0KCdfdG9rZW4gPSBcXFxcXFxcIicpWzFdLnNwbGl0KCdcXFxcXFxcIicpWzBdO1xcXFxuICAgICAgICAgICAgZXZhbChodG1sLm1hdGNoKC92YXIgY29uZmlnID0ge1tcXFxcXFxcXHNcXFxcXFxcXFNdKj99LylbMF0gKyAnJyk7XFxcXG4gICAgICAgICAgICBpZiAoY29uZmlnLnVybC5zbGljZSgwLCA0KSAhPSAnaHR0cCcpIHtcXFxcbiAgICAgICAgICAgICAgICBjb25maWcudXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KHRvb2xzLkFFUyhjb25maWcudXJsLCBrZXksIGl2KSk7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICByZXR1cm4gY29uZmlnLnVybDtcXFxcbiAgICAgICAgfSBjYXRjaCAoZSkge1xcXFxuICAgICAgICAgICAgcmV0dXJuICcnO1xcXFxuICAgICAgICB9XFxcXG4gICAgfSxcXFxcbiAgICBMTFE6IGZ1bmN0aW9uKGp4dXJsKSB7XFxcXG4gICAgICAgIHRyeSB7XFxcXG4gICAgICAgICAgICB2YXIgYXBpID0ganh1cmwuc3BsaXQoJz91cmw9JylbMF0gKyBcXFxcXFxcImFwaS5waHBcXFxcXFxcIjtcXFxcbiAgICAgICAgICAgIHZhciBiNjRpZCA9IGJhc2U2NEVuY29kZShqeHVybC5zcGxpdCgndXJsPScpWzFdKTtcXFxcbiAgICAgICAgICAgIHZhciBwYXJzZWlkID0gdG9vbHMuY2Flc2FyQ2lwaGVyKGI2NGlkLCAtMSk7XFxcXG4gICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UocmVxdWVzdChhcGksIHtcXFxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XFxcXG4gICAgICAgICAgICAgICAgICAgICdSZWZlcmVyJzoganh1cmxcXFxcbiAgICAgICAgICAgICAgICB9LFxcXFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxcXFxuICAgICAgICAgICAgICAgIGJvZHk6ICd1cmw9JyArIHBhcnNlaWRcXFxcbiAgICAgICAgICAgIH0pKTtcXFxcbiAgICAgICAgICAgIHVybCA9IChqc29uLmNvZGUgPT0gMjAwID8gYmFzZTY0RGVjb2RlKHRvb2xzLmNhZXNhckNpcGhlcihqc29uLnVybCwgLTEpKSA6ICcnKTtcXFxcbiAgICAgICAgICAgIHJldHVybiB1cmw7XFxcXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcXFxcbiAgICAgICAgICAgIHJldHVybiAnJztcXFxcbiAgICAgICAgfVxcXFxuICAgIH0sXFxcXG4gICAgUGFuR3U6IGZ1bmN0aW9uKHZpcFVybCwgZGF0YSkge1xcXFxuICAgICAgICAvKnZhciByZWYgPSAnaHR0cHM6Ly93d3cucGFuZ3VqaWV4aS5jb20vJztcXFxcbiAgICAgICAgdmFyIHBhcnNlID0gJ2h0dHBzOi8vcGFuZ3VhcGkubnRyeWpkLm5ldC9qaWV4aS8/dXJsPScgKyB2aXBVcmw7XFxcXG4gICAgICAgIHZhciBhcGkgPSAnaHR0cHM6Ly9wYW5ndWFwaS5udHJ5amQubmV0L2ppZXhpL2FwaS5waHAnO1xcXFxuICAgICAgICAqL1xcXFxuICAgICAgICAvL3ZhciByZWYgPSAnaHR0cHM6Ly94bXlzdHYuY29tLyc7XFxcXG4gICAgICAgIC8vdmFyIHBhcnNlID0gJ2h0dHBzOi8vd3d3Ljk5a3B3LmNvbS9wYW5ndS9pbmRleC5waHA/dXJsPScgKyB0YWlsVXJsO1xcXFxuICAgICAgICAvL3ZhciBhcGkgPSAnaHR0cHM6Ly93d3cuOTlrcHcuY29tL3Bhbmd1L2FwaS5waHAnO1xcXFxuICAgICAgICB2YXIgcGFyc2UgPSBcXFxcXFxcImh0dHBzOi8vd3d3LnBhbmd1amlleGkuY29tL3Bhbmd1Lz91cmw9XFxcXFxcXCIgKyB2aXBVcmw7XFxcXG4gICAgICAgIHZhciBhcGkgPSBcXFxcXFxcImh0dHBzOi8vcGFuZ3VhcGkubnRyeWpkLm5ldC9wYW5ndTIwMjEvYXBpLnBocFxcXFxcXFwiO1xcXFxuICAgICAgICBpZiAoZGF0YSkge1xcXFxuICAgICAgICAgICAgcmVmID0gZGF0YVswXTtcXFxcbiAgICAgICAgICAgIHBhcnNlID0gZGF0YVsxXTtcXFxcbiAgICAgICAgICAgIGFwaSA9IGRhdGFbMl07XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgdmFyIFRpbWUgPSAoTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApICogMSkudG9TdHJpbmcoKTtcXFxcbiAgICAgICAgdmFyIGpzb24gPSByZXF1ZXN0KGFwaSwge1xcXFxuICAgICAgICAgICAgaGVhZGVyczoge1xcXFxuICAgICAgICAgICAgICAgIFxcXFxcXFwiUmVmZXJlclxcXFxcXFwiOiBwYXJzZVxcXFxuICAgICAgICAgICAgfSxcXFxcbiAgICAgICAgICAgIGJvZHk6IFxcXFxcXFwidXJsPVxcXFxcXFwiICsgdmlwVXJsICsgXFxcXFxcXCImcmVmZXJlcj1cXFxcXFxcIiArIGJhc2U2NEVuY29kZShwYXJzZSkgKyBcXFxcXFxcIiZyZWY9MSZ0aW1lPVxcXFxcXFwiICsgVGltZSArIFxcXFxcXFwiJnR5cGU9Jm90aGVyPVxcXFxcXFwiICsgYmFzZTY0RW5jb2RlKHZpcFVybCkgKyBcXFxcXFxcIiZpb3M9MFxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgbWV0aG9kOiBcXFxcXFxcIlBPU1RcXFxcXFxcIlxcXFxuICAgICAgICB9KTtcXFxcbiAgICAgICAgdmFyIHVybCA9IGpzb25bMF0gPT0gXFxcXFxcXCJ7XFxcXFxcXCIgPyBKU09OLnBhcnNlKGpzb24pLnVybCA6IFxcXFxcXFwiXFxcXFxcXCI7XFxcXG4gICAgICAgIHJldHVybiB1cmw7XFxcXG4gICAgfSxcXFxcbiAgICB5dW4xNzE3OiBmdW5jdGlvbih2aXBVcmwpIHtcXFxcbiAgICAgICAgdmFyIGlzeWsgPSB2aXBVcmwuaW5kZXhPZigneW91a3UnKTtcXFxcbiAgICAgICAgdmFyIHJlZiA9IFxcXFxcXFwiaHR0cHM6Ly93d3cuMTcxN3l1bi5jb20vangvdHkucGhwP3VybD1cXFxcXFxcIiArIHZpcFVybDtcXFxcbiAgICAgICAgdmFyIHBhcnNlID0gXFxcXFxcXCJodHRwczovLzE3MTd5dW4uY29tLnpoMTg4Lm5ldC8wODI4Lz91cmw9XFxcXFxcXCIgKyB2aXBVcmw7XFxcXG4gICAgICAgIHZhciBhcGkgPSBcXFxcXFxcImh0dHBzOi8vMTcxN3l1bi5jb20uemgxODgubmV0LzEwMDQvLi5pbmRleC4ucGhwXFxcXFxcXCI7XFxcXG4gICAgICAgIHJldHVybiBpc3lrID09IC0xID8gdGhpcy5QYW5HdSh2aXBVcmwsIFtyZWYsIHBhcnNlLCBhcGldKSA6IHRoaXMuUGFuR3UodmlwVXJsLCBbcmVmICsgJyx2aXA6JywgcGFyc2UgKyAnLHZpcDonLCBhcGldKTtcXFxcbiAgICB9LFxcXFxuICAgIEZ1WGluZzogZnVuY3Rpb24odmlwVXJsKSB7XFxcXG4gICAgICAgIHRyeSB7XFxcXG4gICAgICAgICAgICAvL2lmKHZpcFVybC5pbmRleE9mKCd2LnlvdWt1JykhPS0xKXtcXFxcbiAgICAgICAgICAgIC8vICAgIHZpcFVybCA9IChKU09OLnBhcnNlKHJlcXVlc3QodmlwVXJsLCB7cmVkaXJlY3Q6ZmFsc2UsIHdpdGhIZWFkZXJzOnRydWV9KSkuaGVhZGVycy5sb2NhdGlvbiArICcnKS5yZXBsYWNlKC9cXFxcXFxcXD8uKi8sJycpO1xcXFxuICAgICAgICAgICAgLy99XFxcXG4gICAgICAgICAgICB2YXIgcmVmID0gJ2h0dHBzOi8vangueHVldHVpZ3VhbmcuY24vamlleGkvP3VybD0nICsgdmlwVXJsO1xcXFxuICAgICAgICAgICAgdmFyIHBhcnNlID0gcmVmO1xcXFxuICAgICAgICAgICAgdmFyIGFwaSA9ICdodHRwczovL2p4Lnh1ZXR1aWd1YW5nLmNuL2ppZXhpL2FwaXVfZngucGhwJztcXFxcbiAgICAgICAgICAgIHJldHVybiB0aGlzLlBhbkd1KHZpcFVybCwgW3JlZiwgcGFyc2UsIGFwaV0pO1xcXFxuICAgICAgICB9IGNhdGNoIChlKSB7XFxcXG4gICAgICAgICAgICByZXR1cm4gJyc7XFxcXG4gICAgICAgIH1cXFxcbiAgICB9LFxcXFxuICAgIFxcXFxcXFwi8J+lmlxcXFxcXFwiOiBmdW5jdGlvbih2aXBVcmwpIHtcXFxcbiAgICAgICAgbGV0IOS9nOiAhV/op4bnlYznn6XlkI3lpKfkvaw7XFxcXG4gICAgICAgIHRyeSB7XFxcXG4gICAgICAgICAgICB2YXIgcGxheSA9IEpTT04ucGFyc2UoZmV0Y2goXFxcXFxcXCJodHRwOi8vd3d3LnpydWlyeS5jb20veXVuL2FwaS5waHBcXFxcXFxcIiwge1xcXFxuICAgICAgICAgICAgICAgIGJvZHk6IFxcXFxcXFwidXJsPVxcXFxcXFwiICsgaW5wdXQsXFxcXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcXFxcXFxcIlBPU1RcXFxcXFxcIlxcXFxuICAgICAgICAgICAgfSkpLnVybDtcXFxcbiAgICAgICAgICAgIGlmIChwbGF5LnN0YXJ0c1dpdGgoXFxcXFxcXCIvXFxcXFxcXCIpKSB7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwiaHR0cHM6XFxcXFxcXCIgKyBwbGF5O1xcXFxuICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gcGxheTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfSBjYXRjaCAoZSkge1xcXFxuICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwiXFxcXFxcXCI7XFxcXG4gICAgICAgIH1cXFxcbiAgICB9XFxcXG59O1xcXFxuXFxcXG52YXIgZnJvbXMgPSBbJ2R1b2R1b3p5JywgJ3J4JywgJ3JlbnJlbm1pJywgJ2x0bmInLCAneGZ5dW4nXTtcXFxcbmZvcihsZXQgaSBpbiBmcm9tcykge1xcXFxuICAgIGxldCBuYW1lID0gZnJvbXNbaV0gKyBcXFxcXFxcIijpgJrnlKjlh73mlbApXFxcXFxcXCI7XFxcXG4gICAgUGFyc2VTW25hbWVdID0gZnVuY3Rpb24oVXJsLCByZWZlcmVyKXtcXFxcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFBhcnNlKHJlZmVyZXIpO1xcXFxuICAgIH07XFxcXG59XFxcXG5PYmplY3QuYXNzaWduKFBhcnNlUywgb3JpZ2luYWxQYXJzZVMsIE15UGFyc2VTKTtcXFxcbi8v6KaG55uW6aG65bqP77yM56ys5LiJ5Liq6KaG55uW56ys5LqM5Liq54S25ZCO6KaG55uW56ys5LiA5LiqXFxcXG5cXFxcblxcXFxuZnVuY3Rpb24gYXl0bVBhcnNlKHZpcFVybCwgcGFyc2VOYW1lKSB7XFxcXG4gICAgdGhpcy5yZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW0wLCBwYXJhbTEsIHBhcmFtMikge1xcXFxuICAgICAgICBwYXJhbTEgPSBwYXJhbTEgPT0gdW5kZWZpbmVkID8ge30gOiBwYXJhbTE7XFxcXG4gICAgICAgIGlmKGlzTmFOKHBhcmFtMS50aW1lb3V0KSkge1xcXFxuICAgICAgICAgICAgcGFyYW0xLnRpbWVvdXQgPSAzMDAwO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIHBhcmFtMiA9IE1ZX1JVTEU7XFxcXG4gICAgICAgIHZhciByZXRTdHIgPSBtZXRob2RfcmVxdWVzdC5pbnZva2UoamF2YUNvbnRleHQsIHBhcmFtMCwgcGFyYW0xLCBwYXJhbTIpO1xcXFxuICAgICAgICByZXR1cm4gcmV0U3RyID09IG51bGwgPyByZXRTdHIgOiByZXRTdHIgKyBcXFxcXFxcIlxcXFxcXFwiO1xcXFxuICAgIH07XFxcXG4gICAgdGhpcy5mZXRjaCA9IGZ1bmN0aW9uKHBhcmFtMCwgcGFyYW0xLCBwYXJhbTIpIHtcXFxcbiAgICAgICAgcGFyYW0xID0gcGFyYW0xID09IHVuZGVmaW5lZCA/IHt9IDogcGFyYW0xO1xcXFxuICAgICAgICBwYXJhbTEuaGVhZGVycyA9IHBhcmFtMS5oZWFkZXJzID09IHVuZGVmaW5lZCA/IHt9IDogcGFyYW0xLmhlYWRlcnM7XFxcXG4gICAgICAgIHBhcmFtMS5oZWFkZXJzWydVc2VyLUFnZW50J10gPSBQQ19VQTtcXFxcbiAgICAgICAgaWYoaXNOYU4ocGFyYW0xLnRpbWVvdXQpKSB7XFxcXG4gICAgICAgICAgICBwYXJhbTEudGltZW91dCA9IDMwMDA7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgcGFyYW0yID0gTVlfUlVMRTtcXFxcbiAgICAgICAgdmFyIHJldFN0ciA9IG1ldGhvZF9mZXRjaC5pbnZva2UoamF2YUNvbnRleHQsIHBhcmFtMCwgcGFyYW0xLCBwYXJhbTIpO1xcXFxuICAgICAgICByZXR1cm4gcmV0U3RyID09IG51bGwgPyByZXRTdHIgOiByZXRTdHIgKyBcXFxcXFxcIlxcXFxcXFwiO1xcXFxuICAgIH07XFxcXG4gICAgdmFyIGhvc3QgPSB2aXBVcmwubWF0Y2goL1xcXFxcXFxcLiguKj8pXFxcXFxcXFwvLyk7XFxcXG4gICAgaG9zdCA9IGhvc3QgPT0gbnVsbCA/IG51bGwgOiBob3N0WzFdO1xcXFxuICAgIHZhciBub1VybCA9IFxcXFxcXFwidG9hc3Q6Ly/mjqXmlLbliLDnmoTpk77mjqXkuLo6IFxcXFxcXFwiO1xcXFxuICAgIHN3aXRjaCAobXlTZXQucWp1KSB7XFxcXG4gICAgICAgIGNhc2UgXFxcXFxcXCLpu5jorqRcXFxcXFxcIjpcXFxcbiAgICAgICAgICAgIHN3aXRjaCAoaG9zdCkge1xcXFxuICAgICAgICAgICAgICAgIGNhc2UgXFxcXFxcXCJxcS5jb21cXFxcXFxcIjpcXFxcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gbXlTZXQudHg7XFxcXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcXFxuICAgICAgICAgICAgICAgIGNhc2UgXFxcXFxcXCJpcWl5aS5jb21cXFxcXFxcIjpcXFxcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gbXlTZXQucXk7XFxcXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcXFxuICAgICAgICAgICAgICAgIGNhc2UgXFxcXFxcXCJ5b3VrdS5jb21cXFxcXFxcIjpcXFxcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gbXlTZXQueWs7XFxcXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcXFxuICAgICAgICAgICAgICAgIGNhc2UgXFxcXFxcXCJtZ3R2LmNvbVxcXFxcXFwiOlxcXFxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBteVNldC5tZztcXFxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxcXG4gICAgICAgICAgICAgICAgY2FzZSBcXFxcXFxcImJpbGliaWxpLmNvbVxcXFxcXFwiOlxcXFxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBteVNldC5ibDtcXFxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxcXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcXFxcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gaG9zdCA9PSBudWxsID8gbm9VcmwgOiBteVNldC5vdGg7XFxcXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgYnJlYWs7XFxcXG4gICAgICAgIGRlZmF1bHQ6XFxcXG4gICAgICAgICAgICBzdHIgPSBob3N0ID09IG51bGwgPyBub1VybCA6IG15U2V0LnFqdTtcXFxcbiAgICAgICAgICAgIGJyZWFrO1xcXFxuICAgIH1cXFxcbiAgICBpZiAocGFyc2VOYW1lKSB7XFxcXG4gICAgICAgIHN0ciA9IHBhcnNlTmFtZTtcXFxcbiAgICB9XFxcXG4gICAgbGV0IG15Q2hvaWNlID0gc3RyLnNwbGl0KCcsJyk7XFxcXG4gICAgbGV0IGxlbiA9IG15Q2hvaWNlLmxlbmd0aDtcXFxcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XFxcXG4gICAgICAgIGxldCBuYW1lID0gbXlDaG9pY2VbaV07XFxcXG4gICAgICAgIGlmICh0eXBlb2YgUGFyc2VTW25hbWVdID09ICdmdW5jdGlvbicpIHtcXFxcbiAgICAgICAgICAgIGxldCB1cmwgPSBQYXJzZVNbbmFtZV0odmlwVXJsKTtcXFxcbiAgICAgICAgICAgIGxldCBSZWcgPSBuZXcgUmVnRXhwKFxcXFxcXFwibTN1OHxtcDR8XFxcXFxcXCIgKyB2aXBVcmwgKyBcXFxcXFxcInxodHRwXFxcXFxcXCIpO1xcXFxuICAgICAgICAgICAgaWYgKGkgIT0gbGVuIC0gMSAmJiAhUmVnLnRlc3QodXJsKSkge1xcXFxuICAgICAgICAgICAgICAgIGxvZyhuYW1lICsgJ+ino+aekOWksei0pScpO1xcXFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgcmV0dXJuIHRvb2xzLmhhbmRsZVVybCh1cmwsIHZpcFVybCwgbmFtZSk7XFxcXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIFBhcnNlU1tuYW1lXSA9PSAnc3RyaW5nJykge1xcXFxuICAgICAgICAgICAgcmV0dXJuIFBhcnNlUy5kZWZhdWx0UGFyc2UoUGFyc2VTW25hbWVdICsgdmlwVXJsLCB0b29scy5oYW5kbGVVcmwsIG5hbWUpO1xcXFxuICAgICAgICB9IGVsc2Uge1xcXFxuICAgICAgICAgICAgcmV0dXJuIG5hbWUuc3Vic3RyKDAsIDQpID09IFxcXFxcXFwiaHR0cFxcXFxcXFwiIHx8IGhvc3QgPT0gbnVsbCA/IG5hbWUgKyB2aXBVcmwgOiBcXFxcXFxcInRvYXN0Oi8vXFxcXFxcXCIgKyBuYW1lICsgXFxcXFxcXCIg5LiN5piv55u06ZO+5Lmf5LiN5piv5YWN5ZeFXFxcXFxcXCI7XFxcXG4gICAgICAgIH1cXFxcbiAgICB9XFxcXG59O1xcXFxuXFxcXG52YXIgcGxheVBhcnNlID0ge1xcXFxuICAgIHBsYXllclM6IGZ1bmN0aW9uKGp1cmwpIHtcXFxcbiAgICAgICAgdmFyIGh0bWwgPSByZXF1ZXN0KGp1cmwpLFxcXFxuICAgICAgICAgICAgVXJsID0gJycsXFxcXG4gICAgICAgICAgICBmcm9tID0gJyc7XFxcXG4gICAgICAgIHZhciBjb2RlMSA9IGh0bWwubWF0Y2goL3ZhciBwbGF5ZXJfW1xcXFxcXFxcc1xcXFxcXFxcU10qP30vKTtcXFxcbiAgICAgICAgdmFyIGRwVXJsID0gcGRmaChodG1sLCBcXFxcXFxcImlmcmFtZSYmZGF0YS1wbGF5XFxcXFxcXCIpO1xcXFxuICAgICAgICBpZiAoY29kZTEgIT0gbnVsbCkge1xcXFxuICAgICAgICAgICAgZXZhbChjb2RlMVswXS5yZXBsYWNlKC9wbGF5ZXJfLio/ey8sICdwZGF0YT17JykpO1xcXFxuICAgICAgICAgICAgVXJsID0gcGRhdGEudXJsO1xcXFxuICAgICAgICAgICAgZnJvbSA9IHBkYXRhLmZyb207XFxcXG4gICAgICAgIH0gZWxzZSBpZiAoZHBVcmwgIT0gJycpIHtcXFxcbiAgICAgICAgICAgIFVybCA9IGRwVXJsLnN0YXJ0c1dpdGgoXFxcXFxcXCJodHRwXFxcXFxcXCIpID8gZGRwVXJsIDogZHBVcmwuc2xpY2UoMyk7XFxcXG4gICAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgICAgICBjb2RlMiA9IGh0bWwubWF0Y2goL3ZhciBub3dbXFxcXFxcXFxzXFxcXFxcXFxTXSo/dmFyIHBuW1xcXFxcXFxcc1xcXFxcXFxcU10qPzsvKTtcXFxcbiAgICAgICAgICAgIGlmIChjb2RlMiAhPSBudWxsKSB7XFxcXG4gICAgICAgICAgICAgICAgZXZhbChjb2RlMlswXSk7XFxcXG4gICAgICAgICAgICAgICAgVXJsID0gbm93O1xcXFxuICAgICAgICAgICAgICAgIGZyb20gPSBwbjtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBpZiAoVXJsLnN1YnN0cigwLCA4KS5tYXRjaCgvSlQuLkpULi4vKSB8fCBVcmwuc3RhcnRzV2l0aChcXFxcXFxcImFIUjBcXFxcXFxcIikpIHtcXFxcbiAgICAgICAgICAgIFVybCA9IGJhc2U2NERlY29kZShVcmwpO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIGlmIChVcmwuc3Vic3RyKDAsIDgpLm1hdGNoKC8lLi4lLi4vKSkge1xcXFxuICAgICAgICAgICAgVXJsID0gdW5lc2NhcGUoVXJsKTtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBpZiAoZnJvbXMuaW5jbHVkZXMoZnJvbSkpIHtcXFxcbiAgICAgICAgICAgIHZhciBuYW1lID0gZnJvbSArICco6YCa55So5Ye95pWwKSc7XFxcXG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTW25hbWVdKFVybCwganVybCk7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgaWYgKC9odG1sfGJpbGliaWxpLy50ZXN0KFVybCkpIHtcXFxcbiAgICAgICAgICAgIHJldHVybiBheXRtUGFyc2UoVXJsKTtcXFxcbiAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgIHJldHVybiBVcmwuc3RhcnRzV2l0aCgnaHR0cCcpID8gVXJsICsgJyNpc1ZpZGVvPXRydWUjJyA6IFBhcnNlUy5kZWZhdWx0UGFyc2UoanVybCk7XFxcXG4gICAgICAgIH1cXFxcbiAgICB9LFxcXFxuICAgIHBsYXllcl94eDogZnVuY3Rpb24oanVybCkge1xcXFxuICAgICAgICByZXR1cm4gJChqdXJsKS5sYXp5UnVsZSgoKSA9PiB7XFxcXG4gICAgICAgICAgICBldmFsKGZldGNoKEpTT04ucGFyc2UoZmV0Y2goJ2hpa2VyOi8vZmlsZXMvY2FjaGUvTXlQYXJzZVNldC5qc29uJykpLmNqKSk7XFxcXG4gICAgICAgICAgICByZXR1cm4gcGxheVBhcnNlLnBsYXllclMoaW5wdXQpO1xcXFxuICAgICAgICB9KSBcXFxcbiAgICB9XFxcXG59O1xcXFxuXFxcXG5mdW5jdGlvbiBzZXRQYXJzZSgpIHtcXFxcbiAgICB0aGlzLmQgPSBbXTtcXFxcbiAgICByZXF1aXJlKCdodHRwczovL2dpdGVhLmNvbS9BSTk1Ny9IaWtlci9yYXcvbS92L1JvdXRlLmpzJyk7XFxcXG4gICAgUm91dGUuc2V0UGFyc2UoKTtcXFxcbiAgICBzZXRSZXN1bHQoZCk7XFxcXG59XFxcIn1dXCJ9IiwidGl0bGUiOiJNeVBhcnNlUyJ9