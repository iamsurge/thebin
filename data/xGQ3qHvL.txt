#!/usr/bin/perl

use strict;
use warnings;
use LWP::UserAgent;

my $query_bad = {
    query => "chr(112) || chr(113)",
    qtype => "keyword",
    'fi:search_format' => "book",
    locg => 1,
    detail_record_view => 0,
    sort => 'poprel'
};

my $query_good = {
    query => "coelho the spy",
    qtype => "keyword",
    'fi:search_format' => "book",
    locg => 1,
    detail_record_view => 0,
    sort => 'poprel'
};


my $ua = LWP::UserAgent->new();

my $response = $ua->post("https://egdev.cwmars.org/eg/opac/results", $query_good);

print($response->status_line, "\n");
print($response->content);
