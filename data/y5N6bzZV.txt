N, M = map(int, input().split())
A = list(map(int, input().split()))
Q = int(input())

X = {}
for c in range(0, M):
    X[c] = 0

for a in A:
    X[a%M] += 1

for i in range(Q):
    q = input().split()

    if len(q) == 3:
        i, x = int(q[1]), int(q[2])
        old = A[i-1] % M
        X[old] -= 1
        A[i-1] = x
        c = A[i-1] % M
        X[c] += 1
    else:

        x = int(q[1])
        print(X[x])
