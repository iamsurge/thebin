function fram(y)
  while turtle.detect() do
    turtle.dig()
  end
  turtle.digUp()
  turtle.digDown()
  while turtle.forward() == false do
    turtle.dig()
    sleep(1)
  end
  a=a+1
  if y==1 then
    if a==10 then
      turtle.select(16)
      turtle.turnRight()
      turtle.dig()
      while turtle.forward() == false do
          turtle.dig()
          sleep(1)
      end
      turtle.dig()
      while turtle.detect() == true do
          turtle.dig()
          sleep(1)
      end
      turtle.digDown()
      turtle.placeDown()
      turtle.back()
      turtle.turnLeft()
      a=0
    end
  end
end

function check()
	while turtle.getItemCount(slot) ~= 0 do
		slot=slot+1
		if slot == 16 then
			print("Please emty slot 1-15")
			print("Press any key to cont. or e for empty")
			local event, param1 = os.pullEvent("char")
			if param1 == "e" then empty() end
			slot=1
			turtle.select(slot)
		end
	end
	
end

function empty()
	for i=1,15 do
		turtle.select(i)
		turtle.drop()
	end
end

function progress(i)
	print("Step ".. i .." of ".. steps)
end

a=0
steps=100
if (arg[0] ~= nil) then
	if (arg[0] & 10 ~= 0) then
		print("Must be an even ten")
	else
		step=arg[0]
	end
end
slot=1
turtle.select(slot)
for i=1,100 do
  fram(1)
  check()
  progress(i)
end

turtle.turnRight()
a=a-3
for i=1,3 do
  fram()
  check()
end
turtle.turnRight()

for i=1,100 do
  fram(2)
  check()
  progress(i)
end

turtle.turnLeft()

for i=1,3 do
  fram()
  check()
end
turtle.digUp()
turtle.digDown()
turtle.turnLeft()
print("Press any key to empty")
os.pullEvent("char")
empty()