print("Checking for updated script..")
paste_id = "http://pastebin.com/raw.php?i=ME2QnyZg"
pasteContent = http.get(paste_id)
Paste = pasteContent.readAll()
pasteContent.close()

file = fs.open("digTest","r")
contents = file.readAll()
file.close()
if (Paste ~= contents) then
        print("Updating program...")
        shell.run("delete","digTest")
        wFile = fs.open("digTest","w")
        wFile.write(Paste)
        wFile.close()
        sleep(2)
        os.run("digTest")
end

args = {...}
distance = args[1]

if (distance % 4 == 0) then
    print("OK!")
    holes = distance / 4
    rows = distance / 2
    for i=1,rows do
        for i=1,holes do
            turtle.digDown()
            turtle.dig()
            turtle.forward()
            turtle.dig()
            turtle.forward()
            turtle.dig()
            turtle.forward()
            turtle.digDown()
        end
        turtle.turnRight()
        turtle.forward()
        turtle.turnRight()
        turtle.forward()
        for i=1,holes do
            turtle.digDown()
            turtle.dig()
            turtle.forward()
            turtle.dig()
            turtle.forward()
            turtle.dig()
            turtle.forward()
            turtle.dig()
            turtle.digDown()
        end
        turtle.turnLeft()
        turtle.dig()
        turtle.forward()
        turtle.turnLeft()
        turtle.dig()
        turtle.forward()
    end
end
