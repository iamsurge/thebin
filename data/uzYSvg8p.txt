--[[
Thanks for using this script
This script was made by Joriangames/BloxianCode
Want to know how to use this and script explanation? 
Check the video here: https://youtu.be/SIW3Vq-DjZI
]]

local devId = 1337988868 --your devId here
local MS = game:GetService("MarketplaceService")
local players = game:GetService("Players")


local function processReceipt(info)
	
	local plr = players:GetPlayerByUserId(info.PlayerId)
	
	if not plr then
		--player left the game
		return Enum.ProductPurchaseDecision.NotProcessedYet
	end
	
	if plr then
		print("Player bought the product")
		local currentStage = plr:FindFirstChild("leaderstats").Stage.Value
		local newStage = currentStage +1
		
		local char = plr.Character
		char:MoveTo(game.Workspace.Spawns[newStage].Position)
	end
	
	return Enum.ProductPurchaseDecision.PurchaseGranted
end

MS.ProcessReceipt = processReceipt